var fV=Object.create;var Jp=Object.defineProperty;var mV=Object.getOwnPropertyDescriptor;var gV=Object.getOwnPropertyNames;var vV=Object.getPrototypeOf,yV=Object.prototype.hasOwnProperty;var T=(t,e)=>()=>(t&&(e=t(t=0)),e);var W=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ti=(t,e)=>{for(var i in e)Jp(t,i,{get:e[i],enumerable:!0})},V1=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of gV(e))!yV.call(t,n)&&n!==i&&Jp(t,n,{get:()=>e[n],enumerable:!(r=mV(e,n))||r.enumerable});return t};var he=(t,e,i)=>(i=t!=null?fV(vV(t)):{},V1(e||!t||!t.__esModule?Jp(i,"default",{value:t,enumerable:!0}):i,t)),wc=t=>V1(Jp({},"__esModule",{value:!0}),t);function Go(t,e){for(var i in e)t[i]=e[i];return t}function Q1(t){var e=t.parentNode;e&&e.removeChild(t)}function Pt(t,e,i){var r,n,o,l={};for(o in e)o=="key"?r=e[o]:o=="ref"?n=e[o]:l[o]=e[o];if(arguments.length>2&&(l.children=arguments.length>3?_c.call(arguments,2):i),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)l[o]===void 0&&(l[o]=t.defaultProps[o]);return xc(t,l,r,n,null)}function xc(t,e,i,r,n){var o={type:t,props:e,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:n??++Y1};return n==null&&Re.vnode!=null&&Re.vnode(o),o}function ge(){return{current:null}}function ie(t){return t.children}function se(t,e){this.props=t,this.context=e}function Sc(t,e){if(e==null)return t.__?Sc(t.__,t.__.__k.indexOf(t)+1):null;for(var i;e<t.__k.length;e++)if((i=t.__k[e])!=null&&i.__e!=null)return i.__e;return typeof t.type=="function"?Sc(t):null}function e_(t){var e,i;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((i=t.__k[e])!=null&&i.__e!=null){t.__e=t.__c.base=i.__e;break}return e_(t)}}function Fv(t){(!t.__d&&(t.__d=!0)&&xa.push(t)&&!eh.__r++||$1!==Re.debounceRendering)&&(($1=Re.debounceRendering)||X1)(eh)}function eh(){var t,e,i,r,n,o,l,u;for(xa.sort(Lv);t=xa.shift();)t.__d&&(e=xa.length,r=void 0,n=void 0,l=(o=(i=t).__v).__e,(u=i.__P)&&(r=[],(n=Go({},o)).__v=o.__v+1,zv(u,o,n,i.__n,u.ownerSVGElement!==void 0,o.__h!=null?[l]:null,r,l??Sc(o),o.__h),o_(r,o),o.__e!=l&&e_(o)),xa.length>e&&xa.sort(Lv));eh.__r=0}function t_(t,e,i,r,n,o,l,u,c,d){var f,g,v,S,E,_,P,A=r&&r.__k||J1,L=A.length;for(i.__k=[],f=0;f<e.length;f++)if((S=i.__k[f]=(S=e[f])==null||typeof S=="boolean"||typeof S=="function"?null:typeof S=="string"||typeof S=="number"||typeof S=="bigint"?xc(null,S,null,null,S):Array.isArray(S)?xc(ie,{children:S},null,null,null):S.__b>0?xc(S.type,S.props,S.key,S.ref?S.ref:null,S.__v):S)!=null){if(S.__=i,S.__b=i.__b+1,(v=A[f])===null||v&&S.key==v.key&&S.type===v.type)A[f]=void 0;else for(g=0;g<L;g++){if((v=A[g])&&S.key==v.key&&S.type===v.type){A[g]=void 0;break}v=null}zv(t,S,v=v||Qp,n,o,l,u,c,d),E=S.__e,(g=S.ref)&&v.ref!=g&&(P||(P=[]),v.ref&&P.push(v.ref,null,S),P.push(g,S.__c||E,S)),E!=null?(_==null&&(_=E),typeof S.type=="function"&&S.__k===v.__k?S.__d=c=i_(S,c,t):c=r_(t,S,v,A,E,c),typeof i.type=="function"&&(i.__d=c)):c&&v.__e==c&&c.parentNode!=t&&(c=Sc(v))}for(i.__e=_,f=L;f--;)A[f]!=null&&(typeof i.type=="function"&&A[f].__e!=null&&A[f].__e==i.__d&&(i.__d=n_(r).nextSibling),a_(A[f],A[f]));if(P)for(f=0;f<P.length;f++)s_(P[f],P[++f],P[++f])}function i_(t,e,i){for(var r,n=t.__k,o=0;n&&o<n.length;o++)(r=n[o])&&(r.__=t,e=typeof r.type=="function"?i_(r,e,i):r_(i,r,r,n,r.__e,e));return e}function no(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(i){no(i,e)}):e.push(t)),e}function r_(t,e,i,r,n,o){var l,u,c;if(e.__d!==void 0)l=e.__d,e.__d=void 0;else if(i==null||n!=o||n.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(n),l=null;else{for(u=o,c=0;(u=u.nextSibling)&&c<r.length;c+=1)if(u==n)break e;t.insertBefore(n,o),l=o}return l!==void 0?l:n.nextSibling}function n_(t){var e,i,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((i=t.__k[e])&&(r=n_(i)))return r}return null}function wV(t,e,i,r,n){var o;for(o in i)o==="children"||o==="key"||o in e||th(t,o,null,i[o],r);for(o in e)n&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||i[o]===e[o]||th(t,o,e[o],i[o],r)}function j1(t,e,i){e[0]==="-"?t.setProperty(e,i??""):t[e]=i==null?"":typeof i!="number"||bV.test(e)?i:i+"px"}function th(t,e,i,r,n){var o;e:if(e==="style")if(typeof i=="string")t.style.cssText=i;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)i&&e in i||j1(t.style,e,"");if(i)for(e in i)r&&i[e]===r[e]||j1(t.style,e,i[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=i,i?r||t.addEventListener(e,o?K1:G1,o):t.removeEventListener(e,o?K1:G1,o);else if(e!=="dangerouslySetInnerHTML"){if(n)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,i))}}function G1(t){return this.l[t.type+!1](Re.event?Re.event(t):t)}function K1(t){return this.l[t.type+!0](Re.event?Re.event(t):t)}function zv(t,e,i,r,n,o,l,u,c){var d,f,g,v,S,E,_,P,A,L,z,q,H,re,Q,O=e.type;if(e.constructor!==void 0)return null;i.__h!=null&&(c=i.__h,u=e.__e=i.__e,e.__h=null,o=[u]),(d=Re.__b)&&d(e);try{e:if(typeof O=="function"){if(P=e.props,A=(d=O.contextType)&&r[d.__c],L=d?A?A.props.value:d.__:r,i.__c?_=(f=e.__c=i.__c).__=f.__E:("prototype"in O&&O.prototype.render?e.__c=f=new O(P,L):(e.__c=f=new se(P,L),f.constructor=O,f.render=SV),A&&A.sub(f),f.props=P,f.state||(f.state={}),f.context=L,f.__n=r,g=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),O.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Go({},f.__s)),Go(f.__s,O.getDerivedStateFromProps(P,f.__s))),v=f.props,S=f.state,f.__v=e,g)O.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(O.getDerivedStateFromProps==null&&P!==v&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(P,L),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(P,f.__s,L)===!1||e.__v===i.__v){for(e.__v!==i.__v&&(f.props=P,f.state=f.__s,f.__d=!1),f.__e=!1,e.__e=i.__e,e.__k=i.__k,e.__k.forEach(function(ee){ee&&(ee.__=e)}),z=0;z<f._sb.length;z++)f.__h.push(f._sb[z]);f._sb=[],f.__h.length&&l.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(P,f.__s,L),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(v,S,E)})}if(f.context=L,f.props=P,f.__P=t,q=Re.__r,H=0,"prototype"in O&&O.prototype.render){for(f.state=f.__s,f.__d=!1,q&&q(e),d=f.render(f.props,f.state,f.context),re=0;re<f._sb.length;re++)f.__h.push(f._sb[re]);f._sb=[]}else do f.__d=!1,q&&q(e),d=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++H<25);f.state=f.__s,f.getChildContext!=null&&(r=Go(Go({},r),f.getChildContext())),g||f.getSnapshotBeforeUpdate==null||(E=f.getSnapshotBeforeUpdate(v,S)),Q=d!=null&&d.type===ie&&d.key==null?d.props.children:d,t_(t,Array.isArray(Q)?Q:[Q],e,i,r,n,o,l,u,c),f.base=e.__e,e.__h=null,f.__h.length&&l.push(f),_&&(f.__E=f.__=null),f.__e=!1}else o==null&&e.__v===i.__v?(e.__k=i.__k,e.__e=i.__e):e.__e=xV(i.__e,e,i,r,n,o,l,c);(d=Re.diffed)&&d(e)}catch(ee){e.__v=null,(c||o!=null)&&(e.__e=u,e.__h=!!c,o[o.indexOf(u)]=null),Re.__e(ee,e,i)}}function o_(t,e){Re.__c&&Re.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(r){r.call(i)})}catch(r){Re.__e(r,i.__v)}})}function xV(t,e,i,r,n,o,l,u){var c,d,f,g=i.props,v=e.props,S=e.type,E=0;if(S==="svg"&&(n=!0),o!=null){for(;E<o.length;E++)if((c=o[E])&&"setAttribute"in c==!!S&&(S?c.localName===S:c.nodeType===3)){t=c,o[E]=null;break}}if(t==null){if(S===null)return document.createTextNode(v);t=n?document.createElementNS("http://www.w3.org/2000/svg",S):document.createElement(S,v.is&&v),o=null,u=!1}if(S===null)g===v||u&&t.data===v||(t.data=v);else{if(o=o&&_c.call(t.childNodes),d=(g=i.props||Qp).dangerouslySetInnerHTML,f=v.dangerouslySetInnerHTML,!u){if(o!=null)for(g={},E=0;E<t.attributes.length;E++)g[t.attributes[E].name]=t.attributes[E].value;(f||d)&&(f&&(d&&f.__html==d.__html||f.__html===t.innerHTML)||(t.innerHTML=f&&f.__html||""))}if(wV(t,v,g,n,u),f)e.__k=[];else if(E=e.props.children,t_(t,Array.isArray(E)?E:[E],e,i,r,n&&S!=="foreignObject",o,l,o?o[0]:i.__k&&Sc(i,0),u),o!=null)for(E=o.length;E--;)o[E]!=null&&Q1(o[E]);u||("value"in v&&(E=v.value)!==void 0&&(E!==t.value||S==="progress"&&!E||S==="option"&&E!==g.value)&&th(t,"value",E,g.value,!1),"checked"in v&&(E=v.checked)!==void 0&&E!==t.checked&&th(t,"checked",E,g.checked,!1))}return t}function s_(t,e,i){try{typeof t=="function"?t(e):t.current=e}catch(r){Re.__e(r,i)}}function a_(t,e,i){var r,n;if(Re.unmount&&Re.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||s_(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){Re.__e(o,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(n=0;n<r.length;n++)r[n]&&a_(r[n],e,i||typeof t.type!="function");i||t.__e==null||Q1(t.__e),t.__=t.__e=t.__d=void 0}function SV(t,e,i){return this.constructor(t,i)}function xs(t,e,i){var r,n,o;Re.__&&Re.__(t,e),n=(r=typeof i=="function")?null:i&&i.__k||e.__k,o=[],zv(e,t=(!r&&i||e).__k=Pt(ie,null,[t]),n||Qp,Qp,e.ownerSVGElement!==void 0,!r&&i?[i]:n?null:e.firstChild?_c.call(e.childNodes):null,o,!r&&i?i:n?n.__e:e.firstChild,r),o_(o,t)}function Cc(t,e){xs(t,e,Cc)}function l_(t,e,i){var r,n,o,l=Go({},t.props);for(o in e)o=="key"?r=e[o]:o=="ref"?n=e[o]:l[o]=e[o];return arguments.length>2&&(l.children=arguments.length>3?_c.call(arguments,2):i),xc(t.type,l,r||t.key,n||t.ref,null)}function pn(t,e){var i={__c:e="__cC"+Z1++,__:t,Consumer:function(r,n){return r.children(n)},Provider:function(r){var n,o;return this.getChildContext||(n=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&n.some(function(u){u.__e=!0,Fv(u)})},this.sub=function(l){n.push(l);var u=l.componentWillUnmount;l.componentWillUnmount=function(){n.splice(n.indexOf(l),1),u&&u.call(l)}}),r.children}};return i.Provider.__=i.Consumer.contextType=i}var _c,Re,Y1,Ec,xa,$1,X1,Lv,Z1,Qp,J1,bV,_e=T(()=>{Qp={},J1=[],bV=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;_c=J1.slice,Re={__e:function(t,e,i,r){for(var n,o,l;e=e.__;)if((n=e.__c)&&!n.__)try{if((o=n.constructor)&&o.getDerivedStateFromError!=null&&(n.setState(o.getDerivedStateFromError(t)),l=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t,r||{}),l=n.__d),l)return n.__E=n}catch(u){t=u}throw t}},Y1=0,Ec=function(t){return t!=null&&t.constructor===void 0},se.prototype.setState=function(t,e){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Go({},this.state),typeof t=="function"&&(t=t(Go({},i),this.props)),t&&Go(i,t),t!=null&&this.__v&&(e&&this._sb.push(e),Fv(this))},se.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Fv(this))},se.prototype.render=ie,xa=[],X1=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Lv=function(t,e){return t.__v.__b-e.__v.__b},eh.__r=0,Z1=0});function Sa(t,e){Re.__h&&Re.__h(Vt,t,Tl||e),Tl=0;var i=Vt.__H||(Vt.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:ih}),i.__[t]}function _a(t){return Tl=1,Ea(v_,t)}function Ea(t,e,i){var r=Sa(Ss++,2);if(r.t=t,!r.__c&&(r.__=[i?i(e):v_(void 0,e),function(u){var c=r.__N?r.__N[0]:r.__[0],d=r.t(c,u);c!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=Vt,!Vt.u)){var n=function(u,c,d){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(v){return v.__c});if(f.every(function(v){return!v.__N}))return!o||o.call(this,u,c,d);var g=!1;return f.forEach(function(v){if(v.__N){var S=v.__[0];v.__=v.__N,v.__N=void 0,S!==v.__[0]&&(g=!0)}}),!(!g&&r.__c.props===u)&&(!o||o.call(this,u,c,d))};Vt.u=!0;var o=Vt.shouldComponentUpdate,l=Vt.componentWillUpdate;Vt.componentWillUpdate=function(u,c,d){if(this.__e){var f=o;o=void 0,n(u,c,d),o=f}l&&l.call(this,u,c,d)},Vt.shouldComponentUpdate=n}return r.__N||r.__}function Ko(t,e){var i=Sa(Ss++,3);!Re.__s&&Bv(i.__H,e)&&(i.__=t,i.i=e,Vt.__H.__h.push(i))}function oo(t,e){var i=Sa(Ss++,4);!Re.__s&&Bv(i.__H,e)&&(i.__=t,i.i=e,Vt.__h.push(i))}function so(t){return Tl=5,Ii(function(){return{current:t}},[])}function nh(t,e,i){Tl=6,oo(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},i==null?i:i.concat(t))}function Ii(t,e){var i=Sa(Ss++,7);return Bv(i.__H,e)?(i.__V=t(),i.i=e,i.__h=t,i.__V):i.__}function oh(t,e){return Tl=8,Ii(function(){return t},e)}function hn(t){var e=Vt.context[t.__c],i=Sa(Ss++,9);return i.c=t,e?(i.__==null&&(i.__=!0,e.sub(Vt)),e.props.value):t.__}function sh(t,e){Re.useDebugValue&&Re.useDebugValue(e?e(t):t)}function _V(t){var e=Sa(Ss++,10),i=_a();return e.__=t,Vt.componentDidCatch||(Vt.componentDidCatch=function(r,n){e.__&&e.__(r,n),i[1](r)}),[i[0],function(){i[1](void 0)}]}function Uv(){var t=Sa(Ss++,11);if(!t.__){for(var e=Vt.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var i=e.__m||(e.__m=[0,0]);t.__="P"+i[0]+"-"+i[1]++}return t.__}function EV(){for(var t;t=g_.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(rh),t.__H.__h.forEach(Hv),t.__H.__h=[]}catch(e){t.__H.__h=[],Re.__e(e,t.__v)}}function CV(t){var e,i=function(){clearTimeout(r),m_&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(i,100);m_&&(e=requestAnimationFrame(i))}function rh(t){var e=Vt,i=t.__c;typeof i=="function"&&(t.__c=void 0,i()),Vt=e}function Hv(t){var e=Vt;t.__c=t.__(),Vt=e}function Bv(t,e){return!t||t.length!==e.length||e.some(function(i,r){return i!==t[r]})}function v_(t,e){return typeof e=="function"?e(t):e}var Ss,Vt,qv,u_,Tl,g_,ih,c_,d_,p_,h_,f_,m_,Ca=T(()=>{_e();Tl=0,g_=[],ih=[],c_=Re.__b,d_=Re.__r,p_=Re.diffed,h_=Re.__c,f_=Re.unmount;Re.__b=function(t){Vt=null,c_&&c_(t)},Re.__r=function(t){d_&&d_(t),Ss=0;var e=(Vt=t.__c).__H;e&&(qv===Vt?(e.__h=[],Vt.__h=[],e.__.forEach(function(i){i.__N&&(i.__=i.__N),i.__V=ih,i.__N=i.i=void 0})):(e.__h.forEach(rh),e.__h.forEach(Hv),e.__h=[])),qv=Vt},Re.diffed=function(t){p_&&p_(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(g_.push(e)!==1&&u_===Re.requestAnimationFrame||((u_=Re.requestAnimationFrame)||CV)(EV)),e.__H.__.forEach(function(i){i.i&&(i.__H=i.i),i.__V!==ih&&(i.__=i.__V),i.i=void 0,i.__V=ih})),qv=Vt=null},Re.__c=function(t,e){e.some(function(i){try{i.__h.forEach(rh),i.__h=i.__h.filter(function(r){return!r.__||Hv(r)})}catch(r){e.some(function(n){n.__h&&(n.__h=[])}),e=[],Re.__e(r,i.__v)}}),h_&&h_(t,e)},Re.unmount=function(t){f_&&f_(t);var e,i=t.__c;i&&i.__H&&(i.__H.__.forEach(function(r){try{rh(r)}catch(n){e=n}}),i.__H=void 0,e&&Re.__e(e,i.__v))};m_=typeof requestAnimationFrame=="function"});var G_={};ti(G_,{Children:()=>Ic,Component:()=>se,Fragment:()=>ie,PureComponent:()=>_i,StrictMode:()=>B_,Suspense:()=>Pc,SuspenseList:()=>Ml,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>L_,cloneElement:()=>z_,createContext:()=>pn,createElement:()=>Pt,createFactory:()=>F_,createPortal:()=>Ke,createRef:()=>ge,default:()=>Be,findDOMNode:()=>H_,flushSync:()=>U_,forwardRef:()=>fn,hydrate:()=>D_,isValidElement:()=>jv,lazy:()=>N_,memo:()=>A_,render:()=>O_,startTransition:()=>Gv,unmountComponentAtNode:()=>q_,unstable_batchedUpdates:()=>Ac,useCallback:()=>oh,useContext:()=>hn,useDebugValue:()=>sh,useDeferredValue:()=>W_,useEffect:()=>Ko,useErrorBoundary:()=>_V,useId:()=>Uv,useImperativeHandle:()=>nh,useInsertionEffect:()=>$_,useLayoutEffect:()=>oo,useMemo:()=>Ii,useReducer:()=>Ea,useRef:()=>so,useState:()=>_a,useSyncExternalStore:()=>j_,useTransition:()=>V_,version:()=>zV});function I_(t,e){for(var i in e)t[i]=e[i];return t}function Vv(t,e){for(var i in t)if(i!=="__source"&&!(i in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function Wv(t,e){return t===e&&(t!==0||1/t==1/e)||t!=t&&e!=e}function _i(t){this.props=t}function A_(t,e){function i(n){var o=this.props.ref,l=o==n.ref;return!l&&o&&(o.call?o(null):o.current=null),e?!e(this.props,n)||!l:Vv(this.props,n)}function r(n){return this.shouldComponentUpdate=i,Pt(t,n)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}function fn(t){function e(i){var r=I_({},i);return delete r.ref,t(r,i.ref||null)}return e.$$typeof=PV,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}function T_(t,e,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=I_({},t)).__c!=null&&(t.__c.__P===i&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return T_(r,e,i)})),t}function M_(t,e,i){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return M_(r,e,i)}),t.__c&&t.__c.__P===e&&(t.__e&&i.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=i)),t}function Pc(){this.__u=0,this.t=null,this.__b=null}function R_(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function N_(t){var e,i,r;function n(o){if(e||(e=t()).then(function(l){i=l.default||l},function(l){r=l}),r)throw r;if(!i)throw e;return Pt(i,o)}return n.displayName="Lazy",n.__f=!0,n}function Ml(){this.u=null,this.o=null}function AV(t){return this.getChildContext=function(){return t.context},t.children}function TV(t){var e=this,i=t.i;e.componentWillUnmount=function(){xs(null,e.l),e.l=null,e.i=null},e.i&&e.i!==i&&e.componentWillUnmount(),t.__v?(e.l||(e.i=i,e.l={nodeType:1,parentNode:i,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,n){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),xs(Pt(AV,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function Ke(t,e){var i=Pt(TV,{__v:t,i:e});return i.containerInfo=e,i}function O_(t,e,i){return e.__k==null&&(e.textContent=""),xs(t,e),typeof i=="function"&&i(),t?t.__c:null}function D_(t,e,i){return Cc(t,e),typeof i=="function"&&i(),t?t.__c:null}function DV(){}function LV(){return this.cancelBubble}function FV(){return this.defaultPrevented}function F_(t){return Pt.bind(null,t)}function jv(t){return!!t&&t.$$typeof===k_}function z_(t){return jv(t)?l_.apply(null,arguments):t}function q_(t){return!!t.__k&&(xs(null,t),!0)}function H_(t){return t&&(t.base||t.nodeType===1&&t)||null}function Gv(t){t()}function W_(t){return t}function V_(){return[!1,Gv]}function j_(t,e){var i=e(),r=_a({h:{__:i,v:e}}),n=r[0].h,o=r[1];return oo(function(){n.__=i,n.v=e,Wv(n.__,e())||o({h:n})},[t,i,e]),Ko(function(){return Wv(n.__,n.v())||o({h:n}),t(function(){Wv(n.__,n.v())||o({h:n})})},[t]),i}var y_,PV,b_,Ic,IV,w_,x_,k_,MV,RV,NV,kV,OV,S_,$v,__,E_,C_,P_,L_,zV,Ac,U_,B_,$_,Be,We=T(()=>{_e();_e();Ca();Ca();(_i.prototype=new se).isPureReactComponent=!0,_i.prototype.shouldComponentUpdate=function(t,e){return Vv(this.props,t)||Vv(this.state,e)};y_=Re.__b;Re.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),y_&&y_(t)};PV=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;b_=function(t,e){return t==null?null:no(no(t).map(e))},Ic={map:b_,forEach:b_,count:function(t){return t?no(t).length:0},only:function(t){var e=no(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:no},IV=Re.__e;Re.__e=function(t,e,i,r){if(t.then){for(var n,o=e;o=o.__;)if((n=o.__c)&&n.__c)return e.__e==null&&(e.__e=i.__e,e.__k=i.__k),n.__c(t,e)}IV(t,e,i,r)};w_=Re.unmount;Re.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),w_&&w_(t)},(Pc.prototype=new se).__c=function(t,e){var i=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(i);var n=R_(r.__v),o=!1,l=function(){o||(o=!0,i.__R=null,n?n(u):u())};i.__R=l;var u=function(){if(!--r.__u){if(r.state.__a){var d=r.state.__a;r.__v.__k[0]=M_(d,d.__c.__P,d.__c.__O)}var f;for(r.setState({__a:r.__b=null});f=r.t.pop();)f.forceUpdate()}},c=e.__h===!0;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(l,l)},Pc.prototype.componentWillUnmount=function(){this.t=[]},Pc.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=T_(this.__b,i,r.__O=r.__P)}this.__b=null}var n=e.__a&&Pt(ie,null,t.fallback);return n&&(n.__h=null),[Pt(ie,null,e.__a?null:t.children),n]};x_=function(t,e,i){if(++i[1]===i[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(i=t.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;t.u=i=i[2]}};(Ml.prototype=new se).__a=function(t){var e=this,i=R_(e.__v),r=e.o.get(t);return r[0]++,function(n){var o=function(){e.props.revealOrder?(r.push(n),x_(e,t,r)):n()};i?i(o):o()}},Ml.prototype.render=function(t){this.u=null,this.o=new Map;var e=no(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var i=e.length;i--;)this.o.set(e[i],this.u=[1,0,this.u]);return t.children},Ml.prototype.componentDidUpdate=Ml.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,i){x_(t,i,e)})};k_=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,MV=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,RV=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,NV=/[A-Z0-9]/g,kV=typeof document<"u",OV=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};se.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(se.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});S_=Re.event;Re.event=function(t){return S_&&(t=S_(t)),t.persist=DV,t.isPropagationStopped=LV,t.isDefaultPrevented=FV,t.nativeEvent=t};__={configurable:!0,get:function(){return this.class}},E_=Re.vnode;Re.vnode=function(t){var e=t.type,i=t.props,r=i;if(typeof e=="string"){for(var n in r={},i){var o=i[n];if(!(n==="value"&&"defaultValue"in i&&o==null||kV&&n==="children"&&e==="noscript")){var l=n.toLowerCase();n==="defaultValue"&&"value"in i&&i.value==null?n="value":n==="download"&&o===!0?o="":l==="ondoubleclick"?n="ondblclick":l!=="onchange"||e!=="input"&&e!=="textarea"||OV(i.type)?l==="onfocus"?n="onfocusin":l==="onblur"?n="onfocusout":RV.test(n)?n=l:e.indexOf("-")===-1&&MV.test(n)?n=n.replace(NV,"-$&").toLowerCase():o===null&&(o=void 0):l=n="oninput",l==="oninput"&&r[n=l]&&(n="oninputCapture"),r[n]=o}}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=no(i.children).forEach(function(u){u.props.selected=r.value.indexOf(u.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=no(i.children).forEach(function(u){u.props.selected=r.multiple?r.defaultValue.indexOf(u.props.value)!=-1:r.defaultValue==u.props.value})),t.props=r,i.class!=i.className&&(__.enumerable="className"in i,i.className!=null&&(r.class=i.className),Object.defineProperty(r,"className",__))}t.$$typeof=k_,E_&&E_(t)};C_=Re.__r;Re.__r=function(t){C_&&C_(t),$v=t.__c};P_=Re.diffed;Re.diffed=function(t){P_&&P_(t);var e=t.props,i=t.__e;i!=null&&t.type==="textarea"&&"value"in e&&e.value!==i.value&&(i.value=e.value==null?"":e.value),$v=null};L_={ReactCurrentDispatcher:{current:{readContext:function(t){return $v.__n[t.__c].props.value}}}},zV="17.0.2";Ac=function(t,e){return t(e)},U_=function(t,e){return t(e)},B_=ie;$_=oo;Be={useState:_a,useId:Uv,useReducer:Ea,useEffect:Ko,useLayoutEffect:oo,useInsertionEffect:$_,useTransition:V_,useDeferredValue:W_,useSyncExternalStore:j_,startTransition:Gv,useRef:so,useImperativeHandle:nh,useMemo:Ii,useCallback:oh,useContext:hn,useDebugValue:sh,version:"17.0.2",Children:Ic,render:O_,hydrate:D_,unmountComponentAtNode:q_,createPortal:Ke,createElement:Pt,createContext:pn,createFactory:F_,cloneElement:z_,createRef:ge,Fragment:ie,isValidElement:jv,findDOMNode:H_,Component:se,PureComponent:_i,memo:A_,forwardRef:fn,flushSync:U_,unstable_batchedUpdates:Ac,StrictMode:B_,Suspense:Pc,SuspenseList:Ml,lazy:N_,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:L_}});var Y_=W((Yse,K_)=>{"use strict";var qV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";K_.exports=qV});var Q_=W((Xse,J_)=>{"use strict";var HV=Y_();function X_(){}function Z_(){}Z_.resetWarningCache=X_;J_.exports=function(){function t(r,n,o,l,u,c){if(c!==HV){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Z_,resetWarningCache:X_};return i.PropTypes=i,i}});var Kv=W((Qse,eE)=>{eE.exports=Q_()();var Zse,Jse});var mn,_s=T(()=>{We();mn=Be.createContext(null)});function UV(t){t()}var tE,iE,rE,Yv=T(()=>{tE=UV,iE=function(e){return tE=e},rE=function(){return tE}});function BV(){var t=rE(),e=null,i=null;return{clear:function(){e=null,i=null},notify:function(){t(function(){for(var n=e;n;)n.callback(),n=n.next})},get:function(){for(var n=[],o=e;o;)n.push(o),o=o.next;return n},subscribe:function(n){var o=!0,l=i={callback:n,next:null,prev:i};return l.prev?l.prev.next=l:e=l,function(){!o||e===null||(o=!1,l.next?l.next.prev=l.prev:i=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}function Tc(t,e){var i,r=nE;function n(g){return c(),r.subscribe(g)}function o(){r.notify()}function l(){f.onStateChange&&f.onStateChange()}function u(){return!!i}function c(){i||(i=e?e.addNestedSub(l):t.subscribe(l),r=BV())}function d(){i&&(i(),i=void 0,r.clear(),r=nE)}var f={addNestedSub:n,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return r}};return f}var nE,ah=T(()=>{Yv();nE={notify:function(){},get:function(){return[]}}});var Mc,lh=T(()=>{We();Mc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?oo:Ko});function WV(t){var e=t.store,i=t.context,r=t.children,n=Ii(function(){var u=Tc(e);return{store:e,subscription:u}},[e]),o=Ii(function(){return e.getState()},[e]);Mc(function(){var u=n.subscription;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==e.getState()&&u.notifyNestedSubs(),function(){u.tryUnsubscribe(),u.onStateChange=null}},[n,o]);var l=i||mn;return Be.createElement(l.Provider,{value:n},r)}var Xv,oE=T(()=>{We();_s();ah();lh();Xv=WV});function Dt(){return Dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Dt.apply(this,arguments)}var Pa=T(()=>{});function wr(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,o;for(o=0;o<r.length;o++)n=r[o],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}var Rl=T(()=>{});var aE=W(Lt=>{"use strict";var ki=typeof Symbol=="function"&&Symbol.for,Zv=ki?Symbol.for("react.element"):60103,Jv=ki?Symbol.for("react.portal"):60106,uh=ki?Symbol.for("react.fragment"):60107,ch=ki?Symbol.for("react.strict_mode"):60108,dh=ki?Symbol.for("react.profiler"):60114,ph=ki?Symbol.for("react.provider"):60109,hh=ki?Symbol.for("react.context"):60110,Qv=ki?Symbol.for("react.async_mode"):60111,fh=ki?Symbol.for("react.concurrent_mode"):60111,mh=ki?Symbol.for("react.forward_ref"):60112,gh=ki?Symbol.for("react.suspense"):60113,VV=ki?Symbol.for("react.suspense_list"):60120,vh=ki?Symbol.for("react.memo"):60115,yh=ki?Symbol.for("react.lazy"):60116,$V=ki?Symbol.for("react.block"):60121,jV=ki?Symbol.for("react.fundamental"):60117,GV=ki?Symbol.for("react.responder"):60118,KV=ki?Symbol.for("react.scope"):60119;function Xr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Zv:switch(t=t.type,t){case Qv:case fh:case uh:case dh:case ch:case gh:return t;default:switch(t=t&&t.$$typeof,t){case hh:case mh:case yh:case vh:case ph:return t;default:return e}}case Jv:return e}}}function sE(t){return Xr(t)===fh}Lt.AsyncMode=Qv;Lt.ConcurrentMode=fh;Lt.ContextConsumer=hh;Lt.ContextProvider=ph;Lt.Element=Zv;Lt.ForwardRef=mh;Lt.Fragment=uh;Lt.Lazy=yh;Lt.Memo=vh;Lt.Portal=Jv;Lt.Profiler=dh;Lt.StrictMode=ch;Lt.Suspense=gh;Lt.isAsyncMode=function(t){return sE(t)||Xr(t)===Qv};Lt.isConcurrentMode=sE;Lt.isContextConsumer=function(t){return Xr(t)===hh};Lt.isContextProvider=function(t){return Xr(t)===ph};Lt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zv};Lt.isForwardRef=function(t){return Xr(t)===mh};Lt.isFragment=function(t){return Xr(t)===uh};Lt.isLazy=function(t){return Xr(t)===yh};Lt.isMemo=function(t){return Xr(t)===vh};Lt.isPortal=function(t){return Xr(t)===Jv};Lt.isProfiler=function(t){return Xr(t)===dh};Lt.isStrictMode=function(t){return Xr(t)===ch};Lt.isSuspense=function(t){return Xr(t)===gh};Lt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===uh||t===fh||t===dh||t===ch||t===gh||t===VV||typeof t=="object"&&t!==null&&(t.$$typeof===yh||t.$$typeof===vh||t.$$typeof===ph||t.$$typeof===hh||t.$$typeof===mh||t.$$typeof===jV||t.$$typeof===GV||t.$$typeof===KV||t.$$typeof===$V)};Lt.typeOf=Xr});var ey=W((mae,lE)=>{"use strict";lE.exports=aE()});var bh=W((gae,fE)=>{"use strict";var ty=ey(),YV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},XV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ZV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},pE={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},iy={};iy[ty.ForwardRef]=ZV;iy[ty.Memo]=pE;function uE(t){return ty.isMemo(t)?pE:iy[t.$$typeof]||YV}var JV=Object.defineProperty,QV=Object.getOwnPropertyNames,cE=Object.getOwnPropertySymbols,e$=Object.getOwnPropertyDescriptor,t$=Object.getPrototypeOf,dE=Object.prototype;function hE(t,e,i){if(typeof e!="string"){if(dE){var r=t$(e);r&&r!==dE&&hE(t,r,i)}var n=QV(e);cE&&(n=n.concat(cE(e)));for(var o=uE(t),l=uE(e),u=0;u<n.length;++u){var c=n[u];if(!XV[c]&&!(i&&i[c])&&!(l&&l[c])&&!(o&&o[c])){var d=e$(e,c);try{JV(t,c,d)}catch{}}}}return t}fE.exports=hE});var wE=W($t=>{"use strict";var wh=60103,xh=60106,Rc=60107,Nc=60108,kc=60114,Oc=60109,Dc=60110,Lc=60112,Fc=60113,ry=60120,zc=60115,qc=60116,mE=60121,gE=60122,vE=60117,yE=60129,bE=60131;typeof Symbol=="function"&&Symbol.for&&(Oi=Symbol.for,wh=Oi("react.element"),xh=Oi("react.portal"),Rc=Oi("react.fragment"),Nc=Oi("react.strict_mode"),kc=Oi("react.profiler"),Oc=Oi("react.provider"),Dc=Oi("react.context"),Lc=Oi("react.forward_ref"),Fc=Oi("react.suspense"),ry=Oi("react.suspense_list"),zc=Oi("react.memo"),qc=Oi("react.lazy"),mE=Oi("react.block"),gE=Oi("react.server.block"),vE=Oi("react.fundamental"),yE=Oi("react.debug_trace_mode"),bE=Oi("react.legacy_hidden"));var Oi;function On(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wh:switch(t=t.type,t){case Rc:case kc:case Nc:case Fc:case ry:return t;default:switch(t=t&&t.$$typeof,t){case Dc:case Lc:case qc:case zc:case Oc:return t;default:return e}}case xh:return e}}}var i$=Oc,r$=wh,n$=Lc,o$=Rc,s$=qc,a$=zc,l$=xh,u$=kc,c$=Nc,d$=Fc;$t.ContextConsumer=Dc;$t.ContextProvider=i$;$t.Element=r$;$t.ForwardRef=n$;$t.Fragment=o$;$t.Lazy=s$;$t.Memo=a$;$t.Portal=l$;$t.Profiler=u$;$t.StrictMode=c$;$t.Suspense=d$;$t.isAsyncMode=function(){return!1};$t.isConcurrentMode=function(){return!1};$t.isContextConsumer=function(t){return On(t)===Dc};$t.isContextProvider=function(t){return On(t)===Oc};$t.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wh};$t.isForwardRef=function(t){return On(t)===Lc};$t.isFragment=function(t){return On(t)===Rc};$t.isLazy=function(t){return On(t)===qc};$t.isMemo=function(t){return On(t)===zc};$t.isPortal=function(t){return On(t)===xh};$t.isProfiler=function(t){return On(t)===kc};$t.isStrictMode=function(t){return On(t)===Nc};$t.isSuspense=function(t){return On(t)===Fc};$t.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Rc||t===kc||t===yE||t===Nc||t===Fc||t===ry||t===bE||typeof t=="object"&&t!==null&&(t.$$typeof===qc||t.$$typeof===zc||t.$$typeof===Oc||t.$$typeof===Dc||t.$$typeof===Lc||t.$$typeof===vE||t.$$typeof===mE||t[0]===gE)};$t.typeOf=On});var SE=W((yae,xE)=>{"use strict";xE.exports=wE()});function g$(t,e){var i=t[1];return[e.payload,i+1]}function _E(t,e,i){Mc(function(){return t.apply(void 0,e)},i)}function v$(t,e,i,r,n,o,l){t.current=r,e.current=n,i.current=!1,o.current&&(o.current=null,l())}function y$(t,e,i,r,n,o,l,u,c,d){if(t){var f=!1,g=null,v=function(){if(!f){var _=e.getState(),P,A;try{P=r(_,n.current)}catch(L){A=L,g=L}A||(g=null),P===o.current?l.current||c():(o.current=P,u.current=P,l.current=!0,d({type:"STORE_UPDATED",payload:{error:A}}))}};i.onStateChange=v,i.trySubscribe(),v();var S=function(){if(f=!0,i.tryUnsubscribe(),i.onStateChange=null,g)throw g};return S}}function Sh(t,e){e===void 0&&(e={});var i=e,r=i.getDisplayName,n=r===void 0?function(re){return"ConnectAdvanced("+re+")"}:r,o=i.methodName,l=o===void 0?"connectAdvanced":o,u=i.renderCountProp,c=u===void 0?void 0:u,d=i.shouldHandleStateChanges,f=d===void 0?!0:d,g=i.storeKey,v=g===void 0?"store":g,S=i.withRef,E=S===void 0?!1:S,_=i.forwardRef,P=_===void 0?!1:_,A=i.context,L=A===void 0?mn:A,z=wr(i,p$);if(0)var q;var H=L;return function(Q){var O=Q.displayName||Q.name||"Component",ee=n(O),ue=Dt({},z,{getDisplayName:n,methodName:l,renderCountProp:c,shouldHandleStateChanges:f,storeKey:v,displayName:ee,wrappedComponentName:O,WrappedComponent:Q}),J=z.pure;function G(oe){return t(oe.dispatch,ue)}var D=J?Ii:function(oe){return oe()};function V(oe){var $=Ii(function(){var Jt=oe.reactReduxForwardedRef,Co=wr(oe,h$);return[oe.context,Jt,Co]},[oe]),U=$[0],X=$[1],te=$[2],ce=Ii(function(){return U&&U.Consumer&&(0,EE.isContextConsumer)(Be.createElement(U.Consumer,null))?U:H},[U,H]),fe=hn(ce),me=!!oe.store&&!!oe.store.getState&&!!oe.store.dispatch,Ae=!!fe&&!!fe.store,Ie=me?oe.store:fe.store,Oe=Ii(function(){return G(Ie)},[Ie]),ze=Ii(function(){if(!f)return m$;var Jt=Tc(Ie,me?null:fe.subscription),Co=Jt.notifyNestedSubs.bind(Jt);return[Jt,Co]},[Ie,me,fe]),at=ze[0],$e=ze[1],ot=Ii(function(){return me?fe:Dt({},fe,{subscription:at})},[me,fe,at]),Ee=Ea(g$,f$,b$),ct=Ee[0],ut=ct[0],je=Ee[1];if(ut&&ut.error)throw ut.error;var Ge=so(),jt=so(te),Bt=so(),_t=so(!1),zt=D(function(){return Bt.current&&te===jt.current?Bt.current:Oe(Ie.getState(),te)},[Ie,ut,te]);_E(v$,[jt,Ge,_t,te,zt,Bt,$e]),_E(y$,[f,Ie,at,Oe,jt,Ge,_t,Bt,$e,je],[Ie,at,Oe]);var st=Ii(function(){return Be.createElement(Q,Dt({},zt,{ref:X}))},[X,Q,zt]),Wi=Ii(function(){return f?Be.createElement(ce.Provider,{value:ot},st):st},[ce,st,ot]);return Wi}var K=J?Be.memo(V):V;if(K.WrappedComponent=Q,K.displayName=V.displayName=ee,P){var Y=Be.forwardRef(function($,U){return Be.createElement(K,Dt({},$,{reactReduxForwardedRef:U}))});return Y.displayName=ee,Y.WrappedComponent=Q,(0,ny.default)(Y,Q)}return(0,ny.default)(K,Q)}}var ny,EE,p$,h$,f$,m$,b$,oy=T(()=>{Pa();Rl();ny=he(bh());We();EE=he(SE());ah();lh();_s();p$=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],h$=["reactReduxForwardedRef"],f$=[],m$=[null,null];b$=function(){return[null,0]}});function CE(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Nl(t,e){if(CE(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(var n=0;n<i.length;n++)if(!Object.prototype.hasOwnProperty.call(e,i[n])||!CE(t[i[n]],e[i[n]]))return!1;return!0}var sy=T(()=>{});function ay(t,e){var i={},r=function(l){var u=t[l];typeof u=="function"&&(i[l]=function(){return e(u.apply(void 0,arguments))})};for(var n in t)r(n);return i}var PE=T(()=>{});var IE=T(()=>{});var ly=T(()=>{});var uy=T(()=>{IE();ly()});function Hc(t){return function(i,r){var n=t(i,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function AE(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function _h(t,e){return function(r,n){var o=n.displayName,l=function(c,d){return l.dependsOnOwnProps?l.mapToProps(c,d):l.mapToProps(c)};return l.dependsOnOwnProps=!0,l.mapToProps=function(c,d){l.mapToProps=t,l.dependsOnOwnProps=AE(t);var f=l(c,d);return typeof f=="function"&&(l.mapToProps=f,l.dependsOnOwnProps=AE(f),f=l(c,d)),f},l}}var cy=T(()=>{uy()});function x$(t){return typeof t=="function"?_h(t,"mapDispatchToProps"):void 0}function S$(t){return t?void 0:Hc(function(e){return{dispatch:e}})}function _$(t){return t&&typeof t=="object"?Hc(function(e){return ay(t,e)}):void 0}var TE,ME=T(()=>{PE();cy();TE=[x$,S$,_$]});function E$(t){return typeof t=="function"?_h(t,"mapStateToProps"):void 0}function C$(t){return t?void 0:Hc(function(){return{}})}var RE,NE=T(()=>{cy();RE=[E$,C$]});function P$(t,e,i){return Dt({},i,t,e)}function I$(t){return function(i,r){var n=r.displayName,o=r.pure,l=r.areMergedPropsEqual,u=!1,c;return function(f,g,v){var S=t(f,g,v);return u?(!o||!l(S,c))&&(c=S):(u=!0,c=S),c}}}function A$(t){return typeof t=="function"?I$(t):void 0}function T$(t){return t?void 0:function(){return P$}}var kE,OE=T(()=>{Pa();uy();kE=[A$,T$]});var DE=T(()=>{ly()});function R$(t,e,i,r){return function(o,l){return i(t(o,l),e(r,l),l)}}function N$(t,e,i,r,n){var o=n.areStatesEqual,l=n.areOwnPropsEqual,u=n.areStatePropsEqual,c=!1,d,f,g,v,S;function E(z,q){return d=z,f=q,g=t(d,f),v=e(r,f),S=i(g,v,f),c=!0,S}function _(){return g=t(d,f),e.dependsOnOwnProps&&(v=e(r,f)),S=i(g,v,f),S}function P(){return t.dependsOnOwnProps&&(g=t(d,f)),e.dependsOnOwnProps&&(v=e(r,f)),S=i(g,v,f),S}function A(){var z=t(d,f),q=!u(z,g);return g=z,q&&(S=i(g,v,f)),S}function L(z,q){var H=!l(q,f),re=!o(z,d,q,f);return d=z,f=q,H&&re?_():H?P():re?A():S}return function(q,H){return c?L(q,H):E(q,H)}}function dy(t,e){var i=e.initMapStateToProps,r=e.initMapDispatchToProps,n=e.initMergeProps,o=wr(e,M$),l=i(t,o),u=r(t,o),c=n(t,o),d=o.pure?N$:R$;return d(l,u,c,t,o)}var M$,LE=T(()=>{Rl();DE();M$=["initMapStateToProps","initMapDispatchToProps","initMergeProps"]});function py(t,e,i){for(var r=e.length-1;r>=0;r--){var n=e[r](t);if(n)return n}return function(o,l){throw new Error("Invalid value of type "+typeof t+" for "+i+" argument when connecting component "+l.wrappedComponentName+".")}}function O$(t,e){return t===e}function D$(t){var e=t===void 0?{}:t,i=e.connectHOC,r=i===void 0?Sh:i,n=e.mapStateToPropsFactories,o=n===void 0?RE:n,l=e.mapDispatchToPropsFactories,u=l===void 0?TE:l,c=e.mergePropsFactories,d=c===void 0?kE:c,f=e.selectorFactory,g=f===void 0?dy:f;return function(S,E,_,P){P===void 0&&(P={});var A=P,L=A.pure,z=L===void 0?!0:L,q=A.areStatesEqual,H=q===void 0?O$:q,re=A.areOwnPropsEqual,Q=re===void 0?Nl:re,O=A.areStatePropsEqual,ee=O===void 0?Nl:O,ue=A.areMergedPropsEqual,J=ue===void 0?Nl:ue,G=wr(A,k$),D=py(S,o,"mapStateToProps"),V=py(E,u,"mapDispatchToProps"),K=py(_,d,"mergeProps");return r(g,Dt({methodName:"connect",getDisplayName:function(oe){return"Connect("+oe+")"},shouldHandleStateChanges:!!S,initMapStateToProps:D,initMapDispatchToProps:V,initMergeProps:K,pure:z,areStatesEqual:H,areOwnPropsEqual:Q,areStatePropsEqual:ee,areMergedPropsEqual:J},G))}}var k$,De,FE=T(()=>{Pa();Rl();oy();sy();ME();NE();OE();LE();k$=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];De=D$()});function hy(){var t=hn(mn);return t}var fy=T(()=>{We();_s()});function my(t){t===void 0&&(t=mn);var e=t===mn?hy:function(){return hn(t)};return function(){var r=e(),n=r.store;return n}}var Eh,gy=T(()=>{We();_s();fy();Eh=my()});var zE=T(()=>{_s();gy()});var qE=T(()=>{We();fy();ah();lh();_s()});var HE=T(()=>{oE();oy();_s();FE();zE();qE();gy();sy()});var UE=T(()=>{We()});var ht=T(()=>{HE();UE();Yv();iE(Ac)});var Ch=W(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.frontloadConnect=Aa.Frontload=void 0;var vy=function(){function t(e,i){for(var r=0;r<i.length;r++){var n=i[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();Aa.frontloadServerRender=j$;var L$=(We(),wc(G_)),Uc=WE(L$),F$=Kv(),BE=WE(F$);function WE(t){return t&&t.__esModule?t:{default:t}}function VE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $E(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function jE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var z$=function(){return typeof window>"u"||!window.document||!window.document.createElement},q$=z$(),kl=[],Ia={MOUNT:0,UPDATE:1},H$=!1,GE=function(e,i){for(var r=[],n=0;n<e.length;n++)r.push(i(e[n],n));return r};function U$(t,e){var i=e.withLogging,r=e.continueRenderingOnError,n=void 0;return Promise.all(GE(t,function(o){return o.catch(function(l){return n||(n=l),i&&H$("frontloadServerRender info","ERROR:",l),l})})).then(function(){if(r!==!0&&n)throw n})}var B$=Aa.Frontload=function(t){jE(e,t),vy(e,[{key:"getChildContext",value:function(){var r=this;return{frontload:{isServer:this.isServer,firstClientRenderDone:this.isServer?!0:this.firstClientRenderDone,pushFrontload:function(o,l,u,c,d){var f=u===Ia.MOUNT,g=u===Ia.UPDATE,v=r.props.noServerRender||l.noServerRender;r.isServer&&v||f&&l.onMount===!1||g&&!l.onUpdate||(r.isServer?kl.unshift({fn:function(){return o(c,{isMount:f,isUpdate:g})},options:l,componentDisplayName:c.displayName}):(v||r.firstClientRenderDone)&&o(c,{isMount:f,isUpdate:g}))}}}}}]);function e(i,r){VE(this,e);var n=$E(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,r));return n.isServer=i.isServer===void 0?q$:i.isServer,n.componentDidMount=function(){n.firstClientRenderDone=!0},n}return vy(e,[{key:"render",value:function(){return Uc.default.Children.only(this.props.children)}}]),e}(Uc.default.Component);B$.childContextTypes={frontload:BE.default.object};var KE=function(t){jE(e,t);function e(i,r){VE(this,e);var n=$E(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,r));return n.pushFrontload=function(o){return function(l){if(o===Ia.UPDATE){var u=n.props.options._experimental_updateFunc;if(u&&!u(l.componentProps,n.props.componentProps))return}var c="for component: ["+(n.props.component.displayName||"anonymous")+"] on ["+(o===Ia.MOUNT?"mount":"update")+"]";n.context.frontload.pushFrontload(n.props.frontload,n.props.options,o,n.props.componentProps,c)}},r.frontload.isServer?n.componentWillMount=n.pushFrontload(Ia.MOUNT):(n.componentDidMount=n.pushFrontload(Ia.MOUNT),n.componentDidUpdate=n.pushFrontload(Ia.UPDATE)),n}return vy(e,[{key:"render",value:function(){return Uc.default.createElement(this.props.component,this.props.componentProps)}}]),e}(Uc.default.Component);KE.contextTypes={frontload:BE.default.object};var Wle=Aa.frontloadConnect=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(r){return function(n){return Uc.default.createElement(KE,{frontload:e,component:r,componentProps:n,options:i})}}};function W$(t){t(!0);var e=kl;return kl=[],e}function V$(t,e){return U$(GE(t,function(i){return i.fn()}),e)}function $$(t){var e=t(!1);return kl=[],e}function YE(t,e){var i=e.withLogging,r=e.maxNestedFrontloadComponents,n=e.continueRenderingOnError,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=W$(t),c=u.length+0,d=c-l;if(!d){var f=$$(t);return Promise.resolve(f)}var g=i&&Date.now();return V$(u,{withLogging:i,continueRenderingOnError:n}).then(function(){if(o===r){var v=t(!1),S=kl.length+0,E=S-c;return kl=[],v}return YE(t,{withLogging:i,maxNestedFrontloadComponents:r,continueRenderingOnError:n},o+1,c)})}function j$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.maxNestedFrontloadComponents||(e.maxNestedFrontloadComponents=1),YE(t,e)}});function Bc(t,e){return Bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Bc(t,e)}var XE=T(()=>{});function Nr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Bc(t,e)}var Ph=T(()=>{XE()});function Ih(t){return t.charAt(0)==="/"}function yy(t,e){for(var i=e,r=i+1,n=t.length;r<n;i+=1,r+=1)t[i]=t[r];t.pop()}function G$(t,e){e===void 0&&(e="");var i=t&&t.split("/")||[],r=e&&e.split("/")||[],n=t&&Ih(t),o=e&&Ih(e),l=n||o;if(t&&Ih(t)?r=i:i.length&&(r.pop(),r=r.concat(i)),!r.length)return"/";var u;if(r.length){var c=r[r.length-1];u=c==="."||c===".."||c===""}else u=!1;for(var d=0,f=r.length;f>=0;f--){var g=r[f];g==="."?yy(r,f):g===".."?(yy(r,f),d++):d&&(yy(r,f),d--)}if(!l)for(;d--;d)r.unshift("..");l&&r[0]!==""&&(!r[0]||!Ih(r[0]))&&r.unshift("");var v=r.join("/");return u&&v.substr(-1)!=="/"&&(v+="/"),v}var ZE,JE=T(()=>{ZE=G$});var QE=T(()=>{});function Y$(t,e){if(!K$){if(t)return;var i="Warning: "+e;typeof console<"u"&&console.warn(i);try{throw Error(i)}catch{}}}var K$,by,eC=T(()=>{K$=!0;by=Y$});function Dn(t,e){if(!t){if(X$)throw new Error(wy);var i=typeof e=="function"?e():e,r=i?"".concat(wy,": ").concat(i):wy;throw new Error(r)}}var X$,wy,Ah=T(()=>{X$=!0,wy="Invariant failed"});function Vc(t){return t.charAt(0)==="/"?t:"/"+t}function tC(t){return t.charAt(0)==="/"?t.substr(1):t}function Z$(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function aC(t,e){return Z$(t,e)?t.substr(e.length):t}function lC(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function J$(t){var e=t||"/",i="",r="",n=e.indexOf("#");n!==-1&&(r=e.substr(n),e=e.substr(0,n));var o=e.indexOf("?");return o!==-1&&(i=e.substr(o),e=e.substr(0,o)),{pathname:e,search:i==="?"?"":i,hash:r==="#"?"":r}}function sr(t){var e=t.pathname,i=t.search,r=t.hash,n=e||"/";return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function xr(t,e,i,r){var n;typeof t=="string"?(n=J$(t),n.state=e):(n=Dt({},t),n.pathname===void 0&&(n.pathname=""),n.search?n.search.charAt(0)!=="?"&&(n.search="?"+n.search):n.search="",n.hash?n.hash.charAt(0)!=="#"&&(n.hash="#"+n.hash):n.hash="",e!==void 0&&n.state===void 0&&(n.state=e));try{n.pathname=decodeURI(n.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+n.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return i&&(n.key=i),r?n.pathname?n.pathname.charAt(0)!=="/"&&(n.pathname=ZE(n.pathname,r.pathname)):n.pathname=r.pathname:n.pathname||(n.pathname="/"),n}function Sy(){var t=null;function e(l){return t=l,function(){t===l&&(t=null)}}function i(l,u,c,d){if(t!=null){var f=typeof t=="function"?t(l,u):t;typeof f=="string"?typeof c=="function"?c(f,d):d(!0):d(f!==!1)}else d(!0)}var r=[];function n(l){var u=!0;function c(){u&&l.apply(void 0,arguments)}return r.push(c),function(){u=!1,r=r.filter(function(d){return d!==c})}}function o(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];r.forEach(function(d){return d.apply(void 0,u)})}return{setPrompt:e,confirmTransitionTo:i,appendListener:n,notifyListeners:o}}function cC(t,e){e(window.confirm(t))}function Q$(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function e6(){return window.navigator.userAgent.indexOf("Trident")===-1}function t6(){return window.navigator.userAgent.indexOf("Firefox")===-1}function i6(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}function nC(){try{return window.history.state||{}}catch{return{}}}function Th(t){t===void 0&&(t={}),uC||Dn(!1);var e=window.history,i=Q$(),r=!e6(),n=t,o=n.forceRefresh,l=o===void 0?!1:o,u=n.getUserConfirmation,c=u===void 0?cC:u,d=n.keyLength,f=d===void 0?6:d,g=t.basename?lC(Vc(t.basename)):"";function v(U){var X=U||{},te=X.key,ce=X.state,fe=window.location,me=fe.pathname,Ae=fe.search,Ie=fe.hash,Oe=me+Ae+Ie;return g&&(Oe=aC(Oe,g)),xr(Oe,ce,te)}function S(){return Math.random().toString(36).substr(2,f)}var E=Sy();function _(U){Dt($,U),$.length=e.length,E.notifyListeners($.location,$.action)}function P(U){i6(U)||z(v(U.state))}function A(){z(v(nC()))}var L=!1;function z(U){if(L)L=!1,_();else{var X="POP";E.confirmTransitionTo(U,X,c,function(te){te?_({action:X,location:U}):q(U)})}}function q(U){var X=$.location,te=re.indexOf(X.key);te===-1&&(te=0);var ce=re.indexOf(U.key);ce===-1&&(ce=0);var fe=te-ce;fe&&(L=!0,ue(fe))}var H=v(nC()),re=[H.key];function Q(U){return g+sr(U)}function O(U,X){var te="PUSH",ce=xr(U,X,S(),$.location);E.confirmTransitionTo(ce,te,c,function(fe){if(fe){var me=Q(ce),Ae=ce.key,Ie=ce.state;if(i)if(e.pushState({key:Ae,state:Ie},null,me),l)window.location.href=me;else{var Oe=re.indexOf($.location.key),ze=re.slice(0,Oe+1);ze.push(ce.key),re=ze,_({action:te,location:ce})}else window.location.href=me}})}function ee(U,X){var te="REPLACE",ce=xr(U,X,S(),$.location);E.confirmTransitionTo(ce,te,c,function(fe){if(fe){var me=Q(ce),Ae=ce.key,Ie=ce.state;if(i)if(e.replaceState({key:Ae,state:Ie},null,me),l)window.location.replace(me);else{var Oe=re.indexOf($.location.key);Oe!==-1&&(re[Oe]=ce.key),_({action:te,location:ce})}else window.location.replace(me)}})}function ue(U){e.go(U)}function J(){ue(-1)}function G(){ue(1)}var D=0;function V(U){D+=U,D===1&&U===1?(window.addEventListener(iC,P),r&&window.addEventListener(rC,A)):D===0&&(window.removeEventListener(iC,P),r&&window.removeEventListener(rC,A))}var K=!1;function Y(U){U===void 0&&(U=!1);var X=E.setPrompt(U);return K||(V(1),K=!0),function(){return K&&(K=!1,V(-1)),X()}}function oe(U){var X=E.appendListener(U);return V(1),function(){V(-1),X()}}var $={length:e.length,action:"POP",location:H,createHref:Q,push:O,replace:ee,go:ue,goBack:J,goForward:G,block:Y,listen:oe};return $}function dC(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Wc(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function n6(t){window.location.hash=t}function xy(t){window.location.replace(dC(window.location.href)+"#"+t)}function pC(t){t===void 0&&(t={}),uC||Dn(!1);var e=window.history,i=t6(),r=t,n=r.getUserConfirmation,o=n===void 0?cC:n,l=r.hashType,u=l===void 0?"slash":l,c=t.basename?lC(Vc(t.basename)):"",d=r6[u],f=d.encodePath,g=d.decodePath;function v(){var te=g(Wc());return c&&(te=aC(te,c)),xr(te)}var S=Sy();function E(te){Dt(X,te),X.length=e.length,S.notifyListeners(X.location,X.action)}var _=!1,P=null;function A(te,ce){return te.pathname===ce.pathname&&te.search===ce.search&&te.hash===ce.hash}function L(){var te=Wc(),ce=f(te);if(te!==ce)xy(ce);else{var fe=v(),me=X.location;if(!_&&A(me,fe)||P===sr(fe))return;P=null,z(fe)}}function z(te){if(_)_=!1,E();else{var ce="POP";S.confirmTransitionTo(te,ce,o,function(fe){fe?E({action:ce,location:te}):q(te)})}}function q(te){var ce=X.location,fe=O.lastIndexOf(sr(ce));fe===-1&&(fe=0);var me=O.lastIndexOf(sr(te));me===-1&&(me=0);var Ae=fe-me;Ae&&(_=!0,G(Ae))}var H=Wc(),re=f(H);H!==re&&xy(re);var Q=v(),O=[sr(Q)];function ee(te){var ce=document.querySelector("base"),fe="";return ce&&ce.getAttribute("href")&&(fe=dC(window.location.href)),fe+"#"+f(c+sr(te))}function ue(te,ce){var fe="PUSH",me=xr(te,void 0,void 0,X.location);S.confirmTransitionTo(me,fe,o,function(Ae){if(Ae){var Ie=sr(me),Oe=f(c+Ie),ze=Wc()!==Oe;if(ze){P=Ie,n6(Oe);var at=O.lastIndexOf(sr(X.location)),$e=O.slice(0,at+1);$e.push(Ie),O=$e,E({action:fe,location:me})}else E()}})}function J(te,ce){var fe="REPLACE",me=xr(te,void 0,void 0,X.location);S.confirmTransitionTo(me,fe,o,function(Ae){if(Ae){var Ie=sr(me),Oe=f(c+Ie),ze=Wc()!==Oe;ze&&(P=Ie,xy(Oe));var at=O.indexOf(sr(X.location));at!==-1&&(O[at]=Ie),E({action:fe,location:me})}})}function G(te){e.go(te)}function D(){G(-1)}function V(){G(1)}var K=0;function Y(te){K+=te,K===1&&te===1?window.addEventListener(oC,L):K===0&&window.removeEventListener(oC,L)}var oe=!1;function $(te){te===void 0&&(te=!1);var ce=S.setPrompt(te);return oe||(Y(1),oe=!0),function(){return oe&&(oe=!1,Y(-1)),ce()}}function U(te){var ce=S.appendListener(te);return Y(1),function(){Y(-1),ce()}}var X={length:e.length,action:"POP",location:Q,createHref:ee,push:ue,replace:J,go:G,goBack:D,goForward:V,block:$,listen:U};return X}function sC(t,e,i){return Math.min(Math.max(t,e),i)}function hC(t){t===void 0&&(t={});var e=t,i=e.getUserConfirmation,r=e.initialEntries,n=r===void 0?["/"]:r,o=e.initialIndex,l=o===void 0?0:o,u=e.keyLength,c=u===void 0?6:u,d=Sy();function f(O){Dt(Q,O),Q.length=Q.entries.length,d.notifyListeners(Q.location,Q.action)}function g(){return Math.random().toString(36).substr(2,c)}var v=sC(l,0,n.length-1),S=n.map(function(O){return typeof O=="string"?xr(O,void 0,g()):xr(O,void 0,O.key||g())}),E=sr;function _(O,ee){var ue="PUSH",J=xr(O,ee,g(),Q.location);d.confirmTransitionTo(J,ue,i,function(G){if(G){var D=Q.index,V=D+1,K=Q.entries.slice(0);K.length>V?K.splice(V,K.length-V,J):K.push(J),f({action:ue,location:J,index:V,entries:K})}})}function P(O,ee){var ue="REPLACE",J=xr(O,ee,g(),Q.location);d.confirmTransitionTo(J,ue,i,function(G){G&&(Q.entries[Q.index]=J,f({action:ue,location:J}))})}function A(O){var ee=sC(Q.index+O,0,Q.entries.length-1),ue="POP",J=Q.entries[ee];d.confirmTransitionTo(J,ue,i,function(G){G?f({action:ue,location:J,index:ee}):f()})}function L(){A(-1)}function z(){A(1)}function q(O){var ee=Q.index+O;return ee>=0&&ee<Q.entries.length}function H(O){return O===void 0&&(O=!1),d.setPrompt(O)}function re(O){return d.appendListener(O)}var Q={length:S.length,action:"POP",location:S[v],index:v,entries:S,createHref:E,push:_,replace:P,go:A,goBack:L,goForward:z,canGo:q,block:H,listen:re};return Q}var uC,iC,rC,oC,r6,Mh=T(()=>{Pa();JE();QE();Ah();uC=!!(typeof window<"u"&&window.document&&window.document.createElement);iC="popstate",rC="hashchange";oC="hashchange",r6={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+tC(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:tC,decodePath:Vc},slash:{encodePath:Vc,decodePath:Vc}}});function o6(){var t="__global_unique_id__";return fC[t]=(fC[t]||0)+1}function s6(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function a6(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(n){return n!==r})},get:function(){return t},set:function(r,n){t=r,e.forEach(function(o){return o(t,n)})}}}function l6(t){return Array.isArray(t)?t[0]:t}function u6(t,e){var i,r,n="__create-react-context-"+o6()+"__",o=function(u){Nr(c,u);function c(){var f;return f=u.apply(this,arguments)||this,f.emitter=a6(f.props.value),f}var d=c.prototype;return d.getChildContext=function(){var g;return g={},g[n]=this.emitter,g},d.componentWillReceiveProps=function(g){if(this.props.value!==g.value){var v=this.props.value,S=g.value,E;s6(v,S)?E=0:(E=typeof e=="function"?e(v,S):_y,E|=0,E!==0&&this.emitter.set(g.value,E))}},d.render=function(){return this.props.children},c}(se);o.childContextTypes=(i={},i[n]=Ey.default.object.isRequired,i);var l=function(u){Nr(c,u);function c(){var f;return f=u.apply(this,arguments)||this,f.state={value:f.getValue()},f.onUpdate=function(g,v){var S=f.observedBits|0;S&v&&f.setState({value:f.getValue()})},f}var d=c.prototype;return d.componentWillReceiveProps=function(g){var v=g.observedBits;this.observedBits=v??_y},d.componentDidMount=function(){this.context[n]&&this.context[n].on(this.onUpdate);var g=this.props.observedBits;this.observedBits=g??_y},d.componentWillUnmount=function(){this.context[n]&&this.context[n].off(this.onUpdate)},d.getValue=function(){return this.context[n]?this.context[n].get():t},d.render=function(){return l6(this.props.children)(this.state.value)},c}(se);return l.contextTypes=(r={},r[n]=Ey.default.object,r),{Provider:o,Consumer:l}}var Ey,_y,fC,c6,mC,gC=T(()=>{We();Ph();Ey=he(Kv()),_y=1073741823,fC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};c6=Be.createContext||u6,mC=c6});var yC=W((aue,vC)=>{vC.exports=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"}});var SC=W((lue,Ol)=>{var Nh=yC();Ol.exports=xC;Ol.exports.parse=Cy;Ol.exports.compile=p6;Ol.exports.tokensToFunction=bC;Ol.exports.tokensToRegExp=wC;var d6=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Cy(t,e){for(var i=[],r=0,n=0,o="",l=e&&e.delimiter||"/",u;(u=d6.exec(t))!=null;){var c=u[0],d=u[1],f=u.index;if(o+=t.slice(n,f),n=f+c.length,d){o+=d[1];continue}var g=t[n],v=u[2],S=u[3],E=u[4],_=u[5],P=u[6],A=u[7];o&&(i.push(o),o="");var L=v!=null&&g!=null&&g!==v,z=P==="+"||P==="*",q=P==="?"||P==="*",H=u[2]||l,re=E||_;i.push({name:S||r++,prefix:v||"",delimiter:H,optional:q,repeat:z,partial:L,asterisk:!!A,pattern:re?m6(re):A?".*":"[^"+Rh(H)+"]+?"})}return n<t.length&&(o+=t.substr(n)),o&&i.push(o),i}function p6(t,e){return bC(Cy(t,e),e)}function h6(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function f6(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function bC(t,e){for(var i=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(i[r]=new RegExp("^(?:"+t[r].pattern+")$",Iy(e)));return function(n,o){for(var l="",u=n||{},c=o||{},d=c.pretty?h6:encodeURIComponent,f=0;f<t.length;f++){var g=t[f];if(typeof g=="string"){l+=g;continue}var v=u[g.name],S;if(v==null)if(g.optional){g.partial&&(l+=g.prefix);continue}else throw new TypeError('Expected "'+g.name+'" to be defined');if(Nh(v)){if(!g.repeat)throw new TypeError('Expected "'+g.name+'" to not repeat, but received `'+JSON.stringify(v)+"`");if(v.length===0){if(g.optional)continue;throw new TypeError('Expected "'+g.name+'" to not be empty')}for(var E=0;E<v.length;E++){if(S=d(v[E]),!i[f].test(S))throw new TypeError('Expected all "'+g.name+'" to match "'+g.pattern+'", but received `'+JSON.stringify(S)+"`");l+=(E===0?g.prefix:g.delimiter)+S}continue}if(S=g.asterisk?f6(v):d(v),!i[f].test(S))throw new TypeError('Expected "'+g.name+'" to match "'+g.pattern+'", but received "'+S+'"');l+=g.prefix+S}return l}}function Rh(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function m6(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function Py(t,e){return t.keys=e,t}function Iy(t){return t&&t.sensitive?"":"i"}function g6(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var r=0;r<i.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Py(t,e)}function v6(t,e,i){for(var r=[],n=0;n<t.length;n++)r.push(xC(t[n],e,i).source);var o=new RegExp("(?:"+r.join("|")+")",Iy(i));return Py(o,e)}function y6(t,e,i){return wC(Cy(t,i),e,i)}function wC(t,e,i){Nh(e)||(i=e||i,e=[]),i=i||{};for(var r=i.strict,n=i.end!==!1,o="",l=0;l<t.length;l++){var u=t[l];if(typeof u=="string")o+=Rh(u);else{var c=Rh(u.prefix),d="(?:"+u.pattern+")";e.push(u),u.repeat&&(d+="(?:"+c+d+")*"),u.optional?u.partial?d=c+"("+d+")?":d="(?:"+c+"("+d+"))?":d=c+"("+d+")",o+=d}}var f=Rh(i.delimiter||"/"),g=o.slice(-f.length)===f;return r||(o=(g?o.slice(0,-f.length):o)+"(?:"+f+"(?=$))?"),n?o+="$":o+=r&&g?"":"(?="+f+"|$)",Py(new RegExp("^"+o,Iy(i)),e)}function xC(t,e,i){return Nh(e)||(i=e||i,e=[]),i=i||{},t instanceof RegExp?g6(t,e):Nh(t)?v6(t,e,i):y6(t,e,i)}});function S6(t,e){var i=""+e.end+e.strict+e.sensitive,r=_C[i]||(_C[i]={});if(r[t])return r[t];var n=[],o=(0,IC.default)(t,n,e),l={regexp:o,keys:n};return EC<x6&&(r[t]=l,EC++),l}function Ta(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var i=e,r=i.path,n=i.exact,o=n===void 0?!1:n,l=i.strict,u=l===void 0?!1:l,c=i.sensitive,d=c===void 0?!1:c,f=[].concat(r);return f.reduce(function(g,v){if(!v&&v!=="")return null;if(g)return g;var S=S6(v,{end:o,strict:u,sensitive:d}),E=S.regexp,_=S.keys,P=E.exec(t);if(!P)return null;var A=P[0],L=P.slice(1),z=t===A;return o&&!z?null:{path:v,url:v==="/"&&A===""?"/":A,isExact:z,params:_.reduce(function(q,H,re){return q[H.name]=L[re],q},{})}},null)}function _6(t){return Be.Children.count(t)===0}function Ty(t){return t.charAt(0)==="/"?t:"/"+t}function E6(t,e){return t?Dt({},e,{pathname:Ty(t)+e.pathname}):e}function C6(t,e){if(!t)return e;var i=Ty(t);return e.pathname.indexOf(i)!==0?e:Dt({},e,{pathname:e.pathname.substr(i.length)})}function CC(t){return typeof t=="string"?t:sr(t)}function Ay(t){return function(){Dn(!1)}}function PC(){}function Ln(t){var e="withRouter("+(t.displayName||t.name)+")",i=function(n){var o=n.wrappedComponentRef,l=wr(n,["wrappedComponentRef"]);return Be.createElement(Es.Consumer,null,function(u){return u||Dn(!1),Be.createElement(t,Dt({},l,u,{ref:o}))})};return i.displayName=e,i.WrappedComponent=t,(0,AC.default)(i,t)}var IC,gue,AC,TC,b6,Es,Cs,w6,bue,_C,x6,EC,gn,P6,kh,wue,Yo=T(()=>{Ph();We();Mh();gC();Ah();Pa();IC=he(SC()),gue=he(ey());Rl();AC=he(bh()),TC=function(e){var i=mC();return i.displayName=e,i},b6=TC("Router-History"),Es=TC("Router"),Cs=function(t){Nr(e,t),e.computeRootMatch=function(n){return{path:"/",url:"/",params:{},isExact:n==="/"}};function e(r){var n;return n=t.call(this,r)||this,n.state={location:r.history.location},n._isMounted=!1,n._pendingLocation=null,r.staticContext||(n.unlisten=r.history.listen(function(o){n._pendingLocation=o})),n}var i=e.prototype;return i.componentDidMount=function(){var n=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){n._isMounted&&n.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},i.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},i.render=function(){return Be.createElement(Es.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Be.createElement(b6.Provider,{children:this.props.children||null,value:this.props.history}))},e}(Be.Component),w6=function(t){Nr(e,t);function e(){for(var r,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=t.call.apply(t,[this].concat(o))||this,r.history=hC(r.props),r}var i=e.prototype;return i.render=function(){return Be.createElement(Cs,{history:this.history,children:this.props.children})},e}(Be.Component),bue=function(t){Nr(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},i.componentDidUpdate=function(n){this.props.onUpdate&&this.props.onUpdate.call(this,this,n)},i.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},i.render=function(){return null},e}(Be.Component),_C={},x6=1e4,EC=0;gn=function(t){Nr(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var n=this;return Be.createElement(Es.Consumer,null,function(o){o||Dn(!1);var l=n.props.location||o.location,u=n.props.computedMatch?n.props.computedMatch:n.props.path?Ta(l.pathname,n.props):o.match,c=Dt({},o,{location:l,match:u}),d=n.props,f=d.children,g=d.component,v=d.render;return Array.isArray(f)&&_6(f)&&(f=null),Be.createElement(Es.Provider,{value:c},c.match?f?typeof f=="function"?f(c):f:g?Be.createElement(g,c):v?v(c):null:typeof f=="function"?f(c):null)})},e}(Be.Component);P6=function(t){Nr(e,t);function e(){for(var r,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=t.call.apply(t,[this].concat(o))||this,r.handlePush=function(u){return r.navigateTo(u,"PUSH")},r.handleReplace=function(u){return r.navigateTo(u,"REPLACE")},r.handleListen=function(){return PC},r.handleBlock=function(){return PC},r}var i=e.prototype;return i.navigateTo=function(n,o){var l=this.props,u=l.basename,c=u===void 0?"":u,d=l.context,f=d===void 0?{}:d;f.action=o,f.location=E6(c,xr(n)),f.url=CC(f.location)},i.render=function(){var n=this.props,o=n.basename,l=o===void 0?"":o,u=n.context,c=u===void 0?{}:u,d=n.location,f=d===void 0?"/":d,g=wr(n,["basename","context","location"]),v={createHref:function(E){return Ty(l+CC(E))},action:"POP",location:C6(l,xr(f)),push:this.handlePush,replace:this.handleReplace,go:Ay("go"),goBack:Ay("goBack"),goForward:Ay("goForward"),listen:this.handleListen,block:this.handleBlock};return Be.createElement(Cs,Dt({},g,{history:v,staticContext:c}))},e}(Be.Component),kh=function(t){Nr(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var n=this;return Be.createElement(Es.Consumer,null,function(o){o||Dn(!1);var l=n.props.location||o.location,u,c;return Be.Children.forEach(n.props.children,function(d){if(c==null&&Be.isValidElement(d)){u=d;var f=d.props.path||d.props.from;c=f?Ta(l.pathname,Dt({},d.props,{path:f})):o.match}}),c?Be.cloneElement(u,{location:l,computedMatch:c}):null})},e}(Be.Component);wue=Be.useContext});var xe=W((Dl,$c)=>{(function(){var t,e="4.17.21",i=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",n="Expected a function",o="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",d=1,f=2,g=4,v=1,S=2,E=1,_=2,P=4,A=8,L=16,z=32,q=64,H=128,re=256,Q=512,O=30,ee="...",ue=800,J=16,G=1,D=2,V=3,K=1/0,Y=9007199254740991,oe=17976931348623157e292,$=NaN,U=4294967295,X=U-1,te=U>>>1,ce=[["ary",H],["bind",E],["bindKey",_],["curry",A],["curryRight",L],["flip",Q],["partial",z],["partialRight",q],["rearg",re]],fe="[object Arguments]",me="[object Array]",Ae="[object AsyncFunction]",Ie="[object Boolean]",Oe="[object Date]",ze="[object DOMException]",at="[object Error]",$e="[object Function]",ot="[object GeneratorFunction]",Ee="[object Map]",ct="[object Number]",ut="[object Null]",je="[object Object]",Ge="[object Promise]",jt="[object Proxy]",Bt="[object RegExp]",_t="[object Set]",zt="[object String]",st="[object Symbol]",Wi="[object Undefined]",Jt="[object WeakMap]",Co="[object WeakSet]",Hr="[object ArrayBuffer]",En="[object DataView]",ss="[object Float32Array]",Po="[object Float64Array]",wi="[object Int8Array]",gt="[object Int16Array]",Er="[object Int32Array]",ur="[object Uint8Array]",nl="[object Uint8ClampedArray]",ui="[object Uint16Array]",Io="[object Uint32Array]",as=/\b__p \+= '';/g,ol=/\b(__p \+=) '' \+/g,zu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Vi=/&(?:amp|lt|gt|quot|#39);/g,qu=/[&<>"']/g,Hu=RegExp(Vi.source),Uu=RegExp(qu.source),Mg=/<%-([\s\S]+?)%>/g,Rg=/<%([\s\S]+?)%>/g,sl=/<%=([\s\S]+?)%>/g,ip=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rp=/^\w*$/,np=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bu=/[\\^$.*+?()[\]{}|]/g,Ng=RegExp(Bu.source),Wu=/^\s+/,op=/\s/,cr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ao=/\{\n\/\* \[wrapped with (.+)\] \*/,Xs=/,? & /,Vu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Zs=/[()=,{}\[\]\/\s]/,ls=/\\(\\)?/g,kg=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$u=/\w*$/,ju=/^[-+]0x[0-9a-f]+$/i,sp=/^0b[01]+$/i,al=/^\[object .+?Constructor\]$/,er=/^0o[0-7]+$/i,To=/^(?:0|[1-9]\d*)$/,tr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mi=/($^)/,Mo=/['\n\r\u2028\u2029\\]/g,Ur="\\ud800-\\udfff",Ro="\\u0300-\\u036f",Js="\\ufe20-\\ufe2f",No="\\u20d0-\\u20ff",ko=Ro+Js+No,ll="\\u2700-\\u27bf",us="a-z\\xdf-\\xf6\\xf8-\\xff",Qs="\\xac\\xb1\\xd7\\xf7",ul="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",cl="\\u2000-\\u206f",Gu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dr="A-Z\\xc0-\\xd6\\xd8-\\xde",dl="\\ufe0e\\ufe0f",Xn=Qs+ul+cl+Gu,Cn="['\u2019]",pl="["+Ur+"]",Pn="["+Xn+"]",Mi="["+ko+"]",tn="\\d+",ap="["+ll+"]",Ku="["+us+"]",dt="[^"+Ur+Xn+tn+ll+us+dr+"]",Br="\\ud83c[\\udffb-\\udfff]",pr="(?:"+Mi+"|"+Br+")",$i="[^"+Ur+"]",Oo="(?:\\ud83c[\\udde6-\\uddff]){2}",Zn="[\\ud800-\\udbff][\\udc00-\\udfff]",ji="["+dr+"]",hl="\\u200d",ea="(?:"+Ku+"|"+dt+")",ta="(?:"+ji+"|"+dt+")",ia="(?:"+Cn+"(?:d|ll|m|re|s|t|ve))?",lp="(?:"+Cn+"(?:D|LL|M|RE|S|T|VE))?",up=pr+"?",Yu="["+dl+"]?",Xu="(?:"+hl+"(?:"+[$i,Oo,Zn].join("|")+")"+Yu+up+")*",cp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Og="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zu=Yu+up+Xu,Ju="(?:"+[ap,Oo,Zn].join("|")+")"+Zu,dp="(?:"+[$i+Mi+"?",Mi,Oo,Zn,pl].join("|")+")",pp=RegExp(Cn,"g"),hp=RegExp(Mi,"g"),Qu=RegExp(Br+"(?="+Br+")|"+dp+Zu,"g"),fp=RegExp([ji+"?"+Ku+"+"+ia+"(?="+[Pn,ji,"$"].join("|")+")",ta+"+"+lp+"(?="+[Pn,ji+ea,"$"].join("|")+")",ji+"?"+ea+"+"+ia,ji+"+"+lp,Og,cp,tn,Ju].join("|"),"g"),cs=RegExp("["+hl+Ur+ko+dl+"]"),Dg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Jn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fl=-1,Rt={};Rt[ss]=Rt[Po]=Rt[wi]=Rt[gt]=Rt[Er]=Rt[ur]=Rt[nl]=Rt[ui]=Rt[Io]=!0,Rt[fe]=Rt[me]=Rt[Hr]=Rt[Ie]=Rt[En]=Rt[Oe]=Rt[at]=Rt[$e]=Rt[Ee]=Rt[ct]=Rt[je]=Rt[Bt]=Rt[_t]=Rt[zt]=Rt[Jt]=!1;var Nt={};Nt[fe]=Nt[me]=Nt[Hr]=Nt[En]=Nt[Ie]=Nt[Oe]=Nt[ss]=Nt[Po]=Nt[wi]=Nt[gt]=Nt[Er]=Nt[Ee]=Nt[ct]=Nt[je]=Nt[Bt]=Nt[_t]=Nt[zt]=Nt[st]=Nt[ur]=Nt[nl]=Nt[ui]=Nt[Io]=!0,Nt[at]=Nt[$e]=Nt[Jt]=!1;var mp={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Lg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fg={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},zg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qg=parseFloat,Hg=parseInt,gp=typeof global=="object"&&global&&global.Object===Object&&global,Ug=typeof self=="object"&&self&&self.Object===Object&&self,xi=gp||Ug||Function("return this")(),ec=typeof Dl=="object"&&Dl&&!Dl.nodeType&&Dl,hr=ec&&typeof $c=="object"&&$c&&!$c.nodeType&&$c,tc=hr&&hr.exports===ec,Qn=tc&&gp.process,kt=function(){try{var j=hr&&hr.require&&hr.require("util").types;return j||Qn&&Qn.binding&&Qn.binding("util")}catch{}}(),eo=kt&&kt.isArrayBuffer,ml=kt&&kt.isDate,ds=kt&&kt.isMap,vp=kt&&kt.isRegExp,rn=kt&&kt.isSet,ir=kt&&kt.isTypedArray;function fr(j,pe,de){switch(de.length){case 0:return j.call(pe);case 1:return j.call(pe,de[0]);case 2:return j.call(pe,de[0],de[1]);case 3:return j.call(pe,de[0],de[1],de[2])}return j.apply(pe,de)}function Bg(j,pe,de,Ce){for(var it=-1,bt=j==null?0:j.length;++it<bt;){var ei=j[it];pe(Ce,ei,de(ei),j)}return Ce}function Cr(j,pe){for(var de=-1,Ce=j==null?0:j.length;++de<Ce&&pe(j[de],de,j)!==!1;);return j}function ra(j,pe){for(var de=j==null?0:j.length;de--&&pe(j[de],de,j)!==!1;);return j}function na(j,pe){for(var de=-1,Ce=j==null?0:j.length;++de<Ce;)if(!pe(j[de],de,j))return!1;return!0}function In(j,pe){for(var de=-1,Ce=j==null?0:j.length,it=0,bt=[];++de<Ce;){var ei=j[de];pe(ei,de,j)&&(bt[it++]=ei)}return bt}function oa(j,pe){var de=j==null?0:j.length;return!!de&&Wr(j,pe,0)>-1}function nn(j,pe,de){for(var Ce=-1,it=j==null?0:j.length;++Ce<it;)if(de(pe,j[Ce]))return!0;return!1}function Wt(j,pe){for(var de=-1,Ce=j==null?0:j.length,it=Array(Ce);++de<Ce;)it[de]=pe(j[de],de,j);return it}function An(j,pe){for(var de=-1,Ce=pe.length,it=j.length;++de<Ce;)j[it+de]=pe[de];return j}function on(j,pe,de,Ce){var it=-1,bt=j==null?0:j.length;for(Ce&&bt&&(de=j[++it]);++it<bt;)de=pe(de,j[it],it,j);return de}function ic(j,pe,de,Ce){var it=j==null?0:j.length;for(Ce&&it&&(de=j[--it]);it--;)de=pe(de,j[it],it,j);return de}function sa(j,pe){for(var de=-1,Ce=j==null?0:j.length;++de<Ce;)if(pe(j[de],de,j))return!0;return!1}var gl=la("length");function aa(j){return j.split("")}function rc(j){return j.match(Vu)||[]}function Gi(j,pe,de){var Ce;return de(j,function(it,bt,ei){if(pe(it,bt,ei))return Ce=bt,!1}),Ce}function ps(j,pe,de,Ce){for(var it=j.length,bt=de+(Ce?1:-1);Ce?bt--:++bt<it;)if(pe(j[bt],bt,j))return bt;return-1}function Wr(j,pe,de){return pe===pe?oi(j,pe,de):ps(j,Do,de)}function Vr(j,pe,de,Ce){for(var it=de-1,bt=j.length;++it<bt;)if(Ce(j[it],pe))return it;return-1}function Do(j){return j!==j}function sn(j,pe){var de=j==null?0:j.length;return de?Tn(j,pe)/de:$}function la(j){return function(pe){return pe==null?t:pe[j]}}function Lo(j){return function(pe){return j==null?t:j[pe]}}function vl(j,pe,de,Ce,it){return it(j,function(bt,ei,Et){de=Ce?(Ce=!1,bt):pe(de,bt,ei,Et)}),de}function nc(j,pe){var de=j.length;for(j.sort(pe);de--;)j[de]=j[de].value;return j}function Tn(j,pe){for(var de,Ce=-1,it=j.length;++Ce<it;){var bt=pe(j[Ce]);bt!==t&&(de=de===t?bt:de+bt)}return de}function ua(j,pe){for(var de=-1,Ce=Array(j);++de<j;)Ce[de]=pe(de);return Ce}function yp(j,pe){return Wt(pe,function(de){return[de,j[de]]})}function ca(j){return j&&j.slice(0,hs(j)+1).replace(Wu,"")}function mr(j){return function(pe){return j(pe)}}function Pr(j,pe){return Wt(pe,function(de){return j[de]})}function gi(j,pe){return j.has(pe)}function x(j,pe){for(var de=-1,Ce=j.length;++de<Ce&&Wr(pe,j[de],0)>-1;);return de}function M(j,pe){for(var de=j.length;de--&&Wr(pe,j[de],0)>-1;);return de}function k(j,pe){for(var de=j.length,Ce=0;de--;)j[de]===pe&&++Ce;return Ce}var N=Lo(mp),ae=Lo(Lg);function Se(j){return"\\"+zg[j]}function ke(j,pe){return j==null?t:j[pe]}function He(j){return cs.test(j)}function tt(j){return Dg.test(j)}function Le(j){for(var pe,de=[];!(pe=j.next()).done;)de.push(pe.value);return de}function Ye(j){var pe=-1,de=Array(j.size);return j.forEach(function(Ce,it){de[++pe]=[it,Ce]}),de}function ft(j,pe){return function(de){return j(pe(de))}}function It(j,pe){for(var de=-1,Ce=j.length,it=0,bt=[];++de<Ce;){var ei=j[de];(ei===pe||ei===c)&&(j[de]=c,bt[it++]=de)}return bt}function Si(j){var pe=-1,de=Array(j.size);return j.forEach(function(Ce){de[++pe]=Ce}),de}function gr(j){var pe=-1,de=Array(j.size);return j.forEach(function(Ce){de[++pe]=[Ce,Ce]}),de}function oi(j,pe,de){for(var Ce=de-1,it=j.length;++Ce<it;)if(j[Ce]===pe)return Ce;return-1}function Qt(j,pe,de){for(var Ce=de+1;Ce--;)if(j[Ce]===pe)return Ce;return Ce}function ci(j){return He(j)?bl(j):gl(j)}function Ri(j){return He(j)?oc(j):aa(j)}function hs(j){for(var pe=j.length;pe--&&op.test(j.charAt(pe)););return pe}var yl=Lo(Fg);function bl(j){for(var pe=Qu.lastIndex=0;Qu.test(j);)++pe;return pe}function oc(j){return j.match(Qu)||[]}function da(j){return j.match(fp)||[]}var $r=function j(pe){pe=pe==null?xi:rr.defaults(xi.Object(),pe,rr.pick(xi,Jn));var de=pe.Array,Ce=pe.Date,it=pe.Error,bt=pe.Function,ei=pe.Math,Et=pe.Object,Fo=pe.RegExp,Ki=pe.String,Yi=pe.TypeError,Mn=de.prototype,fs=bt.prototype,Ir=Et.prototype,pa=pe["__core-js_shared__"],wl=fs.toString,Ot=Ir.hasOwnProperty,uq=0,tS=function(){var s=/[^.]+$/.exec(pa&&pa.keys&&pa.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),bp=Ir.toString,cq=wl.call(Et),dq=xi._,pq=Fo("^"+wl.call(Ot).replace(Bu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wp=tc?pe.Buffer:t,ms=pe.Symbol,xp=pe.Uint8Array,iS=wp?wp.allocUnsafe:t,Sp=ft(Et.getPrototypeOf,Et),rS=Et.create,nS=Ir.propertyIsEnumerable,_p=Mn.splice,oS=ms?ms.isConcatSpreadable:t,sc=ms?ms.iterator:t,ha=ms?ms.toStringTag:t,Ep=function(){try{var s=ya(Et,"defineProperty");return s({},"",{}),s}catch{}}(),hq=pe.clearTimeout!==xi.clearTimeout&&pe.clearTimeout,fq=Ce&&Ce.now!==xi.Date.now&&Ce.now,mq=pe.setTimeout!==xi.setTimeout&&pe.setTimeout,Cp=ei.ceil,Pp=ei.floor,Wg=Et.getOwnPropertySymbols,gq=wp?wp.isBuffer:t,sS=pe.isFinite,vq=Mn.join,yq=ft(Et.keys,Et),Pi=ei.max,nr=ei.min,bq=Ce.now,wq=pe.parseInt,aS=ei.random,xq=Mn.reverse,Vg=ya(pe,"DataView"),ac=ya(pe,"Map"),$g=ya(pe,"Promise"),xl=ya(pe,"Set"),lc=ya(pe,"WeakMap"),uc=ya(Et,"create"),Ip=lc&&new lc,Sl={},Sq=ba(Vg),_q=ba(ac),Eq=ba($g),Cq=ba(xl),Pq=ba(lc),Ap=ms?ms.prototype:t,cc=Ap?Ap.valueOf:t,lS=Ap?Ap.toString:t;function I(s){if(di(s)&&!pt(s)&&!(s instanceof xt)){if(s instanceof an)return s;if(Ot.call(s,"__wrapped__"))return u1(s)}return new an(s)}var _l=function(){function s(){}return function(a){if(!si(a))return{};if(rS)return rS(a);s.prototype=a;var p=new s;return s.prototype=t,p}}();function Tp(){}function an(s,a){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=t}I.templateSettings={escape:Mg,evaluate:Rg,interpolate:sl,variable:"",imports:{_:I}},I.prototype=Tp.prototype,I.prototype.constructor=I,an.prototype=_l(Tp.prototype),an.prototype.constructor=an;function xt(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function Iq(){var s=new xt(this.__wrapped__);return s.__actions__=Ar(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Ar(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Ar(this.__views__),s}function Aq(){if(this.__filtered__){var s=new xt(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function Tq(){var s=this.__wrapped__.value(),a=this.__dir__,p=pt(s),b=a<0,C=p?s.length:0,R=UH(0,C,this.__views__),F=R.start,B=R.end,Z=B-F,ve=b?B:F-1,ye=this.__iteratees__,we=ye.length,Te=0,Ue=nr(Z,this.__takeCount__);if(!p||!b&&C==Z&&Ue==Z)return NS(s,this.__actions__);var rt=[];e:for(;Z--&&Te<Ue;){ve+=a;for(var vt=-1,nt=s[ve];++vt<we;){var wt=ye[vt],St=wt.iteratee,Kr=wt.type,br=St(nt);if(Kr==D)nt=br;else if(!br){if(Kr==G)continue e;break e}}rt[Te++]=nt}return rt}xt.prototype=_l(Tp.prototype),xt.prototype.constructor=xt;function fa(s){var a=-1,p=s==null?0:s.length;for(this.clear();++a<p;){var b=s[a];this.set(b[0],b[1])}}function Mq(){this.__data__=uc?uc(null):{},this.size=0}function Rq(s){var a=this.has(s)&&delete this.__data__[s];return this.size-=a?1:0,a}function Nq(s){var a=this.__data__;if(uc){var p=a[s];return p===l?t:p}return Ot.call(a,s)?a[s]:t}function kq(s){var a=this.__data__;return uc?a[s]!==t:Ot.call(a,s)}function Oq(s,a){var p=this.__data__;return this.size+=this.has(s)?0:1,p[s]=uc&&a===t?l:a,this}fa.prototype.clear=Mq,fa.prototype.delete=Rq,fa.prototype.get=Nq,fa.prototype.has=kq,fa.prototype.set=Oq;function zo(s){var a=-1,p=s==null?0:s.length;for(this.clear();++a<p;){var b=s[a];this.set(b[0],b[1])}}function Dq(){this.__data__=[],this.size=0}function Lq(s){var a=this.__data__,p=Mp(a,s);if(p<0)return!1;var b=a.length-1;return p==b?a.pop():_p.call(a,p,1),--this.size,!0}function Fq(s){var a=this.__data__,p=Mp(a,s);return p<0?t:a[p][1]}function zq(s){return Mp(this.__data__,s)>-1}function qq(s,a){var p=this.__data__,b=Mp(p,s);return b<0?(++this.size,p.push([s,a])):p[b][1]=a,this}zo.prototype.clear=Dq,zo.prototype.delete=Lq,zo.prototype.get=Fq,zo.prototype.has=zq,zo.prototype.set=qq;function qo(s){var a=-1,p=s==null?0:s.length;for(this.clear();++a<p;){var b=s[a];this.set(b[0],b[1])}}function Hq(){this.size=0,this.__data__={hash:new fa,map:new(ac||zo),string:new fa}}function Uq(s){var a=Bp(this,s).delete(s);return this.size-=a?1:0,a}function Bq(s){return Bp(this,s).get(s)}function Wq(s){return Bp(this,s).has(s)}function Vq(s,a){var p=Bp(this,s),b=p.size;return p.set(s,a),this.size+=p.size==b?0:1,this}qo.prototype.clear=Hq,qo.prototype.delete=Uq,qo.prototype.get=Bq,qo.prototype.has=Wq,qo.prototype.set=Vq;function ma(s){var a=-1,p=s==null?0:s.length;for(this.__data__=new qo;++a<p;)this.add(s[a])}function $q(s){return this.__data__.set(s,l),this}function jq(s){return this.__data__.has(s)}ma.prototype.add=ma.prototype.push=$q,ma.prototype.has=jq;function Rn(s){var a=this.__data__=new zo(s);this.size=a.size}function Gq(){this.__data__=new zo,this.size=0}function Kq(s){var a=this.__data__,p=a.delete(s);return this.size=a.size,p}function Yq(s){return this.__data__.get(s)}function Xq(s){return this.__data__.has(s)}function Zq(s,a){var p=this.__data__;if(p instanceof zo){var b=p.__data__;if(!ac||b.length<i-1)return b.push([s,a]),this.size=++p.size,this;p=this.__data__=new qo(b)}return p.set(s,a),this.size=p.size,this}Rn.prototype.clear=Gq,Rn.prototype.delete=Kq,Rn.prototype.get=Yq,Rn.prototype.has=Xq,Rn.prototype.set=Zq;function uS(s,a){var p=pt(s),b=!p&&wa(s),C=!p&&!b&&ws(s),R=!p&&!b&&!C&&Il(s),F=p||b||C||R,B=F?ua(s.length,Ki):[],Z=B.length;for(var ve in s)(a||Ot.call(s,ve))&&!(F&&(ve=="length"||C&&(ve=="offset"||ve=="parent")||R&&(ve=="buffer"||ve=="byteLength"||ve=="byteOffset")||Wo(ve,Z)))&&B.push(ve);return B}function cS(s){var a=s.length;return a?s[iv(0,a-1)]:t}function Jq(s,a){return Wp(Ar(s),ga(a,0,s.length))}function Qq(s){return Wp(Ar(s))}function jg(s,a,p){(p!==t&&!Nn(s[a],p)||p===t&&!(a in s))&&Ho(s,a,p)}function dc(s,a,p){var b=s[a];(!(Ot.call(s,a)&&Nn(b,p))||p===t&&!(a in s))&&Ho(s,a,p)}function Mp(s,a){for(var p=s.length;p--;)if(Nn(s[p][0],a))return p;return-1}function eH(s,a,p,b){return gs(s,function(C,R,F){a(b,C,p(C),F)}),b}function dS(s,a){return s&&io(a,Ni(a),s)}function tH(s,a){return s&&io(a,Mr(a),s)}function Ho(s,a,p){a=="__proto__"&&Ep?Ep(s,a,{configurable:!0,enumerable:!0,value:p,writable:!0}):s[a]=p}function Gg(s,a){for(var p=-1,b=a.length,C=de(b),R=s==null;++p<b;)C[p]=R?t:Iv(s,a[p]);return C}function ga(s,a,p){return s===s&&(p!==t&&(s=s<=p?s:p),a!==t&&(s=s>=a?s:a)),s}function ln(s,a,p,b,C,R){var F,B=a&d,Z=a&f,ve=a&g;if(p&&(F=C?p(s,b,C,R):p(s)),F!==t)return F;if(!si(s))return s;var ye=pt(s);if(ye){if(F=WH(s),!B)return Ar(s,F)}else{var we=or(s),Te=we==$e||we==ot;if(ws(s))return DS(s,B);if(we==je||we==fe||Te&&!C){if(F=Z||Te?{}:e1(s),!B)return Z?NH(s,tH(F,s)):RH(s,dS(F,s))}else{if(!Nt[we])return C?s:{};F=VH(s,we,B)}}R||(R=new Rn);var Ue=R.get(s);if(Ue)return Ue;R.set(s,F),T1(s)?s.forEach(function(nt){F.add(ln(nt,a,p,nt,s,R))}):I1(s)&&s.forEach(function(nt,wt){F.set(wt,ln(nt,a,p,wt,s,R))});var rt=ve?Z?hv:pv:Z?Mr:Ni,vt=ye?t:rt(s);return Cr(vt||s,function(nt,wt){vt&&(wt=nt,nt=s[wt]),dc(F,wt,ln(nt,a,p,wt,s,R))}),F}function iH(s){var a=Ni(s);return function(p){return pS(p,s,a)}}function pS(s,a,p){var b=p.length;if(s==null)return!b;for(s=Et(s);b--;){var C=p[b],R=a[C],F=s[C];if(F===t&&!(C in s)||!R(F))return!1}return!0}function hS(s,a,p){if(typeof s!="function")throw new Yi(n);return yc(function(){s.apply(t,p)},a)}function pc(s,a,p,b){var C=-1,R=oa,F=!0,B=s.length,Z=[],ve=a.length;if(!B)return Z;p&&(a=Wt(a,mr(p))),b?(R=nn,F=!1):a.length>=i&&(R=gi,F=!1,a=new ma(a));e:for(;++C<B;){var ye=s[C],we=p==null?ye:p(ye);if(ye=b||ye!==0?ye:0,F&&we===we){for(var Te=ve;Te--;)if(a[Te]===we)continue e;Z.push(ye)}else R(a,we,b)||Z.push(ye)}return Z}var gs=HS(to),fS=HS(Yg,!0);function rH(s,a){var p=!0;return gs(s,function(b,C,R){return p=!!a(b,C,R),p}),p}function Rp(s,a,p){for(var b=-1,C=s.length;++b<C;){var R=s[b],F=a(R);if(F!=null&&(B===t?F===F&&!Gr(F):p(F,B)))var B=F,Z=R}return Z}function nH(s,a,p,b){var C=s.length;for(p=mt(p),p<0&&(p=-p>C?0:C+p),b=b===t||b>C?C:mt(b),b<0&&(b+=C),b=p>b?0:R1(b);p<b;)s[p++]=a;return s}function mS(s,a){var p=[];return gs(s,function(b,C,R){a(b,C,R)&&p.push(b)}),p}function Xi(s,a,p,b,C){var R=-1,F=s.length;for(p||(p=jH),C||(C=[]);++R<F;){var B=s[R];a>0&&p(B)?a>1?Xi(B,a-1,p,b,C):An(C,B):b||(C[C.length]=B)}return C}var Kg=US(),gS=US(!0);function to(s,a){return s&&Kg(s,a,Ni)}function Yg(s,a){return s&&gS(s,a,Ni)}function Np(s,a){return In(a,function(p){return Vo(s[p])})}function va(s,a){a=ys(a,s);for(var p=0,b=a.length;s!=null&&p<b;)s=s[ro(a[p++])];return p&&p==b?s:t}function vS(s,a,p){var b=a(s);return pt(s)?b:An(b,p(s))}function vr(s){return s==null?s===t?Wi:ut:ha&&ha in Et(s)?HH(s):QH(s)}function Xg(s,a){return s>a}function oH(s,a){return s!=null&&Ot.call(s,a)}function sH(s,a){return s!=null&&a in Et(s)}function aH(s,a,p){return s>=nr(a,p)&&s<Pi(a,p)}function Zg(s,a,p){for(var b=p?nn:oa,C=s[0].length,R=s.length,F=R,B=de(R),Z=1/0,ve=[];F--;){var ye=s[F];F&&a&&(ye=Wt(ye,mr(a))),Z=nr(ye.length,Z),B[F]=!p&&(a||C>=120&&ye.length>=120)?new ma(F&&ye):t}ye=s[0];var we=-1,Te=B[0];e:for(;++we<C&&ve.length<Z;){var Ue=ye[we],rt=a?a(Ue):Ue;if(Ue=p||Ue!==0?Ue:0,!(Te?gi(Te,rt):b(ve,rt,p))){for(F=R;--F;){var vt=B[F];if(!(vt?gi(vt,rt):b(s[F],rt,p)))continue e}Te&&Te.push(rt),ve.push(Ue)}}return ve}function lH(s,a,p,b){return to(s,function(C,R,F){a(b,p(C),R,F)}),b}function hc(s,a,p){a=ys(a,s),s=n1(s,a);var b=s==null?s:s[ro(cn(a))];return b==null?t:fr(b,s,p)}function yS(s){return di(s)&&vr(s)==fe}function uH(s){return di(s)&&vr(s)==Hr}function cH(s){return di(s)&&vr(s)==Oe}function fc(s,a,p,b,C){return s===a?!0:s==null||a==null||!di(s)&&!di(a)?s!==s&&a!==a:dH(s,a,p,b,fc,C)}function dH(s,a,p,b,C,R){var F=pt(s),B=pt(a),Z=F?me:or(s),ve=B?me:or(a);Z=Z==fe?je:Z,ve=ve==fe?je:ve;var ye=Z==je,we=ve==je,Te=Z==ve;if(Te&&ws(s)){if(!ws(a))return!1;F=!0,ye=!1}if(Te&&!ye)return R||(R=new Rn),F||Il(s)?ZS(s,a,p,b,C,R):zH(s,a,Z,p,b,C,R);if(!(p&v)){var Ue=ye&&Ot.call(s,"__wrapped__"),rt=we&&Ot.call(a,"__wrapped__");if(Ue||rt){var vt=Ue?s.value():s,nt=rt?a.value():a;return R||(R=new Rn),C(vt,nt,p,b,R)}}return Te?(R||(R=new Rn),qH(s,a,p,b,C,R)):!1}function pH(s){return di(s)&&or(s)==Ee}function Jg(s,a,p,b){var C=p.length,R=C,F=!b;if(s==null)return!R;for(s=Et(s);C--;){var B=p[C];if(F&&B[2]?B[1]!==s[B[0]]:!(B[0]in s))return!1}for(;++C<R;){B=p[C];var Z=B[0],ve=s[Z],ye=B[1];if(F&&B[2]){if(ve===t&&!(Z in s))return!1}else{var we=new Rn;if(b)var Te=b(ve,ye,Z,s,a,we);if(!(Te===t?fc(ye,ve,v|S,b,we):Te))return!1}}return!0}function bS(s){if(!si(s)||KH(s))return!1;var a=Vo(s)?pq:al;return a.test(ba(s))}function hH(s){return di(s)&&vr(s)==Bt}function fH(s){return di(s)&&or(s)==_t}function mH(s){return di(s)&&Yp(s.length)&&!!Rt[vr(s)]}function wS(s){return typeof s=="function"?s:s==null?Rr:typeof s=="object"?pt(s)?_S(s[0],s[1]):SS(s):B1(s)}function Qg(s){if(!vc(s))return yq(s);var a=[];for(var p in Et(s))Ot.call(s,p)&&p!="constructor"&&a.push(p);return a}function gH(s){if(!si(s))return JH(s);var a=vc(s),p=[];for(var b in s)b=="constructor"&&(a||!Ot.call(s,b))||p.push(b);return p}function ev(s,a){return s<a}function xS(s,a){var p=-1,b=Tr(s)?de(s.length):[];return gs(s,function(C,R,F){b[++p]=a(C,R,F)}),b}function SS(s){var a=mv(s);return a.length==1&&a[0][2]?i1(a[0][0],a[0][1]):function(p){return p===s||Jg(p,s,a)}}function _S(s,a){return vv(s)&&t1(a)?i1(ro(s),a):function(p){var b=Iv(p,s);return b===t&&b===a?Av(p,s):fc(a,b,v|S)}}function kp(s,a,p,b,C){s!==a&&Kg(a,function(R,F){if(C||(C=new Rn),si(R))vH(s,a,F,p,kp,b,C);else{var B=b?b(bv(s,F),R,F+"",s,a,C):t;B===t&&(B=R),jg(s,F,B)}},Mr)}function vH(s,a,p,b,C,R,F){var B=bv(s,p),Z=bv(a,p),ve=F.get(Z);if(ve){jg(s,p,ve);return}var ye=R?R(B,Z,p+"",s,a,F):t,we=ye===t;if(we){var Te=pt(Z),Ue=!Te&&ws(Z),rt=!Te&&!Ue&&Il(Z);ye=Z,Te||Ue||rt?pt(B)?ye=B:vi(B)?ye=Ar(B):Ue?(we=!1,ye=DS(Z,!0)):rt?(we=!1,ye=LS(Z,!0)):ye=[]:bc(Z)||wa(Z)?(ye=B,wa(B)?ye=N1(B):(!si(B)||Vo(B))&&(ye=e1(Z))):we=!1}we&&(F.set(Z,ye),C(ye,Z,b,R,F),F.delete(Z)),jg(s,p,ye)}function ES(s,a){var p=s.length;if(p)return a+=a<0?p:0,Wo(a,p)?s[a]:t}function CS(s,a,p){a.length?a=Wt(a,function(R){return pt(R)?function(F){return va(F,R.length===1?R[0]:R)}:R}):a=[Rr];var b=-1;a=Wt(a,mr(Xe()));var C=xS(s,function(R,F,B){var Z=Wt(a,function(ve){return ve(R)});return{criteria:Z,index:++b,value:R}});return nc(C,function(R,F){return MH(R,F,p)})}function yH(s,a){return PS(s,a,function(p,b){return Av(s,b)})}function PS(s,a,p){for(var b=-1,C=a.length,R={};++b<C;){var F=a[b],B=va(s,F);p(B,F)&&mc(R,ys(F,s),B)}return R}function bH(s){return function(a){return va(a,s)}}function tv(s,a,p,b){var C=b?Vr:Wr,R=-1,F=a.length,B=s;for(s===a&&(a=Ar(a)),p&&(B=Wt(s,mr(p)));++R<F;)for(var Z=0,ve=a[R],ye=p?p(ve):ve;(Z=C(B,ye,Z,b))>-1;)B!==s&&_p.call(B,Z,1),_p.call(s,Z,1);return s}function IS(s,a){for(var p=s?a.length:0,b=p-1;p--;){var C=a[p];if(p==b||C!==R){var R=C;Wo(C)?_p.call(s,C,1):ov(s,C)}}return s}function iv(s,a){return s+Pp(aS()*(a-s+1))}function wH(s,a,p,b){for(var C=-1,R=Pi(Cp((a-s)/(p||1)),0),F=de(R);R--;)F[b?R:++C]=s,s+=p;return F}function rv(s,a){var p="";if(!s||a<1||a>Y)return p;do a%2&&(p+=s),a=Pp(a/2),a&&(s+=s);while(a);return p}function yt(s,a){return wv(r1(s,a,Rr),s+"")}function xH(s){return cS(Al(s))}function SH(s,a){var p=Al(s);return Wp(p,ga(a,0,p.length))}function mc(s,a,p,b){if(!si(s))return s;a=ys(a,s);for(var C=-1,R=a.length,F=R-1,B=s;B!=null&&++C<R;){var Z=ro(a[C]),ve=p;if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return s;if(C!=F){var ye=B[Z];ve=b?b(ye,Z,B):t,ve===t&&(ve=si(ye)?ye:Wo(a[C+1])?[]:{})}dc(B,Z,ve),B=B[Z]}return s}var AS=Ip?function(s,a){return Ip.set(s,a),s}:Rr,_H=Ep?function(s,a){return Ep(s,"toString",{configurable:!0,enumerable:!1,value:Mv(a),writable:!0})}:Rr;function EH(s){return Wp(Al(s))}function un(s,a,p){var b=-1,C=s.length;a<0&&(a=-a>C?0:C+a),p=p>C?C:p,p<0&&(p+=C),C=a>p?0:p-a>>>0,a>>>=0;for(var R=de(C);++b<C;)R[b]=s[b+a];return R}function CH(s,a){var p;return gs(s,function(b,C,R){return p=a(b,C,R),!p}),!!p}function Op(s,a,p){var b=0,C=s==null?b:s.length;if(typeof a=="number"&&a===a&&C<=te){for(;b<C;){var R=b+C>>>1,F=s[R];F!==null&&!Gr(F)&&(p?F<=a:F<a)?b=R+1:C=R}return C}return nv(s,a,Rr,p)}function nv(s,a,p,b){var C=0,R=s==null?0:s.length;if(R===0)return 0;a=p(a);for(var F=a!==a,B=a===null,Z=Gr(a),ve=a===t;C<R;){var ye=Pp((C+R)/2),we=p(s[ye]),Te=we!==t,Ue=we===null,rt=we===we,vt=Gr(we);if(F)var nt=b||rt;else ve?nt=rt&&(b||Te):B?nt=rt&&Te&&(b||!Ue):Z?nt=rt&&Te&&!Ue&&(b||!vt):Ue||vt?nt=!1:nt=b?we<=a:we<a;nt?C=ye+1:R=ye}return nr(R,X)}function TS(s,a){for(var p=-1,b=s.length,C=0,R=[];++p<b;){var F=s[p],B=a?a(F):F;if(!p||!Nn(B,Z)){var Z=B;R[C++]=F===0?0:F}}return R}function MS(s){return typeof s=="number"?s:Gr(s)?$:+s}function jr(s){if(typeof s=="string")return s;if(pt(s))return Wt(s,jr)+"";if(Gr(s))return lS?lS.call(s):"";var a=s+"";return a=="0"&&1/s==-K?"-0":a}function vs(s,a,p){var b=-1,C=oa,R=s.length,F=!0,B=[],Z=B;if(p)F=!1,C=nn;else if(R>=i){var ve=a?null:LH(s);if(ve)return Si(ve);F=!1,C=gi,Z=new ma}else Z=a?[]:B;e:for(;++b<R;){var ye=s[b],we=a?a(ye):ye;if(ye=p||ye!==0?ye:0,F&&we===we){for(var Te=Z.length;Te--;)if(Z[Te]===we)continue e;a&&Z.push(we),B.push(ye)}else C(Z,we,p)||(Z!==B&&Z.push(we),B.push(ye))}return B}function ov(s,a){return a=ys(a,s),s=n1(s,a),s==null||delete s[ro(cn(a))]}function RS(s,a,p,b){return mc(s,a,p(va(s,a)),b)}function Dp(s,a,p,b){for(var C=s.length,R=b?C:-1;(b?R--:++R<C)&&a(s[R],R,s););return p?un(s,b?0:R,b?R+1:C):un(s,b?R+1:0,b?C:R)}function NS(s,a){var p=s;return p instanceof xt&&(p=p.value()),on(a,function(b,C){return C.func.apply(C.thisArg,An([b],C.args))},p)}function sv(s,a,p){var b=s.length;if(b<2)return b?vs(s[0]):[];for(var C=-1,R=de(b);++C<b;)for(var F=s[C],B=-1;++B<b;)B!=C&&(R[C]=pc(R[C]||F,s[B],a,p));return vs(Xi(R,1),a,p)}function kS(s,a,p){for(var b=-1,C=s.length,R=a.length,F={};++b<C;){var B=b<R?a[b]:t;p(F,s[b],B)}return F}function av(s){return vi(s)?s:[]}function lv(s){return typeof s=="function"?s:Rr}function ys(s,a){return pt(s)?s:vv(s,a)?[s]:l1(At(s))}var PH=yt;function bs(s,a,p){var b=s.length;return p=p===t?b:p,!a&&p>=b?s:un(s,a,p)}var OS=hq||function(s){return xi.clearTimeout(s)};function DS(s,a){if(a)return s.slice();var p=s.length,b=iS?iS(p):new s.constructor(p);return s.copy(b),b}function uv(s){var a=new s.constructor(s.byteLength);return new xp(a).set(new xp(s)),a}function IH(s,a){var p=a?uv(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.byteLength)}function AH(s){var a=new s.constructor(s.source,$u.exec(s));return a.lastIndex=s.lastIndex,a}function TH(s){return cc?Et(cc.call(s)):{}}function LS(s,a){var p=a?uv(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.length)}function FS(s,a){if(s!==a){var p=s!==t,b=s===null,C=s===s,R=Gr(s),F=a!==t,B=a===null,Z=a===a,ve=Gr(a);if(!B&&!ve&&!R&&s>a||R&&F&&Z&&!B&&!ve||b&&F&&Z||!p&&Z||!C)return 1;if(!b&&!R&&!ve&&s<a||ve&&p&&C&&!b&&!R||B&&p&&C||!F&&C||!Z)return-1}return 0}function MH(s,a,p){for(var b=-1,C=s.criteria,R=a.criteria,F=C.length,B=p.length;++b<F;){var Z=FS(C[b],R[b]);if(Z){if(b>=B)return Z;var ve=p[b];return Z*(ve=="desc"?-1:1)}}return s.index-a.index}function zS(s,a,p,b){for(var C=-1,R=s.length,F=p.length,B=-1,Z=a.length,ve=Pi(R-F,0),ye=de(Z+ve),we=!b;++B<Z;)ye[B]=a[B];for(;++C<F;)(we||C<R)&&(ye[p[C]]=s[C]);for(;ve--;)ye[B++]=s[C++];return ye}function qS(s,a,p,b){for(var C=-1,R=s.length,F=-1,B=p.length,Z=-1,ve=a.length,ye=Pi(R-B,0),we=de(ye+ve),Te=!b;++C<ye;)we[C]=s[C];for(var Ue=C;++Z<ve;)we[Ue+Z]=a[Z];for(;++F<B;)(Te||C<R)&&(we[Ue+p[F]]=s[C++]);return we}function Ar(s,a){var p=-1,b=s.length;for(a||(a=de(b));++p<b;)a[p]=s[p];return a}function io(s,a,p,b){var C=!p;p||(p={});for(var R=-1,F=a.length;++R<F;){var B=a[R],Z=b?b(p[B],s[B],B,p,s):t;Z===t&&(Z=s[B]),C?Ho(p,B,Z):dc(p,B,Z)}return p}function RH(s,a){return io(s,gv(s),a)}function NH(s,a){return io(s,JS(s),a)}function Lp(s,a){return function(p,b){var C=pt(p)?Bg:eH,R=a?a():{};return C(p,s,Xe(b,2),R)}}function El(s){return yt(function(a,p){var b=-1,C=p.length,R=C>1?p[C-1]:t,F=C>2?p[2]:t;for(R=s.length>3&&typeof R=="function"?(C--,R):t,F&&yr(p[0],p[1],F)&&(R=C<3?t:R,C=1),a=Et(a);++b<C;){var B=p[b];B&&s(a,B,b,R)}return a})}function HS(s,a){return function(p,b){if(p==null)return p;if(!Tr(p))return s(p,b);for(var C=p.length,R=a?C:-1,F=Et(p);(a?R--:++R<C)&&b(F[R],R,F)!==!1;);return p}}function US(s){return function(a,p,b){for(var C=-1,R=Et(a),F=b(a),B=F.length;B--;){var Z=F[s?B:++C];if(p(R[Z],Z,R)===!1)break}return a}}function kH(s,a,p){var b=a&E,C=gc(s);function R(){var F=this&&this!==xi&&this instanceof R?C:s;return F.apply(b?p:this,arguments)}return R}function BS(s){return function(a){a=At(a);var p=He(a)?Ri(a):t,b=p?p[0]:a.charAt(0),C=p?bs(p,1).join(""):a.slice(1);return b[s]()+C}}function Cl(s){return function(a){return on(H1(q1(a).replace(pp,"")),s,"")}}function gc(s){return function(){var a=arguments;switch(a.length){case 0:return new s;case 1:return new s(a[0]);case 2:return new s(a[0],a[1]);case 3:return new s(a[0],a[1],a[2]);case 4:return new s(a[0],a[1],a[2],a[3]);case 5:return new s(a[0],a[1],a[2],a[3],a[4]);case 6:return new s(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new s(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var p=_l(s.prototype),b=s.apply(p,a);return si(b)?b:p}}function OH(s,a,p){var b=gc(s);function C(){for(var R=arguments.length,F=de(R),B=R,Z=Pl(C);B--;)F[B]=arguments[B];var ve=R<3&&F[0]!==Z&&F[R-1]!==Z?[]:It(F,Z);if(R-=ve.length,R<p)return GS(s,a,Fp,C.placeholder,t,F,ve,t,t,p-R);var ye=this&&this!==xi&&this instanceof C?b:s;return fr(ye,this,F)}return C}function WS(s){return function(a,p,b){var C=Et(a);if(!Tr(a)){var R=Xe(p,3);a=Ni(a),p=function(B){return R(C[B],B,C)}}var F=s(a,p,b);return F>-1?C[R?a[F]:F]:t}}function VS(s){return Bo(function(a){var p=a.length,b=p,C=an.prototype.thru;for(s&&a.reverse();b--;){var R=a[b];if(typeof R!="function")throw new Yi(n);if(C&&!F&&Up(R)=="wrapper")var F=new an([],!0)}for(b=F?b:p;++b<p;){R=a[b];var B=Up(R),Z=B=="wrapper"?fv(R):t;Z&&yv(Z[0])&&Z[1]==(H|A|z|re)&&!Z[4].length&&Z[9]==1?F=F[Up(Z[0])].apply(F,Z[3]):F=R.length==1&&yv(R)?F[B]():F.thru(R)}return function(){var ve=arguments,ye=ve[0];if(F&&ve.length==1&&pt(ye))return F.plant(ye).value();for(var we=0,Te=p?a[we].apply(this,ve):ye;++we<p;)Te=a[we].call(this,Te);return Te}})}function Fp(s,a,p,b,C,R,F,B,Z,ve){var ye=a&H,we=a&E,Te=a&_,Ue=a&(A|L),rt=a&Q,vt=Te?t:gc(s);function nt(){for(var wt=arguments.length,St=de(wt),Kr=wt;Kr--;)St[Kr]=arguments[Kr];if(Ue)var br=Pl(nt),Yr=k(St,br);if(b&&(St=zS(St,b,C,Ue)),R&&(St=qS(St,R,F,Ue)),wt-=Yr,Ue&&wt<ve){var yi=It(St,br);return GS(s,a,Fp,nt.placeholder,p,St,yi,B,Z,ve-wt)}var kn=we?p:this,jo=Te?kn[s]:s;return wt=St.length,B?St=e3(St,B):rt&&wt>1&&St.reverse(),ye&&Z<wt&&(St.length=Z),this&&this!==xi&&this instanceof nt&&(jo=vt||gc(jo)),jo.apply(kn,St)}return nt}function $S(s,a){return function(p,b){return lH(p,s,a(b),{})}}function zp(s,a){return function(p,b){var C;if(p===t&&b===t)return a;if(p!==t&&(C=p),b!==t){if(C===t)return b;typeof p=="string"||typeof b=="string"?(p=jr(p),b=jr(b)):(p=MS(p),b=MS(b)),C=s(p,b)}return C}}function cv(s){return Bo(function(a){return a=Wt(a,mr(Xe())),yt(function(p){var b=this;return s(a,function(C){return fr(C,b,p)})})})}function qp(s,a){a=a===t?" ":jr(a);var p=a.length;if(p<2)return p?rv(a,s):a;var b=rv(a,Cp(s/ci(a)));return He(a)?bs(Ri(b),0,s).join(""):b.slice(0,s)}function DH(s,a,p,b){var C=a&E,R=gc(s);function F(){for(var B=-1,Z=arguments.length,ve=-1,ye=b.length,we=de(ye+Z),Te=this&&this!==xi&&this instanceof F?R:s;++ve<ye;)we[ve]=b[ve];for(;Z--;)we[ve++]=arguments[++B];return fr(Te,C?p:this,we)}return F}function jS(s){return function(a,p,b){return b&&typeof b!="number"&&yr(a,p,b)&&(p=b=t),a=$o(a),p===t?(p=a,a=0):p=$o(p),b=b===t?a<p?1:-1:$o(b),wH(a,p,b,s)}}function Hp(s){return function(a,p){return typeof a=="string"&&typeof p=="string"||(a=dn(a),p=dn(p)),s(a,p)}}function GS(s,a,p,b,C,R,F,B,Z,ve){var ye=a&A,we=ye?F:t,Te=ye?t:F,Ue=ye?R:t,rt=ye?t:R;a|=ye?z:q,a&=~(ye?q:z),a&P||(a&=~(E|_));var vt=[s,a,C,Ue,we,rt,Te,B,Z,ve],nt=p.apply(t,vt);return yv(s)&&o1(nt,vt),nt.placeholder=b,s1(nt,s,a)}function dv(s){var a=ei[s];return function(p,b){if(p=dn(p),b=b==null?0:nr(mt(b),292),b&&sS(p)){var C=(At(p)+"e").split("e"),R=a(C[0]+"e"+(+C[1]+b));return C=(At(R)+"e").split("e"),+(C[0]+"e"+(+C[1]-b))}return a(p)}}var LH=xl&&1/Si(new xl([,-0]))[1]==K?function(s){return new xl(s)}:kv;function KS(s){return function(a){var p=or(a);return p==Ee?Ye(a):p==_t?gr(a):yp(a,s(a))}}function Uo(s,a,p,b,C,R,F,B){var Z=a&_;if(!Z&&typeof s!="function")throw new Yi(n);var ve=b?b.length:0;if(ve||(a&=~(z|q),b=C=t),F=F===t?F:Pi(mt(F),0),B=B===t?B:mt(B),ve-=C?C.length:0,a&q){var ye=b,we=C;b=C=t}var Te=Z?t:fv(s),Ue=[s,a,p,b,C,ye,we,R,F,B];if(Te&&ZH(Ue,Te),s=Ue[0],a=Ue[1],p=Ue[2],b=Ue[3],C=Ue[4],B=Ue[9]=Ue[9]===t?Z?0:s.length:Pi(Ue[9]-ve,0),!B&&a&(A|L)&&(a&=~(A|L)),!a||a==E)var rt=kH(s,a,p);else a==A||a==L?rt=OH(s,a,B):(a==z||a==(E|z))&&!C.length?rt=DH(s,a,p,b):rt=Fp.apply(t,Ue);var vt=Te?AS:o1;return s1(vt(rt,Ue),s,a)}function YS(s,a,p,b){return s===t||Nn(s,Ir[p])&&!Ot.call(b,p)?a:s}function XS(s,a,p,b,C,R){return si(s)&&si(a)&&(R.set(a,s),kp(s,a,t,XS,R),R.delete(a)),s}function FH(s){return bc(s)?t:s}function ZS(s,a,p,b,C,R){var F=p&v,B=s.length,Z=a.length;if(B!=Z&&!(F&&Z>B))return!1;var ve=R.get(s),ye=R.get(a);if(ve&&ye)return ve==a&&ye==s;var we=-1,Te=!0,Ue=p&S?new ma:t;for(R.set(s,a),R.set(a,s);++we<B;){var rt=s[we],vt=a[we];if(b)var nt=F?b(vt,rt,we,a,s,R):b(rt,vt,we,s,a,R);if(nt!==t){if(nt)continue;Te=!1;break}if(Ue){if(!sa(a,function(wt,St){if(!gi(Ue,St)&&(rt===wt||C(rt,wt,p,b,R)))return Ue.push(St)})){Te=!1;break}}else if(!(rt===vt||C(rt,vt,p,b,R))){Te=!1;break}}return R.delete(s),R.delete(a),Te}function zH(s,a,p,b,C,R,F){switch(p){case En:if(s.byteLength!=a.byteLength||s.byteOffset!=a.byteOffset)return!1;s=s.buffer,a=a.buffer;case Hr:return!(s.byteLength!=a.byteLength||!R(new xp(s),new xp(a)));case Ie:case Oe:case ct:return Nn(+s,+a);case at:return s.name==a.name&&s.message==a.message;case Bt:case zt:return s==a+"";case Ee:var B=Ye;case _t:var Z=b&v;if(B||(B=Si),s.size!=a.size&&!Z)return!1;var ve=F.get(s);if(ve)return ve==a;b|=S,F.set(s,a);var ye=ZS(B(s),B(a),b,C,R,F);return F.delete(s),ye;case st:if(cc)return cc.call(s)==cc.call(a)}return!1}function qH(s,a,p,b,C,R){var F=p&v,B=pv(s),Z=B.length,ve=pv(a),ye=ve.length;if(Z!=ye&&!F)return!1;for(var we=Z;we--;){var Te=B[we];if(!(F?Te in a:Ot.call(a,Te)))return!1}var Ue=R.get(s),rt=R.get(a);if(Ue&&rt)return Ue==a&&rt==s;var vt=!0;R.set(s,a),R.set(a,s);for(var nt=F;++we<Z;){Te=B[we];var wt=s[Te],St=a[Te];if(b)var Kr=F?b(St,wt,Te,a,s,R):b(wt,St,Te,s,a,R);if(!(Kr===t?wt===St||C(wt,St,p,b,R):Kr)){vt=!1;break}nt||(nt=Te=="constructor")}if(vt&&!nt){var br=s.constructor,Yr=a.constructor;br!=Yr&&"constructor"in s&&"constructor"in a&&!(typeof br=="function"&&br instanceof br&&typeof Yr=="function"&&Yr instanceof Yr)&&(vt=!1)}return R.delete(s),R.delete(a),vt}function Bo(s){return wv(r1(s,t,p1),s+"")}function pv(s){return vS(s,Ni,gv)}function hv(s){return vS(s,Mr,JS)}var fv=Ip?function(s){return Ip.get(s)}:kv;function Up(s){for(var a=s.name+"",p=Sl[a],b=Ot.call(Sl,a)?p.length:0;b--;){var C=p[b],R=C.func;if(R==null||R==s)return C.name}return a}function Pl(s){var a=Ot.call(I,"placeholder")?I:s;return a.placeholder}function Xe(){var s=I.iteratee||Rv;return s=s===Rv?wS:s,arguments.length?s(arguments[0],arguments[1]):s}function Bp(s,a){var p=s.__data__;return GH(a)?p[typeof a=="string"?"string":"hash"]:p.map}function mv(s){for(var a=Ni(s),p=a.length;p--;){var b=a[p],C=s[b];a[p]=[b,C,t1(C)]}return a}function ya(s,a){var p=ke(s,a);return bS(p)?p:t}function HH(s){var a=Ot.call(s,ha),p=s[ha];try{s[ha]=t;var b=!0}catch{}var C=bp.call(s);return b&&(a?s[ha]=p:delete s[ha]),C}var gv=Wg?function(s){return s==null?[]:(s=Et(s),In(Wg(s),function(a){return nS.call(s,a)}))}:Ov,JS=Wg?function(s){for(var a=[];s;)An(a,gv(s)),s=Sp(s);return a}:Ov,or=vr;(Vg&&or(new Vg(new ArrayBuffer(1)))!=En||ac&&or(new ac)!=Ee||$g&&or($g.resolve())!=Ge||xl&&or(new xl)!=_t||lc&&or(new lc)!=Jt)&&(or=function(s){var a=vr(s),p=a==je?s.constructor:t,b=p?ba(p):"";if(b)switch(b){case Sq:return En;case _q:return Ee;case Eq:return Ge;case Cq:return _t;case Pq:return Jt}return a});function UH(s,a,p){for(var b=-1,C=p.length;++b<C;){var R=p[b],F=R.size;switch(R.type){case"drop":s+=F;break;case"dropRight":a-=F;break;case"take":a=nr(a,s+F);break;case"takeRight":s=Pi(s,a-F);break}}return{start:s,end:a}}function BH(s){var a=s.match(Ao);return a?a[1].split(Xs):[]}function QS(s,a,p){a=ys(a,s);for(var b=-1,C=a.length,R=!1;++b<C;){var F=ro(a[b]);if(!(R=s!=null&&p(s,F)))break;s=s[F]}return R||++b!=C?R:(C=s==null?0:s.length,!!C&&Yp(C)&&Wo(F,C)&&(pt(s)||wa(s)))}function WH(s){var a=s.length,p=new s.constructor(a);return a&&typeof s[0]=="string"&&Ot.call(s,"index")&&(p.index=s.index,p.input=s.input),p}function e1(s){return typeof s.constructor=="function"&&!vc(s)?_l(Sp(s)):{}}function VH(s,a,p){var b=s.constructor;switch(a){case Hr:return uv(s);case Ie:case Oe:return new b(+s);case En:return IH(s,p);case ss:case Po:case wi:case gt:case Er:case ur:case nl:case ui:case Io:return LS(s,p);case Ee:return new b;case ct:case zt:return new b(s);case Bt:return AH(s);case _t:return new b;case st:return TH(s)}}function $H(s,a){var p=a.length;if(!p)return s;var b=p-1;return a[b]=(p>1?"& ":"")+a[b],a=a.join(p>2?", ":" "),s.replace(cr,`{
/* [wrapped with `+a+`] */
`)}function jH(s){return pt(s)||wa(s)||!!(oS&&s&&s[oS])}function Wo(s,a){var p=typeof s;return a=a??Y,!!a&&(p=="number"||p!="symbol"&&To.test(s))&&s>-1&&s%1==0&&s<a}function yr(s,a,p){if(!si(p))return!1;var b=typeof a;return(b=="number"?Tr(p)&&Wo(a,p.length):b=="string"&&a in p)?Nn(p[a],s):!1}function vv(s,a){if(pt(s))return!1;var p=typeof s;return p=="number"||p=="symbol"||p=="boolean"||s==null||Gr(s)?!0:rp.test(s)||!ip.test(s)||a!=null&&s in Et(a)}function GH(s){var a=typeof s;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?s!=="__proto__":s===null}function yv(s){var a=Up(s),p=I[a];if(typeof p!="function"||!(a in xt.prototype))return!1;if(s===p)return!0;var b=fv(p);return!!b&&s===b[0]}function KH(s){return!!tS&&tS in s}var YH=pa?Vo:Dv;function vc(s){var a=s&&s.constructor,p=typeof a=="function"&&a.prototype||Ir;return s===p}function t1(s){return s===s&&!si(s)}function i1(s,a){return function(p){return p==null?!1:p[s]===a&&(a!==t||s in Et(p))}}function XH(s){var a=Gp(s,function(b){return p.size===u&&p.clear(),b}),p=a.cache;return a}function ZH(s,a){var p=s[1],b=a[1],C=p|b,R=C<(E|_|H),F=b==H&&p==A||b==H&&p==re&&s[7].length<=a[8]||b==(H|re)&&a[7].length<=a[8]&&p==A;if(!(R||F))return s;b&E&&(s[2]=a[2],C|=p&E?0:P);var B=a[3];if(B){var Z=s[3];s[3]=Z?zS(Z,B,a[4]):B,s[4]=Z?It(s[3],c):a[4]}return B=a[5],B&&(Z=s[5],s[5]=Z?qS(Z,B,a[6]):B,s[6]=Z?It(s[5],c):a[6]),B=a[7],B&&(s[7]=B),b&H&&(s[8]=s[8]==null?a[8]:nr(s[8],a[8])),s[9]==null&&(s[9]=a[9]),s[0]=a[0],s[1]=C,s}function JH(s){var a=[];if(s!=null)for(var p in Et(s))a.push(p);return a}function QH(s){return bp.call(s)}function r1(s,a,p){return a=Pi(a===t?s.length-1:a,0),function(){for(var b=arguments,C=-1,R=Pi(b.length-a,0),F=de(R);++C<R;)F[C]=b[a+C];C=-1;for(var B=de(a+1);++C<a;)B[C]=b[C];return B[a]=p(F),fr(s,this,B)}}function n1(s,a){return a.length<2?s:va(s,un(a,0,-1))}function e3(s,a){for(var p=s.length,b=nr(a.length,p),C=Ar(s);b--;){var R=a[b];s[b]=Wo(R,p)?C[R]:t}return s}function bv(s,a){if(!(a==="constructor"&&typeof s[a]=="function")&&a!="__proto__")return s[a]}var o1=a1(AS),yc=mq||function(s,a){return xi.setTimeout(s,a)},wv=a1(_H);function s1(s,a,p){var b=a+"";return wv(s,$H(b,t3(BH(b),p)))}function a1(s){var a=0,p=0;return function(){var b=bq(),C=J-(b-p);if(p=b,C>0){if(++a>=ue)return arguments[0]}else a=0;return s.apply(t,arguments)}}function Wp(s,a){var p=-1,b=s.length,C=b-1;for(a=a===t?b:a;++p<a;){var R=iv(p,C),F=s[R];s[R]=s[p],s[p]=F}return s.length=a,s}var l1=XH(function(s){var a=[];return s.charCodeAt(0)===46&&a.push(""),s.replace(np,function(p,b,C,R){a.push(C?R.replace(ls,"$1"):b||p)}),a});function ro(s){if(typeof s=="string"||Gr(s))return s;var a=s+"";return a=="0"&&1/s==-K?"-0":a}function ba(s){if(s!=null){try{return wl.call(s)}catch{}try{return s+""}catch{}}return""}function t3(s,a){return Cr(ce,function(p){var b="_."+p[0];a&p[1]&&!oa(s,b)&&s.push(b)}),s.sort()}function u1(s){if(s instanceof xt)return s.clone();var a=new an(s.__wrapped__,s.__chain__);return a.__actions__=Ar(s.__actions__),a.__index__=s.__index__,a.__values__=s.__values__,a}function i3(s,a,p){(p?yr(s,a,p):a===t)?a=1:a=Pi(mt(a),0);var b=s==null?0:s.length;if(!b||a<1)return[];for(var C=0,R=0,F=de(Cp(b/a));C<b;)F[R++]=un(s,C,C+=a);return F}function r3(s){for(var a=-1,p=s==null?0:s.length,b=0,C=[];++a<p;){var R=s[a];R&&(C[b++]=R)}return C}function n3(){var s=arguments.length;if(!s)return[];for(var a=de(s-1),p=arguments[0],b=s;b--;)a[b-1]=arguments[b];return An(pt(p)?Ar(p):[p],Xi(a,1))}var o3=yt(function(s,a){return vi(s)?pc(s,Xi(a,1,vi,!0)):[]}),s3=yt(function(s,a){var p=cn(a);return vi(p)&&(p=t),vi(s)?pc(s,Xi(a,1,vi,!0),Xe(p,2)):[]}),a3=yt(function(s,a){var p=cn(a);return vi(p)&&(p=t),vi(s)?pc(s,Xi(a,1,vi,!0),t,p):[]});function l3(s,a,p){var b=s==null?0:s.length;return b?(a=p||a===t?1:mt(a),un(s,a<0?0:a,b)):[]}function u3(s,a,p){var b=s==null?0:s.length;return b?(a=p||a===t?1:mt(a),a=b-a,un(s,0,a<0?0:a)):[]}function c3(s,a){return s&&s.length?Dp(s,Xe(a,3),!0,!0):[]}function d3(s,a){return s&&s.length?Dp(s,Xe(a,3),!0):[]}function p3(s,a,p,b){var C=s==null?0:s.length;return C?(p&&typeof p!="number"&&yr(s,a,p)&&(p=0,b=C),nH(s,a,p,b)):[]}function c1(s,a,p){var b=s==null?0:s.length;if(!b)return-1;var C=p==null?0:mt(p);return C<0&&(C=Pi(b+C,0)),ps(s,Xe(a,3),C)}function d1(s,a,p){var b=s==null?0:s.length;if(!b)return-1;var C=b-1;return p!==t&&(C=mt(p),C=p<0?Pi(b+C,0):nr(C,b-1)),ps(s,Xe(a,3),C,!0)}function p1(s){var a=s==null?0:s.length;return a?Xi(s,1):[]}function h3(s){var a=s==null?0:s.length;return a?Xi(s,K):[]}function f3(s,a){var p=s==null?0:s.length;return p?(a=a===t?1:mt(a),Xi(s,a)):[]}function m3(s){for(var a=-1,p=s==null?0:s.length,b={};++a<p;){var C=s[a];b[C[0]]=C[1]}return b}function h1(s){return s&&s.length?s[0]:t}function g3(s,a,p){var b=s==null?0:s.length;if(!b)return-1;var C=p==null?0:mt(p);return C<0&&(C=Pi(b+C,0)),Wr(s,a,C)}function v3(s){var a=s==null?0:s.length;return a?un(s,0,-1):[]}var y3=yt(function(s){var a=Wt(s,av);return a.length&&a[0]===s[0]?Zg(a):[]}),b3=yt(function(s){var a=cn(s),p=Wt(s,av);return a===cn(p)?a=t:p.pop(),p.length&&p[0]===s[0]?Zg(p,Xe(a,2)):[]}),w3=yt(function(s){var a=cn(s),p=Wt(s,av);return a=typeof a=="function"?a:t,a&&p.pop(),p.length&&p[0]===s[0]?Zg(p,t,a):[]});function x3(s,a){return s==null?"":vq.call(s,a)}function cn(s){var a=s==null?0:s.length;return a?s[a-1]:t}function S3(s,a,p){var b=s==null?0:s.length;if(!b)return-1;var C=b;return p!==t&&(C=mt(p),C=C<0?Pi(b+C,0):nr(C,b-1)),a===a?Qt(s,a,C):ps(s,Do,C,!0)}function _3(s,a){return s&&s.length?ES(s,mt(a)):t}var E3=yt(f1);function f1(s,a){return s&&s.length&&a&&a.length?tv(s,a):s}function C3(s,a,p){return s&&s.length&&a&&a.length?tv(s,a,Xe(p,2)):s}function P3(s,a,p){return s&&s.length&&a&&a.length?tv(s,a,t,p):s}var I3=Bo(function(s,a){var p=s==null?0:s.length,b=Gg(s,a);return IS(s,Wt(a,function(C){return Wo(C,p)?+C:C}).sort(FS)),b});function A3(s,a){var p=[];if(!(s&&s.length))return p;var b=-1,C=[],R=s.length;for(a=Xe(a,3);++b<R;){var F=s[b];a(F,b,s)&&(p.push(F),C.push(b))}return IS(s,C),p}function xv(s){return s==null?s:xq.call(s)}function T3(s,a,p){var b=s==null?0:s.length;return b?(p&&typeof p!="number"&&yr(s,a,p)?(a=0,p=b):(a=a==null?0:mt(a),p=p===t?b:mt(p)),un(s,a,p)):[]}function M3(s,a){return Op(s,a)}function R3(s,a,p){return nv(s,a,Xe(p,2))}function N3(s,a){var p=s==null?0:s.length;if(p){var b=Op(s,a);if(b<p&&Nn(s[b],a))return b}return-1}function k3(s,a){return Op(s,a,!0)}function O3(s,a,p){return nv(s,a,Xe(p,2),!0)}function D3(s,a){var p=s==null?0:s.length;if(p){var b=Op(s,a,!0)-1;if(Nn(s[b],a))return b}return-1}function L3(s){return s&&s.length?TS(s):[]}function F3(s,a){return s&&s.length?TS(s,Xe(a,2)):[]}function z3(s){var a=s==null?0:s.length;return a?un(s,1,a):[]}function q3(s,a,p){return s&&s.length?(a=p||a===t?1:mt(a),un(s,0,a<0?0:a)):[]}function H3(s,a,p){var b=s==null?0:s.length;return b?(a=p||a===t?1:mt(a),a=b-a,un(s,a<0?0:a,b)):[]}function U3(s,a){return s&&s.length?Dp(s,Xe(a,3),!1,!0):[]}function B3(s,a){return s&&s.length?Dp(s,Xe(a,3)):[]}var W3=yt(function(s){return vs(Xi(s,1,vi,!0))}),V3=yt(function(s){var a=cn(s);return vi(a)&&(a=t),vs(Xi(s,1,vi,!0),Xe(a,2))}),$3=yt(function(s){var a=cn(s);return a=typeof a=="function"?a:t,vs(Xi(s,1,vi,!0),t,a)});function j3(s){return s&&s.length?vs(s):[]}function G3(s,a){return s&&s.length?vs(s,Xe(a,2)):[]}function K3(s,a){return a=typeof a=="function"?a:t,s&&s.length?vs(s,t,a):[]}function Sv(s){if(!(s&&s.length))return[];var a=0;return s=In(s,function(p){if(vi(p))return a=Pi(p.length,a),!0}),ua(a,function(p){return Wt(s,la(p))})}function m1(s,a){if(!(s&&s.length))return[];var p=Sv(s);return a==null?p:Wt(p,function(b){return fr(a,t,b)})}var Y3=yt(function(s,a){return vi(s)?pc(s,a):[]}),X3=yt(function(s){return sv(In(s,vi))}),Z3=yt(function(s){var a=cn(s);return vi(a)&&(a=t),sv(In(s,vi),Xe(a,2))}),J3=yt(function(s){var a=cn(s);return a=typeof a=="function"?a:t,sv(In(s,vi),t,a)}),Q3=yt(Sv);function eU(s,a){return kS(s||[],a||[],dc)}function tU(s,a){return kS(s||[],a||[],mc)}var iU=yt(function(s){var a=s.length,p=a>1?s[a-1]:t;return p=typeof p=="function"?(s.pop(),p):t,m1(s,p)});function g1(s){var a=I(s);return a.__chain__=!0,a}function rU(s,a){return a(s),s}function Vp(s,a){return a(s)}var nU=Bo(function(s){var a=s.length,p=a?s[0]:0,b=this.__wrapped__,C=function(R){return Gg(R,s)};return a>1||this.__actions__.length||!(b instanceof xt)||!Wo(p)?this.thru(C):(b=b.slice(p,+p+(a?1:0)),b.__actions__.push({func:Vp,args:[C],thisArg:t}),new an(b,this.__chain__).thru(function(R){return a&&!R.length&&R.push(t),R}))});function oU(){return g1(this)}function sU(){return new an(this.value(),this.__chain__)}function aU(){this.__values__===t&&(this.__values__=M1(this.value()));var s=this.__index__>=this.__values__.length,a=s?t:this.__values__[this.__index__++];return{done:s,value:a}}function lU(){return this}function uU(s){for(var a,p=this;p instanceof Tp;){var b=u1(p);b.__index__=0,b.__values__=t,a?C.__wrapped__=b:a=b;var C=b;p=p.__wrapped__}return C.__wrapped__=s,a}function cU(){var s=this.__wrapped__;if(s instanceof xt){var a=s;return this.__actions__.length&&(a=new xt(this)),a=a.reverse(),a.__actions__.push({func:Vp,args:[xv],thisArg:t}),new an(a,this.__chain__)}return this.thru(xv)}function dU(){return NS(this.__wrapped__,this.__actions__)}var pU=Lp(function(s,a,p){Ot.call(s,p)?++s[p]:Ho(s,p,1)});function hU(s,a,p){var b=pt(s)?na:rH;return p&&yr(s,a,p)&&(a=t),b(s,Xe(a,3))}function fU(s,a){var p=pt(s)?In:mS;return p(s,Xe(a,3))}var mU=WS(c1),gU=WS(d1);function vU(s,a){return Xi($p(s,a),1)}function yU(s,a){return Xi($p(s,a),K)}function bU(s,a,p){return p=p===t?1:mt(p),Xi($p(s,a),p)}function v1(s,a){var p=pt(s)?Cr:gs;return p(s,Xe(a,3))}function y1(s,a){var p=pt(s)?ra:fS;return p(s,Xe(a,3))}var wU=Lp(function(s,a,p){Ot.call(s,p)?s[p].push(a):Ho(s,p,[a])});function xU(s,a,p,b){s=Tr(s)?s:Al(s),p=p&&!b?mt(p):0;var C=s.length;return p<0&&(p=Pi(C+p,0)),Xp(s)?p<=C&&s.indexOf(a,p)>-1:!!C&&Wr(s,a,p)>-1}var SU=yt(function(s,a,p){var b=-1,C=typeof a=="function",R=Tr(s)?de(s.length):[];return gs(s,function(F){R[++b]=C?fr(a,F,p):hc(F,a,p)}),R}),_U=Lp(function(s,a,p){Ho(s,p,a)});function $p(s,a){var p=pt(s)?Wt:xS;return p(s,Xe(a,3))}function EU(s,a,p,b){return s==null?[]:(pt(a)||(a=a==null?[]:[a]),p=b?t:p,pt(p)||(p=p==null?[]:[p]),CS(s,a,p))}var CU=Lp(function(s,a,p){s[p?0:1].push(a)},function(){return[[],[]]});function PU(s,a,p){var b=pt(s)?on:vl,C=arguments.length<3;return b(s,Xe(a,4),p,C,gs)}function IU(s,a,p){var b=pt(s)?ic:vl,C=arguments.length<3;return b(s,Xe(a,4),p,C,fS)}function AU(s,a){var p=pt(s)?In:mS;return p(s,Kp(Xe(a,3)))}function TU(s){var a=pt(s)?cS:xH;return a(s)}function MU(s,a,p){(p?yr(s,a,p):a===t)?a=1:a=mt(a);var b=pt(s)?Jq:SH;return b(s,a)}function RU(s){var a=pt(s)?Qq:EH;return a(s)}function NU(s){if(s==null)return 0;if(Tr(s))return Xp(s)?ci(s):s.length;var a=or(s);return a==Ee||a==_t?s.size:Qg(s).length}function kU(s,a,p){var b=pt(s)?sa:CH;return p&&yr(s,a,p)&&(a=t),b(s,Xe(a,3))}var OU=yt(function(s,a){if(s==null)return[];var p=a.length;return p>1&&yr(s,a[0],a[1])?a=[]:p>2&&yr(a[0],a[1],a[2])&&(a=[a[0]]),CS(s,Xi(a,1),[])}),jp=fq||function(){return xi.Date.now()};function DU(s,a){if(typeof a!="function")throw new Yi(n);return s=mt(s),function(){if(--s<1)return a.apply(this,arguments)}}function b1(s,a,p){return a=p?t:a,a=s&&a==null?s.length:a,Uo(s,H,t,t,t,t,a)}function w1(s,a){var p;if(typeof a!="function")throw new Yi(n);return s=mt(s),function(){return--s>0&&(p=a.apply(this,arguments)),s<=1&&(a=t),p}}var _v=yt(function(s,a,p){var b=E;if(p.length){var C=It(p,Pl(_v));b|=z}return Uo(s,b,a,p,C)}),x1=yt(function(s,a,p){var b=E|_;if(p.length){var C=It(p,Pl(x1));b|=z}return Uo(a,b,s,p,C)});function S1(s,a,p){a=p?t:a;var b=Uo(s,A,t,t,t,t,t,a);return b.placeholder=S1.placeholder,b}function _1(s,a,p){a=p?t:a;var b=Uo(s,L,t,t,t,t,t,a);return b.placeholder=_1.placeholder,b}function E1(s,a,p){var b,C,R,F,B,Z,ve=0,ye=!1,we=!1,Te=!0;if(typeof s!="function")throw new Yi(n);a=dn(a)||0,si(p)&&(ye=!!p.leading,we="maxWait"in p,R=we?Pi(dn(p.maxWait)||0,a):R,Te="trailing"in p?!!p.trailing:Te);function Ue(yi){var kn=b,jo=C;return b=C=t,ve=yi,F=s.apply(jo,kn),F}function rt(yi){return ve=yi,B=yc(wt,a),ye?Ue(yi):F}function vt(yi){var kn=yi-Z,jo=yi-ve,W1=a-kn;return we?nr(W1,R-jo):W1}function nt(yi){var kn=yi-Z,jo=yi-ve;return Z===t||kn>=a||kn<0||we&&jo>=R}function wt(){var yi=jp();if(nt(yi))return St(yi);B=yc(wt,vt(yi))}function St(yi){return B=t,Te&&b?Ue(yi):(b=C=t,F)}function Kr(){B!==t&&OS(B),ve=0,b=Z=C=B=t}function br(){return B===t?F:St(jp())}function Yr(){var yi=jp(),kn=nt(yi);if(b=arguments,C=this,Z=yi,kn){if(B===t)return rt(Z);if(we)return OS(B),B=yc(wt,a),Ue(Z)}return B===t&&(B=yc(wt,a)),F}return Yr.cancel=Kr,Yr.flush=br,Yr}var LU=yt(function(s,a){return hS(s,1,a)}),FU=yt(function(s,a,p){return hS(s,dn(a)||0,p)});function zU(s){return Uo(s,Q)}function Gp(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new Yi(n);var p=function(){var b=arguments,C=a?a.apply(this,b):b[0],R=p.cache;if(R.has(C))return R.get(C);var F=s.apply(this,b);return p.cache=R.set(C,F)||R,F};return p.cache=new(Gp.Cache||qo),p}Gp.Cache=qo;function Kp(s){if(typeof s!="function")throw new Yi(n);return function(){var a=arguments;switch(a.length){case 0:return!s.call(this);case 1:return!s.call(this,a[0]);case 2:return!s.call(this,a[0],a[1]);case 3:return!s.call(this,a[0],a[1],a[2])}return!s.apply(this,a)}}function qU(s){return w1(2,s)}var HU=PH(function(s,a){a=a.length==1&&pt(a[0])?Wt(a[0],mr(Xe())):Wt(Xi(a,1),mr(Xe()));var p=a.length;return yt(function(b){for(var C=-1,R=nr(b.length,p);++C<R;)b[C]=a[C].call(this,b[C]);return fr(s,this,b)})}),Ev=yt(function(s,a){var p=It(a,Pl(Ev));return Uo(s,z,t,a,p)}),C1=yt(function(s,a){var p=It(a,Pl(C1));return Uo(s,q,t,a,p)}),UU=Bo(function(s,a){return Uo(s,re,t,t,t,a)});function BU(s,a){if(typeof s!="function")throw new Yi(n);return a=a===t?a:mt(a),yt(s,a)}function WU(s,a){if(typeof s!="function")throw new Yi(n);return a=a==null?0:Pi(mt(a),0),yt(function(p){var b=p[a],C=bs(p,0,a);return b&&An(C,b),fr(s,this,C)})}function VU(s,a,p){var b=!0,C=!0;if(typeof s!="function")throw new Yi(n);return si(p)&&(b="leading"in p?!!p.leading:b,C="trailing"in p?!!p.trailing:C),E1(s,a,{leading:b,maxWait:a,trailing:C})}function $U(s){return b1(s,1)}function jU(s,a){return Ev(lv(a),s)}function GU(){if(!arguments.length)return[];var s=arguments[0];return pt(s)?s:[s]}function KU(s){return ln(s,g)}function YU(s,a){return a=typeof a=="function"?a:t,ln(s,g,a)}function XU(s){return ln(s,d|g)}function ZU(s,a){return a=typeof a=="function"?a:t,ln(s,d|g,a)}function JU(s,a){return a==null||pS(s,a,Ni(a))}function Nn(s,a){return s===a||s!==s&&a!==a}var QU=Hp(Xg),eB=Hp(function(s,a){return s>=a}),wa=yS(function(){return arguments}())?yS:function(s){return di(s)&&Ot.call(s,"callee")&&!nS.call(s,"callee")},pt=de.isArray,tB=eo?mr(eo):uH;function Tr(s){return s!=null&&Yp(s.length)&&!Vo(s)}function vi(s){return di(s)&&Tr(s)}function iB(s){return s===!0||s===!1||di(s)&&vr(s)==Ie}var ws=gq||Dv,rB=ml?mr(ml):cH;function nB(s){return di(s)&&s.nodeType===1&&!bc(s)}function oB(s){if(s==null)return!0;if(Tr(s)&&(pt(s)||typeof s=="string"||typeof s.splice=="function"||ws(s)||Il(s)||wa(s)))return!s.length;var a=or(s);if(a==Ee||a==_t)return!s.size;if(vc(s))return!Qg(s).length;for(var p in s)if(Ot.call(s,p))return!1;return!0}function sB(s,a){return fc(s,a)}function aB(s,a,p){p=typeof p=="function"?p:t;var b=p?p(s,a):t;return b===t?fc(s,a,t,p):!!b}function Cv(s){if(!di(s))return!1;var a=vr(s);return a==at||a==ze||typeof s.message=="string"&&typeof s.name=="string"&&!bc(s)}function lB(s){return typeof s=="number"&&sS(s)}function Vo(s){if(!si(s))return!1;var a=vr(s);return a==$e||a==ot||a==Ae||a==jt}function P1(s){return typeof s=="number"&&s==mt(s)}function Yp(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=Y}function si(s){var a=typeof s;return s!=null&&(a=="object"||a=="function")}function di(s){return s!=null&&typeof s=="object"}var I1=ds?mr(ds):pH;function uB(s,a){return s===a||Jg(s,a,mv(a))}function cB(s,a,p){return p=typeof p=="function"?p:t,Jg(s,a,mv(a),p)}function dB(s){return A1(s)&&s!=+s}function pB(s){if(YH(s))throw new it(r);return bS(s)}function hB(s){return s===null}function fB(s){return s==null}function A1(s){return typeof s=="number"||di(s)&&vr(s)==ct}function bc(s){if(!di(s)||vr(s)!=je)return!1;var a=Sp(s);if(a===null)return!0;var p=Ot.call(a,"constructor")&&a.constructor;return typeof p=="function"&&p instanceof p&&wl.call(p)==cq}var Pv=vp?mr(vp):hH;function mB(s){return P1(s)&&s>=-Y&&s<=Y}var T1=rn?mr(rn):fH;function Xp(s){return typeof s=="string"||!pt(s)&&di(s)&&vr(s)==zt}function Gr(s){return typeof s=="symbol"||di(s)&&vr(s)==st}var Il=ir?mr(ir):mH;function gB(s){return s===t}function vB(s){return di(s)&&or(s)==Jt}function yB(s){return di(s)&&vr(s)==Co}var bB=Hp(ev),wB=Hp(function(s,a){return s<=a});function M1(s){if(!s)return[];if(Tr(s))return Xp(s)?Ri(s):Ar(s);if(sc&&s[sc])return Le(s[sc]());var a=or(s),p=a==Ee?Ye:a==_t?Si:Al;return p(s)}function $o(s){if(!s)return s===0?s:0;if(s=dn(s),s===K||s===-K){var a=s<0?-1:1;return a*oe}return s===s?s:0}function mt(s){var a=$o(s),p=a%1;return a===a?p?a-p:a:0}function R1(s){return s?ga(mt(s),0,U):0}function dn(s){if(typeof s=="number")return s;if(Gr(s))return $;if(si(s)){var a=typeof s.valueOf=="function"?s.valueOf():s;s=si(a)?a+"":a}if(typeof s!="string")return s===0?s:+s;s=ca(s);var p=sp.test(s);return p||er.test(s)?Hg(s.slice(2),p?2:8):ju.test(s)?$:+s}function N1(s){return io(s,Mr(s))}function xB(s){return s?ga(mt(s),-Y,Y):s===0?s:0}function At(s){return s==null?"":jr(s)}var SB=El(function(s,a){if(vc(a)||Tr(a)){io(a,Ni(a),s);return}for(var p in a)Ot.call(a,p)&&dc(s,p,a[p])}),k1=El(function(s,a){io(a,Mr(a),s)}),Zp=El(function(s,a,p,b){io(a,Mr(a),s,b)}),_B=El(function(s,a,p,b){io(a,Ni(a),s,b)}),EB=Bo(Gg);function CB(s,a){var p=_l(s);return a==null?p:dS(p,a)}var PB=yt(function(s,a){s=Et(s);var p=-1,b=a.length,C=b>2?a[2]:t;for(C&&yr(a[0],a[1],C)&&(b=1);++p<b;)for(var R=a[p],F=Mr(R),B=-1,Z=F.length;++B<Z;){var ve=F[B],ye=s[ve];(ye===t||Nn(ye,Ir[ve])&&!Ot.call(s,ve))&&(s[ve]=R[ve])}return s}),IB=yt(function(s){return s.push(t,XS),fr(O1,t,s)});function AB(s,a){return Gi(s,Xe(a,3),to)}function TB(s,a){return Gi(s,Xe(a,3),Yg)}function MB(s,a){return s==null?s:Kg(s,Xe(a,3),Mr)}function RB(s,a){return s==null?s:gS(s,Xe(a,3),Mr)}function NB(s,a){return s&&to(s,Xe(a,3))}function kB(s,a){return s&&Yg(s,Xe(a,3))}function OB(s){return s==null?[]:Np(s,Ni(s))}function DB(s){return s==null?[]:Np(s,Mr(s))}function Iv(s,a,p){var b=s==null?t:va(s,a);return b===t?p:b}function LB(s,a){return s!=null&&QS(s,a,oH)}function Av(s,a){return s!=null&&QS(s,a,sH)}var FB=$S(function(s,a,p){a!=null&&typeof a.toString!="function"&&(a=bp.call(a)),s[a]=p},Mv(Rr)),zB=$S(function(s,a,p){a!=null&&typeof a.toString!="function"&&(a=bp.call(a)),Ot.call(s,a)?s[a].push(p):s[a]=[p]},Xe),qB=yt(hc);function Ni(s){return Tr(s)?uS(s):Qg(s)}function Mr(s){return Tr(s)?uS(s,!0):gH(s)}function HB(s,a){var p={};return a=Xe(a,3),to(s,function(b,C,R){Ho(p,a(b,C,R),b)}),p}function UB(s,a){var p={};return a=Xe(a,3),to(s,function(b,C,R){Ho(p,C,a(b,C,R))}),p}var BB=El(function(s,a,p){kp(s,a,p)}),O1=El(function(s,a,p,b){kp(s,a,p,b)}),WB=Bo(function(s,a){var p={};if(s==null)return p;var b=!1;a=Wt(a,function(R){return R=ys(R,s),b||(b=R.length>1),R}),io(s,hv(s),p),b&&(p=ln(p,d|f|g,FH));for(var C=a.length;C--;)ov(p,a[C]);return p});function VB(s,a){return D1(s,Kp(Xe(a)))}var $B=Bo(function(s,a){return s==null?{}:yH(s,a)});function D1(s,a){if(s==null)return{};var p=Wt(hv(s),function(b){return[b]});return a=Xe(a),PS(s,p,function(b,C){return a(b,C[0])})}function jB(s,a,p){a=ys(a,s);var b=-1,C=a.length;for(C||(C=1,s=t);++b<C;){var R=s==null?t:s[ro(a[b])];R===t&&(b=C,R=p),s=Vo(R)?R.call(s):R}return s}function GB(s,a,p){return s==null?s:mc(s,a,p)}function KB(s,a,p,b){return b=typeof b=="function"?b:t,s==null?s:mc(s,a,p,b)}var L1=KS(Ni),F1=KS(Mr);function YB(s,a,p){var b=pt(s),C=b||ws(s)||Il(s);if(a=Xe(a,4),p==null){var R=s&&s.constructor;C?p=b?new R:[]:si(s)?p=Vo(R)?_l(Sp(s)):{}:p={}}return(C?Cr:to)(s,function(F,B,Z){return a(p,F,B,Z)}),p}function XB(s,a){return s==null?!0:ov(s,a)}function ZB(s,a,p){return s==null?s:RS(s,a,lv(p))}function JB(s,a,p,b){return b=typeof b=="function"?b:t,s==null?s:RS(s,a,lv(p),b)}function Al(s){return s==null?[]:Pr(s,Ni(s))}function QB(s){return s==null?[]:Pr(s,Mr(s))}function eW(s,a,p){return p===t&&(p=a,a=t),p!==t&&(p=dn(p),p=p===p?p:0),a!==t&&(a=dn(a),a=a===a?a:0),ga(dn(s),a,p)}function tW(s,a,p){return a=$o(a),p===t?(p=a,a=0):p=$o(p),s=dn(s),aH(s,a,p)}function iW(s,a,p){if(p&&typeof p!="boolean"&&yr(s,a,p)&&(a=p=t),p===t&&(typeof a=="boolean"?(p=a,a=t):typeof s=="boolean"&&(p=s,s=t)),s===t&&a===t?(s=0,a=1):(s=$o(s),a===t?(a=s,s=0):a=$o(a)),s>a){var b=s;s=a,a=b}if(p||s%1||a%1){var C=aS();return nr(s+C*(a-s+qg("1e-"+((C+"").length-1))),a)}return iv(s,a)}var rW=Cl(function(s,a,p){return a=a.toLowerCase(),s+(p?z1(a):a)});function z1(s){return Tv(At(s).toLowerCase())}function q1(s){return s=At(s),s&&s.replace(tr,N).replace(hp,"")}function nW(s,a,p){s=At(s),a=jr(a);var b=s.length;p=p===t?b:ga(mt(p),0,b);var C=p;return p-=a.length,p>=0&&s.slice(p,C)==a}function oW(s){return s=At(s),s&&Uu.test(s)?s.replace(qu,ae):s}function sW(s){return s=At(s),s&&Ng.test(s)?s.replace(Bu,"\\$&"):s}var aW=Cl(function(s,a,p){return s+(p?"-":"")+a.toLowerCase()}),lW=Cl(function(s,a,p){return s+(p?" ":"")+a.toLowerCase()}),uW=BS("toLowerCase");function cW(s,a,p){s=At(s),a=mt(a);var b=a?ci(s):0;if(!a||b>=a)return s;var C=(a-b)/2;return qp(Pp(C),p)+s+qp(Cp(C),p)}function dW(s,a,p){s=At(s),a=mt(a);var b=a?ci(s):0;return a&&b<a?s+qp(a-b,p):s}function pW(s,a,p){s=At(s),a=mt(a);var b=a?ci(s):0;return a&&b<a?qp(a-b,p)+s:s}function hW(s,a,p){return p||a==null?a=0:a&&(a=+a),wq(At(s).replace(Wu,""),a||0)}function fW(s,a,p){return(p?yr(s,a,p):a===t)?a=1:a=mt(a),rv(At(s),a)}function mW(){var s=arguments,a=At(s[0]);return s.length<3?a:a.replace(s[1],s[2])}var gW=Cl(function(s,a,p){return s+(p?"_":"")+a.toLowerCase()});function vW(s,a,p){return p&&typeof p!="number"&&yr(s,a,p)&&(a=p=t),p=p===t?U:p>>>0,p?(s=At(s),s&&(typeof a=="string"||a!=null&&!Pv(a))&&(a=jr(a),!a&&He(s))?bs(Ri(s),0,p):s.split(a,p)):[]}var yW=Cl(function(s,a,p){return s+(p?" ":"")+Tv(a)});function bW(s,a,p){return s=At(s),p=p==null?0:ga(mt(p),0,s.length),a=jr(a),s.slice(p,p+a.length)==a}function wW(s,a,p){var b=I.templateSettings;p&&yr(s,a,p)&&(a=t),s=At(s),a=Zp({},a,b,YS);var C=Zp({},a.imports,b.imports,YS),R=Ni(C),F=Pr(C,R),B,Z,ve=0,ye=a.interpolate||mi,we="__p += '",Te=Fo((a.escape||mi).source+"|"+ye.source+"|"+(ye===sl?kg:mi).source+"|"+(a.evaluate||mi).source+"|$","g"),Ue="//# sourceURL="+(Ot.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++fl+"]")+`
`;s.replace(Te,function(nt,wt,St,Kr,br,Yr){return St||(St=Kr),we+=s.slice(ve,Yr).replace(Mo,Se),wt&&(B=!0,we+=`' +
__e(`+wt+`) +
'`),br&&(Z=!0,we+=`';
`+br+`;
__p += '`),St&&(we+=`' +
((__t = (`+St+`)) == null ? '' : __t) +
'`),ve=Yr+nt.length,nt}),we+=`';
`;var rt=Ot.call(a,"variable")&&a.variable;if(!rt)we=`with (obj) {
`+we+`
}
`;else if(Zs.test(rt))throw new it(o);we=(Z?we.replace(as,""):we).replace(ol,"$1").replace(zu,"$1;"),we="function("+(rt||"obj")+`) {
`+(rt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(B?", __e = _.escape":"")+(Z?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+we+`return __p
}`;var vt=U1(function(){return bt(R,Ue+"return "+we).apply(t,F)});if(vt.source=we,Cv(vt))throw vt;return vt}function xW(s){return At(s).toLowerCase()}function SW(s){return At(s).toUpperCase()}function _W(s,a,p){if(s=At(s),s&&(p||a===t))return ca(s);if(!s||!(a=jr(a)))return s;var b=Ri(s),C=Ri(a),R=x(b,C),F=M(b,C)+1;return bs(b,R,F).join("")}function EW(s,a,p){if(s=At(s),s&&(p||a===t))return s.slice(0,hs(s)+1);if(!s||!(a=jr(a)))return s;var b=Ri(s),C=M(b,Ri(a))+1;return bs(b,0,C).join("")}function CW(s,a,p){if(s=At(s),s&&(p||a===t))return s.replace(Wu,"");if(!s||!(a=jr(a)))return s;var b=Ri(s),C=x(b,Ri(a));return bs(b,C).join("")}function PW(s,a){var p=O,b=ee;if(si(a)){var C="separator"in a?a.separator:C;p="length"in a?mt(a.length):p,b="omission"in a?jr(a.omission):b}s=At(s);var R=s.length;if(He(s)){var F=Ri(s);R=F.length}if(p>=R)return s;var B=p-ci(b);if(B<1)return b;var Z=F?bs(F,0,B).join(""):s.slice(0,B);if(C===t)return Z+b;if(F&&(B+=Z.length-B),Pv(C)){if(s.slice(B).search(C)){var ve,ye=Z;for(C.global||(C=Fo(C.source,At($u.exec(C))+"g")),C.lastIndex=0;ve=C.exec(ye);)var we=ve.index;Z=Z.slice(0,we===t?B:we)}}else if(s.indexOf(jr(C),B)!=B){var Te=Z.lastIndexOf(C);Te>-1&&(Z=Z.slice(0,Te))}return Z+b}function IW(s){return s=At(s),s&&Hu.test(s)?s.replace(Vi,yl):s}var AW=Cl(function(s,a,p){return s+(p?" ":"")+a.toUpperCase()}),Tv=BS("toUpperCase");function H1(s,a,p){return s=At(s),a=p?t:a,a===t?tt(s)?da(s):rc(s):s.match(a)||[]}var U1=yt(function(s,a){try{return fr(s,t,a)}catch(p){return Cv(p)?p:new it(p)}}),TW=Bo(function(s,a){return Cr(a,function(p){p=ro(p),Ho(s,p,_v(s[p],s))}),s});function MW(s){var a=s==null?0:s.length,p=Xe();return s=a?Wt(s,function(b){if(typeof b[1]!="function")throw new Yi(n);return[p(b[0]),b[1]]}):[],yt(function(b){for(var C=-1;++C<a;){var R=s[C];if(fr(R[0],this,b))return fr(R[1],this,b)}})}function RW(s){return iH(ln(s,d))}function Mv(s){return function(){return s}}function NW(s,a){return s==null||s!==s?a:s}var kW=VS(),OW=VS(!0);function Rr(s){return s}function Rv(s){return wS(typeof s=="function"?s:ln(s,d))}function DW(s){return SS(ln(s,d))}function LW(s,a){return _S(s,ln(a,d))}var FW=yt(function(s,a){return function(p){return hc(p,s,a)}}),zW=yt(function(s,a){return function(p){return hc(s,p,a)}});function Nv(s,a,p){var b=Ni(a),C=Np(a,b);p==null&&!(si(a)&&(C.length||!b.length))&&(p=a,a=s,s=this,C=Np(a,Ni(a)));var R=!(si(p)&&"chain"in p)||!!p.chain,F=Vo(s);return Cr(C,function(B){var Z=a[B];s[B]=Z,F&&(s.prototype[B]=function(){var ve=this.__chain__;if(R||ve){var ye=s(this.__wrapped__),we=ye.__actions__=Ar(this.__actions__);return we.push({func:Z,args:arguments,thisArg:s}),ye.__chain__=ve,ye}return Z.apply(s,An([this.value()],arguments))})}),s}function qW(){return xi._===this&&(xi._=dq),this}function kv(){}function HW(s){return s=mt(s),yt(function(a){return ES(a,s)})}var UW=cv(Wt),BW=cv(na),WW=cv(sa);function B1(s){return vv(s)?la(ro(s)):bH(s)}function VW(s){return function(a){return s==null?t:va(s,a)}}var $W=jS(),jW=jS(!0);function Ov(){return[]}function Dv(){return!1}function GW(){return{}}function KW(){return""}function YW(){return!0}function XW(s,a){if(s=mt(s),s<1||s>Y)return[];var p=U,b=nr(s,U);a=Xe(a),s-=U;for(var C=ua(b,a);++p<s;)a(p);return C}function ZW(s){return pt(s)?Wt(s,ro):Gr(s)?[s]:Ar(l1(At(s)))}function JW(s){var a=++uq;return At(s)+a}var QW=zp(function(s,a){return s+a},0),eV=dv("ceil"),tV=zp(function(s,a){return s/a},1),iV=dv("floor");function rV(s){return s&&s.length?Rp(s,Rr,Xg):t}function nV(s,a){return s&&s.length?Rp(s,Xe(a,2),Xg):t}function oV(s){return sn(s,Rr)}function sV(s,a){return sn(s,Xe(a,2))}function aV(s){return s&&s.length?Rp(s,Rr,ev):t}function lV(s,a){return s&&s.length?Rp(s,Xe(a,2),ev):t}var uV=zp(function(s,a){return s*a},1),cV=dv("round"),dV=zp(function(s,a){return s-a},0);function pV(s){return s&&s.length?Tn(s,Rr):0}function hV(s,a){return s&&s.length?Tn(s,Xe(a,2)):0}return I.after=DU,I.ary=b1,I.assign=SB,I.assignIn=k1,I.assignInWith=Zp,I.assignWith=_B,I.at=EB,I.before=w1,I.bind=_v,I.bindAll=TW,I.bindKey=x1,I.castArray=GU,I.chain=g1,I.chunk=i3,I.compact=r3,I.concat=n3,I.cond=MW,I.conforms=RW,I.constant=Mv,I.countBy=pU,I.create=CB,I.curry=S1,I.curryRight=_1,I.debounce=E1,I.defaults=PB,I.defaultsDeep=IB,I.defer=LU,I.delay=FU,I.difference=o3,I.differenceBy=s3,I.differenceWith=a3,I.drop=l3,I.dropRight=u3,I.dropRightWhile=c3,I.dropWhile=d3,I.fill=p3,I.filter=fU,I.flatMap=vU,I.flatMapDeep=yU,I.flatMapDepth=bU,I.flatten=p1,I.flattenDeep=h3,I.flattenDepth=f3,I.flip=zU,I.flow=kW,I.flowRight=OW,I.fromPairs=m3,I.functions=OB,I.functionsIn=DB,I.groupBy=wU,I.initial=v3,I.intersection=y3,I.intersectionBy=b3,I.intersectionWith=w3,I.invert=FB,I.invertBy=zB,I.invokeMap=SU,I.iteratee=Rv,I.keyBy=_U,I.keys=Ni,I.keysIn=Mr,I.map=$p,I.mapKeys=HB,I.mapValues=UB,I.matches=DW,I.matchesProperty=LW,I.memoize=Gp,I.merge=BB,I.mergeWith=O1,I.method=FW,I.methodOf=zW,I.mixin=Nv,I.negate=Kp,I.nthArg=HW,I.omit=WB,I.omitBy=VB,I.once=qU,I.orderBy=EU,I.over=UW,I.overArgs=HU,I.overEvery=BW,I.overSome=WW,I.partial=Ev,I.partialRight=C1,I.partition=CU,I.pick=$B,I.pickBy=D1,I.property=B1,I.propertyOf=VW,I.pull=E3,I.pullAll=f1,I.pullAllBy=C3,I.pullAllWith=P3,I.pullAt=I3,I.range=$W,I.rangeRight=jW,I.rearg=UU,I.reject=AU,I.remove=A3,I.rest=BU,I.reverse=xv,I.sampleSize=MU,I.set=GB,I.setWith=KB,I.shuffle=RU,I.slice=T3,I.sortBy=OU,I.sortedUniq=L3,I.sortedUniqBy=F3,I.split=vW,I.spread=WU,I.tail=z3,I.take=q3,I.takeRight=H3,I.takeRightWhile=U3,I.takeWhile=B3,I.tap=rU,I.throttle=VU,I.thru=Vp,I.toArray=M1,I.toPairs=L1,I.toPairsIn=F1,I.toPath=ZW,I.toPlainObject=N1,I.transform=YB,I.unary=$U,I.union=W3,I.unionBy=V3,I.unionWith=$3,I.uniq=j3,I.uniqBy=G3,I.uniqWith=K3,I.unset=XB,I.unzip=Sv,I.unzipWith=m1,I.update=ZB,I.updateWith=JB,I.values=Al,I.valuesIn=QB,I.without=Y3,I.words=H1,I.wrap=jU,I.xor=X3,I.xorBy=Z3,I.xorWith=J3,I.zip=Q3,I.zipObject=eU,I.zipObjectDeep=tU,I.zipWith=iU,I.entries=L1,I.entriesIn=F1,I.extend=k1,I.extendWith=Zp,Nv(I,I),I.add=QW,I.attempt=U1,I.camelCase=rW,I.capitalize=z1,I.ceil=eV,I.clamp=eW,I.clone=KU,I.cloneDeep=XU,I.cloneDeepWith=ZU,I.cloneWith=YU,I.conformsTo=JU,I.deburr=q1,I.defaultTo=NW,I.divide=tV,I.endsWith=nW,I.eq=Nn,I.escape=oW,I.escapeRegExp=sW,I.every=hU,I.find=mU,I.findIndex=c1,I.findKey=AB,I.findLast=gU,I.findLastIndex=d1,I.findLastKey=TB,I.floor=iV,I.forEach=v1,I.forEachRight=y1,I.forIn=MB,I.forInRight=RB,I.forOwn=NB,I.forOwnRight=kB,I.get=Iv,I.gt=QU,I.gte=eB,I.has=LB,I.hasIn=Av,I.head=h1,I.identity=Rr,I.includes=xU,I.indexOf=g3,I.inRange=tW,I.invoke=qB,I.isArguments=wa,I.isArray=pt,I.isArrayBuffer=tB,I.isArrayLike=Tr,I.isArrayLikeObject=vi,I.isBoolean=iB,I.isBuffer=ws,I.isDate=rB,I.isElement=nB,I.isEmpty=oB,I.isEqual=sB,I.isEqualWith=aB,I.isError=Cv,I.isFinite=lB,I.isFunction=Vo,I.isInteger=P1,I.isLength=Yp,I.isMap=I1,I.isMatch=uB,I.isMatchWith=cB,I.isNaN=dB,I.isNative=pB,I.isNil=fB,I.isNull=hB,I.isNumber=A1,I.isObject=si,I.isObjectLike=di,I.isPlainObject=bc,I.isRegExp=Pv,I.isSafeInteger=mB,I.isSet=T1,I.isString=Xp,I.isSymbol=Gr,I.isTypedArray=Il,I.isUndefined=gB,I.isWeakMap=vB,I.isWeakSet=yB,I.join=x3,I.kebabCase=aW,I.last=cn,I.lastIndexOf=S3,I.lowerCase=lW,I.lowerFirst=uW,I.lt=bB,I.lte=wB,I.max=rV,I.maxBy=nV,I.mean=oV,I.meanBy=sV,I.min=aV,I.minBy=lV,I.stubArray=Ov,I.stubFalse=Dv,I.stubObject=GW,I.stubString=KW,I.stubTrue=YW,I.multiply=uV,I.nth=_3,I.noConflict=qW,I.noop=kv,I.now=jp,I.pad=cW,I.padEnd=dW,I.padStart=pW,I.parseInt=hW,I.random=iW,I.reduce=PU,I.reduceRight=IU,I.repeat=fW,I.replace=mW,I.result=jB,I.round=cV,I.runInContext=j,I.sample=TU,I.size=NU,I.snakeCase=gW,I.some=kU,I.sortedIndex=M3,I.sortedIndexBy=R3,I.sortedIndexOf=N3,I.sortedLastIndex=k3,I.sortedLastIndexBy=O3,I.sortedLastIndexOf=D3,I.startCase=yW,I.startsWith=bW,I.subtract=dV,I.sum=pV,I.sumBy=hV,I.template=wW,I.times=XW,I.toFinite=$o,I.toInteger=mt,I.toLength=R1,I.toLower=xW,I.toNumber=dn,I.toSafeInteger=xB,I.toString=At,I.toUpper=SW,I.trim=_W,I.trimEnd=EW,I.trimStart=CW,I.truncate=PW,I.unescape=IW,I.uniqueId=JW,I.upperCase=AW,I.upperFirst=Tv,I.each=v1,I.eachRight=y1,I.first=h1,Nv(I,function(){var s={};return to(I,function(a,p){Ot.call(I.prototype,p)||(s[p]=a)}),s}(),{chain:!1}),I.VERSION=e,Cr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){I[s].placeholder=I}),Cr(["drop","take"],function(s,a){xt.prototype[s]=function(p){p=p===t?1:Pi(mt(p),0);var b=this.__filtered__&&!a?new xt(this):this.clone();return b.__filtered__?b.__takeCount__=nr(p,b.__takeCount__):b.__views__.push({size:nr(p,U),type:s+(b.__dir__<0?"Right":"")}),b},xt.prototype[s+"Right"]=function(p){return this.reverse()[s](p).reverse()}}),Cr(["filter","map","takeWhile"],function(s,a){var p=a+1,b=p==G||p==V;xt.prototype[s]=function(C){var R=this.clone();return R.__iteratees__.push({iteratee:Xe(C,3),type:p}),R.__filtered__=R.__filtered__||b,R}}),Cr(["head","last"],function(s,a){var p="take"+(a?"Right":"");xt.prototype[s]=function(){return this[p](1).value()[0]}}),Cr(["initial","tail"],function(s,a){var p="drop"+(a?"":"Right");xt.prototype[s]=function(){return this.__filtered__?new xt(this):this[p](1)}}),xt.prototype.compact=function(){return this.filter(Rr)},xt.prototype.find=function(s){return this.filter(s).head()},xt.prototype.findLast=function(s){return this.reverse().find(s)},xt.prototype.invokeMap=yt(function(s,a){return typeof s=="function"?new xt(this):this.map(function(p){return hc(p,s,a)})}),xt.prototype.reject=function(s){return this.filter(Kp(Xe(s)))},xt.prototype.slice=function(s,a){s=mt(s);var p=this;return p.__filtered__&&(s>0||a<0)?new xt(p):(s<0?p=p.takeRight(-s):s&&(p=p.drop(s)),a!==t&&(a=mt(a),p=a<0?p.dropRight(-a):p.take(a-s)),p)},xt.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},xt.prototype.toArray=function(){return this.take(U)},to(xt.prototype,function(s,a){var p=/^(?:filter|find|map|reject)|While$/.test(a),b=/^(?:head|last)$/.test(a),C=I[b?"take"+(a=="last"?"Right":""):a],R=b||/^find/.test(a);C&&(I.prototype[a]=function(){var F=this.__wrapped__,B=b?[1]:arguments,Z=F instanceof xt,ve=B[0],ye=Z||pt(F),we=function(wt){var St=C.apply(I,An([wt],B));return b&&Te?St[0]:St};ye&&p&&typeof ve=="function"&&ve.length!=1&&(Z=ye=!1);var Te=this.__chain__,Ue=!!this.__actions__.length,rt=R&&!Te,vt=Z&&!Ue;if(!R&&ye){F=vt?F:new xt(this);var nt=s.apply(F,B);return nt.__actions__.push({func:Vp,args:[we],thisArg:t}),new an(nt,Te)}return rt&&vt?s.apply(this,B):(nt=this.thru(we),rt?b?nt.value()[0]:nt.value():nt)})}),Cr(["pop","push","shift","sort","splice","unshift"],function(s){var a=Mn[s],p=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",b=/^(?:pop|shift)$/.test(s);I.prototype[s]=function(){var C=arguments;if(b&&!this.__chain__){var R=this.value();return a.apply(pt(R)?R:[],C)}return this[p](function(F){return a.apply(pt(F)?F:[],C)})}}),to(xt.prototype,function(s,a){var p=I[a];if(p){var b=p.name+"";Ot.call(Sl,b)||(Sl[b]=[]),Sl[b].push({name:a,func:p})}}),Sl[Fp(t,_).name]=[{name:"wrapper",func:t}],xt.prototype.clone=Iq,xt.prototype.reverse=Aq,xt.prototype.value=Tq,I.prototype.at=nU,I.prototype.chain=oU,I.prototype.commit=sU,I.prototype.next=aU,I.prototype.plant=uU,I.prototype.reverse=cU,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=dU,I.prototype.first=I.prototype.head,sc&&(I.prototype[sc]=lU),I},rr=$r();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(xi._=rr,define(function(){return rr})):hr?((hr.exports=rr)._=rr,ec._=rr):xi._=rr}).call(Dl)});var Ze={};ti(Ze,{closest:()=>Ra,collapseOptions:()=>lt,constrain:()=>V6,contentIsIndexable:()=>Fh,convertTransformIntoMatrixStyleString:()=>q6,decompose:()=>Oh,deviceType:()=>Ny,easeInOutCubic:()=>ky,easeInOutSine:()=>Dy,easeOutCubic:()=>Oy,filterZoomLinks:()=>j6,getCSSValueAndUnit:()=>Kt,getCorrectRenderContextForGivenPID:()=>Ly,getFiletypeAndOembedFromURL:()=>H6,getHeight:()=>W6,getWidth:()=>B6,isAdminEdit:()=>Ai,isChrome:()=>N6,isDateInFuture:()=>K6,isDevEnv:()=>I6,isEdge:()=>k6,isFirefox:()=>R6,isIE:()=>kC,isIE8:()=>O6,isIOS:()=>Gc,isIOSWebView:()=>D6,isLocalEnv:()=>My,isMac:()=>jc,isMobile:()=>ao,isMobileWindowSize:()=>F6,isProduction:()=>Lh,isProductionTestingAcct:()=>A6,isPromoCodeTransitionPeriod:()=>$6,isSafari:()=>Ps,isServer:()=>le,isServerRendered:()=>T6,isSitePreview:()=>Ma,mergeRefs:()=>U6,parseMatrixStyleString:()=>z6,sitePreviewHostname:()=>Ry,stringReplaceMultiple:()=>L6,stripTLD:()=>G6,viewportOrientation:()=>M6});var Dh,My,I6,Lh,A6,le,T6,MC,Ai,RC,NC,Ma,Ry,ao,M6,Ny,jc,R6,Ps,N6,kC,k6,O6,Gc,D6,L6,Fh,F6,z6,q6,Oh,Kt,ky,Oy,Dy,lt,H6,U6,B6,W6,Ra,V6,$6,j6,G6,K6,Ly,Ne=T(()=>{Dh=he(xe()),My=/^local.*/.test("production"),I6=/^dev.*/.test("production"),Lh=!0,A6=t=>[1,12,14494300,18,39,75,14497410,14065331,14229062].includes(t),le=!(typeof window<"u"&&window.document&&window.document.createElement),T6=!le&&window.hasOwnProperty("__PRELOADED_STATE__"),MC=!1;try{window.parent!==window&&window.location.host===window.parent.location.host&&window.parent.location.pathname.startsWith("/edit")&&(MC=!0)}catch{}Ai=MC,RC=!1;try{if(typeof window<"u"&&window.location.pathname.match("site.preview")!==null){let t=window.location.pathname.match(/^\/site\.preview\/(?<hostname>[^\/]+)/i);t?.groups?.hostname&&(NC=t.groups?.hostname,RC=!0)}}catch{}Ma=RC,Ry=NC,ao=function(){if(le)return!1;var t=!1,e=window.navigator.userAgent||window.navigator.vendor||window.opera;return function(i){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(t=!0)}(e),t=t||!t&&/(android)/i.test(e.substr(0,40)),t}(),M6=()=>{let t=window.matchMedia("(max-aspect-ratio: 1:1)");return le?!1:t?"portrait":"landscape"},Ny=()=>{if(le)return"mouse";let t=window.matchMedia("(hover:hover)"),e=window.matchMedia("(hover:none)"),i=window.matchMedia("(any-pointer:fine)"),r=window.matchMedia("(pointer:coarse)"),n=window.matchMedia("(pointer:none)");if(e.matches&&r.matches&&!i.matches)return"touch";if(t.matches&&i.matches)return"mouse"},jc=()=>navigator?.userAgent?.includes("Mac"),R6=()=>/Firefox\/\d+\.\d+/.test(navigator.userAgent),Ps=()=>navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,N6=()=>window.chrome!==null&&navigator.userAgent.indexOf("Chrome")!=-1&&navigator.vendor==="Google Inc."&&typeof window.opr>"u"&&navigator.userAgent.indexOf("Edg")==-1,kC=()=>/MSIE (\d+\.\d+);/.test(navigator.userAgent),k6=()=>/Edge/.test(navigator.userAgent),O6=()=>{var t=-1;if(kC()){var e=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");e.exec(navigator.userAgent)!=null&&(t=parseFloat(RegExp.$1))}return t<9&&t>0},Gc=()=>!!navigator.userAgent.match(/i(Phone|Pod|Pad)/i),D6=()=>{var t=window.navigator.standalone,e=window.navigator.userAgent.toLowerCase(),i=/safari/.test(e),r=/iphone|ipod|ipad/.test(e);if(r){if(!t&&i)return!1;if(t&&!i)return!1;if(!t&&!i)return!0}return!1},L6=(t,e)=>{for(var i in e)t=t.replace(new RegExp(i,"g"),e[i]);return t},Fh=t=>t?t.page_type==="set"?!0:!(t.display===!1||t.pin||t.overlay):!1,F6=t=>t<770,z6=t=>{let e=t.indexOf("matrix(")>-1,i=t.indexOf("matrix3d(")>-1,r,n;return e?(r=t.replace("matrix(","").replace(")").split(", ").map(o=>parseFloat(o)),n=Oh(r[0],r[1],r[2],r[3],r[4],r[5],!1)):i?(r=t.replace("matrix3d(","").replace(")").split(", ").map(o=>parseFloat(o)),n=Oh(r[0],r[1],r[4],r[5],r[12],r[13],!1),n.translate.z=r[14]):n=Oh(0,0,0,0,0,0,!1),n},q6=t=>{let e=t.hasOwnProperty("translate"),i=t.hasOwnProperty("scale"),r=i&&t.scale.x||1,n=i&&t.scale.y||1,o=e&&t.translate.x||0,l=e&&t.translate.y||0,u=e&&t.translate.z||0,c=t.rotation||0,d=e&&t.translate.hasOwnProperty("z"),f;if(d){let g=[Math.cos(c)/r,-Math.sin(c),0,o,Math.sin(c),Math.cos(c)/n,0,l,0,0,1,u,0,0,0,1];f=`matrix3d(${g[0]}, ${g[4]}, ${g[8]}, ${g[12]}, ${g[1]}, ${g[5]}, ${g[9]}, ${g[13]}, ${g[2]}, ${g[6]}, ${g[10]}, ${g[14]}, ${g[3]}, ${g[7]}, ${g[11]}, ${g[15]})`}else{let g=[Math.cos(c)/r,-Math.sin(c),o,Math.sin(c),Math.cos(c)/n,l,0,0,1];f=`matrix(${g[0]}, ${g[3]}, ${g[1]}, ${g[4]}, ${g[2]}, ${g[5]})`}return f},Oh=(t=0,e=0,i=0,r=0,n=0,o=0,l=!1)=>{var u=Math.acos,c=Math.atan,d=Math.sqrt,f=Math.PI,g={x:n,y:o},v=0,S={x:1,y:1},E={x:0,y:0},_=t*r-e*i;if(l)t?(E={x:c(i/t),y:c(e/t)},S={x:t,y:_/t}):e?(v=f*.5,S={x:e,y:_/e},E.x=c(r/e)):(S={x:i,y:r},E.x=f*.25);else if(t||e){var P=d(t*t+e*e);v=e>0?u(t/P):-u(t/P),S={x:P,y:_/P},E.x=c((t*i+e*r)/(P*P))}else if(i||r){var A=d(i*i+r*r);v=f*.5-(r>0?u(-i/A):-u(i/A)),S={x:_/A,y:A},E.y=c((t*i+e*r)/(A*A))}else S={x:0,y:0};return{scale:S,translate:g,rotation:v,skew:E}},Kt=(t,e)=>{t=t?.toString()||"",t=t.replace(/^\.(\d+)/,"0.$1");let i=t.replace(/[^\d.-]/g,""),r=t.replace(i+"","").trim();return i=parseFloat(i),r===""&&e!==void 0?r=e:(r.indexOf("var(")>-1||r.indexOf("calc(")>-1)&&(i="",r=t),[i,r]},ky=t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,Oy=t=>1-Math.pow(-1*t+1,3),Dy=t=>t>=1?1:-(Math.cos(Math.PI*t)-1)/2,lt=t=>{let e={},i=r=>{r.forEach(n=>{if(n.type=="color"&&n.tabs?n.tabs.forEach(o=>{e[o.name]=o.value}):n.type=="checkbox-color"&&i([n.checkbox,n.color]),n.value!=null&&n.value!=null){e[n.name]={value:n.value},n.values&&(n.type==="radio"||n.type==="select")&&(e[n.name].values=n.values.map(l=>l.value)),e[n.name].type=n.type,n.excludeFromShuffle!==void 0&&(e[n.name].excludeFromShuffle=n.excludeFromShuffle);let o;n.defaultUnit!==void 0&&(o=e.unit=n.defaultUnit),n.min!==void 0&&(typeof n.min=="object"?e[n.name].min=n.min[o]??n.min.etc??0:e[n.name].min=n.min),n.max!==void 0&&(typeof n.max=="object"?e[n.name].max=n.max[o]??n.max.etc??0:e[n.name].max=n.max),typeof n.step=="object"?e[n.name].step=n.step[o]??n.step.etc??1:e[n.name].step=n.step,n.inheritsFrom&&(e[n.name].inheritsFrom=n.inheritsFrom),n.unit&&(e[n.name].unit=n.unit)}n.toggle&&i([n.toggle]),n.children&&i(n.children)})};return i(t),e},H6=(t,e={width:250})=>{let i=null,r=null,n=t.toLowerCase();if(n.endsWith(".mov")||n.endsWith(".mp4")||n.endsWith(".webm"))return{fileType:"video",oembedURL:null,id:null};if(n.endsWith(".png")||n.endsWith(".webp")||n.endsWith(".jpg")||n.endsWith(".jpeg")||n.endsWith(".gif")||n.endsWith(".avif")||n.endsWith(".apng")||n.endsWith(".svg"))return{fileType:"image",oembedURL:null,id:null};i="url";var o="",l="",u="",c=/(?:<iframe [^>]*src=")?(?:https?:\/\/(?:[\w]+\.)*vimeo\.com(?:[\/\w:]*(?:\/videos)?)?\/([0-9]+)[^\s]*)"?(?:[^>]*><\/iframe>)?(?:<p>.*<\/p>)?/,g=t.match(c);if(g&&g[0]){let v=g[0].split(/\/|\?h=|&|\?/);for(var d=0;d<v.length;d++)!v[d].includes(":")&&!v[d].includes(".")&&!v[d].includes("vimeo")&&!v[d].includes("=")&&!v[d].includes("video")&&!v[d].includes("showcase")&&!v[d].includes("player")&&v[d].length>3&&(o.length==0?o=v[d]:o+="/"+v[d]);i="vimeo",r="https://vimeo.com/api/oembed.json?url=https://vimeo.com/"+o+"&width="+e.width}var f=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,g=t.match(f);return g&&g[7].length==11&&(o=g[7],i="youtube",o?r="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v="+o:r="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+(t.indexOf("?")>-1?t.split("?")[0]:t)),{fileType:i,oembedURL:r,id:o}},U6=(...t)=>{let e=t.filter(Boolean);return e.length?e.length===0?e[0]:i=>{for(let r of e)typeof r=="function"?r(i):r&&(r.current=i)}:null},B6=t=>{var e=getComputedStyle(t,null);return e.getPropertyValue("box-sizing")==="border-box"?parseFloat(e.width)-((parseFloat(e.paddingLeft)||0)+(parseFloat(e.paddingRight)||0)+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0)):parseFloat(e.width)},W6=t=>{var e=getComputedStyle(t,null);return e.getPropertyValue("box-sizing")==="border-box"?parseFloat(e.height)-((parseFloat(e.paddingTop)||0)+(parseFloat(e.paddingBottom)||0)+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0)):parseFloat(e.height)},Ra=(t,e)=>{var i=t&&(e(t)?t:Ra(t.parentNode,e));return i||null},V6=(t,e,i)=>t>i?i:t<e?e:t,$6=t=>{let e=new Date,r=new Date(t).getTime()-e.getTime(),n=Math.floor(r/(1e3*60*60*24));return n>0&&n<=15},j6=t=>(t=Dh.default.filter(t,e=>{var i=e.getAttribute("href");return!(i&&(i===""||i=="#"||i.indexOf("mailto:")==0||i.indexOf("tel:")==0))}),t),G6=t=>{if(!t)return[null,null];let e=/(\.[^.]+)$/,i=t.match(e);if(i){let r=i[1],n=t.slice(0,-r.length);return[r,n]}else return[null,t]},K6=t=>{if(!t)return!0;let e=new Date(t),i=Math.floor(e.getTime()/1e3),n=Math.floor(Date.now()/1e3)-15*24*60*60;return i>=n},Ly=(t,e,i)=>{let r=t.pages.byId[i],n=e.getHomepageId(t),o=e.getHiddenHomepageId(t),l=t.sets.byId[Dh.default.findKey(t.structure.byParent,d=>d.includes(n))],u=t.sets.byId[Dh.default.findKey(t.structure.byParent,d=>d.includes(i))],c=i;if(t.sets.byId.root?.stack===!0)r?.display===!1?c=r.id:c=u?.id||"root";else if(r){if(r.pin||r.overlay||u?.stack)if(c=u?.id,(r.pin||r.overlay)&&u?.stack===!1){if(u?.id===l?.id&&(c="root"),u.page_count>=1){let d=t.structure.byParent[u.id]?.filter(f=>t.structure.indexById[f]!==null&&t.sets.byId[f]===void 0&&t.pages.byId[f]?.password_enabled!==!0&&f!==o);d.length>0&&(d.includes(n)?c=n:c=d[0])}}else r?.display===!1&&u?.stack===!0&&(c=r.id);else c=r.id;c==="root"&&n&&(c=n)}return c}});var Fy=W((Sue,OC)=>{"use strict";OC.exports=function(e,i){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(i,n)}}});var Di=W((_ue,FC)=>{"use strict";var Y6=Fy(),qy=Object.prototype.toString,Hy=function(t){return function(e){var i=qy.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())}}(Object.create(null));function Na(t){return t=t.toLowerCase(),function(i){return Hy(i)===t}}function Uy(t){return Array.isArray(t)}function qh(t){return typeof t>"u"}function X6(t){return t!==null&&!qh(t)&&t.constructor!==null&&!qh(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var DC=Na("ArrayBuffer");function Z6(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&DC(t.buffer),e}function J6(t){return typeof t=="string"}function Q6(t){return typeof t=="number"}function LC(t){return t!==null&&typeof t=="object"}function zh(t){if(Hy(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var e4=Na("Date"),t4=Na("File"),i4=Na("Blob"),r4=Na("FileList");function By(t){return qy.call(t)==="[object Function]"}function n4(t){return LC(t)&&By(t.pipe)}function o4(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||qy.call(t)===e||By(t.toString)&&t.toString()===e)}var s4=Na("URLSearchParams");function a4(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function l4(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Wy(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),Uy(t))for(var i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}function zy(){var t={};function e(n,o){zh(t[o])&&zh(n)?t[o]=zy(t[o],n):zh(n)?t[o]=zy({},n):Uy(n)?t[o]=n.slice():t[o]=n}for(var i=0,r=arguments.length;i<r;i++)Wy(arguments[i],e);return t}function u4(t,e,i){return Wy(e,function(n,o){i&&typeof n=="function"?t[o]=Y6(n,i):t[o]=n}),t}function c4(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function d4(t,e,i,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,i&&Object.assign(t.prototype,i)}function p4(t,e,i){var r,n,o,l={};e=e||{};do{for(r=Object.getOwnPropertyNames(t),n=r.length;n-- >0;)o=r[n],l[o]||(e[o]=t[o],l[o]=!0);t=Object.getPrototypeOf(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e}function h4(t,e,i){t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=e.length;var r=t.indexOf(e,i);return r!==-1&&r===i}function f4(t){if(!t)return null;var e=t.length;if(qh(e))return null;for(var i=new Array(e);e-- >0;)i[e]=t[e];return i}var m4=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));FC.exports={isArray:Uy,isArrayBuffer:DC,isBuffer:X6,isFormData:o4,isArrayBufferView:Z6,isString:J6,isNumber:Q6,isObject:LC,isPlainObject:zh,isUndefined:qh,isDate:e4,isFile:t4,isBlob:i4,isFunction:By,isStream:n4,isURLSearchParams:s4,isStandardBrowserEnv:l4,forEach:Wy,merge:zy,extend:u4,trim:a4,stripBOM:c4,inherits:d4,toFlatObject:p4,kindOf:Hy,kindOfTest:Na,endsWith:h4,toArray:f4,isTypedArray:m4,isFileList:r4}});var Vy=W((Eue,qC)=>{"use strict";var Ll=Di();function zC(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}qC.exports=function(e,i,r){if(!i)return e;var n;if(r)n=r(i);else if(Ll.isURLSearchParams(i))n=i.toString();else{var o=[];Ll.forEach(i,function(c,d){c===null||typeof c>"u"||(Ll.isArray(c)?d=d+"[]":c=[c],Ll.forEach(c,function(g){Ll.isDate(g)?g=g.toISOString():Ll.isObject(g)&&(g=JSON.stringify(g)),o.push(zC(d)+"="+zC(g))}))}),n=o.join("&")}if(n){var l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+n}return e}});var UC=W((Cue,HC)=>{"use strict";var g4=Di();function Hh(){this.handlers=[]}Hh.prototype.use=function(e,i,r){return this.handlers.push({fulfilled:e,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Hh.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Hh.prototype.forEach=function(e){g4.forEach(this.handlers,function(r){r!==null&&e(r)})};HC.exports=Hh});var WC=W((Pue,BC)=>{"use strict";var v4=Di();BC.exports=function(e,i){v4.forEach(e,function(n,o){o!==i&&o.toUpperCase()===i.toUpperCase()&&(e[i]=n,delete e[o])})}});var ka=W((Iue,GC)=>{"use strict";var VC=Di();function Fl(t,e,i,r,n){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),r&&(this.request=r),n&&(this.response=n)}VC.inherits(Fl,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var $C=Fl.prototype,jC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){jC[t]={value:t}});Object.defineProperties(Fl,jC);Object.defineProperty($C,"isAxiosError",{value:!0});Fl.from=function(t,e,i,r,n,o){var l=Object.create($C);return VC.toFlatObject(t,l,function(c){return c!==Error.prototype}),Fl.call(l,t.message,e,i,r,n),l.name=t.name,o&&Object.assign(l,o),l};GC.exports=Fl});var $y=W((Aue,KC)=>{"use strict";KC.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}});var jy=W((Tue,YC)=>{"use strict";var Fn=Di();function y4(t,e){e=e||new FormData;var i=[];function r(o){return o===null?"":Fn.isDate(o)?o.toISOString():Fn.isArrayBuffer(o)||Fn.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function n(o,l){if(Fn.isPlainObject(o)||Fn.isArray(o)){if(i.indexOf(o)!==-1)throw Error("Circular reference detected in "+l);i.push(o),Fn.forEach(o,function(c,d){if(!Fn.isUndefined(c)){var f=l?l+"."+d:d,g;if(c&&!l&&typeof c=="object"){if(Fn.endsWith(d,"{}"))c=JSON.stringify(c);else if(Fn.endsWith(d,"[]")&&(g=Fn.toArray(c))){g.forEach(function(v){!Fn.isUndefined(v)&&e.append(f,r(v))});return}}n(c,f)}}),i.pop()}else e.append(l,r(o))}return n(t),e}YC.exports=y4});var ZC=W((Mue,XC)=>{"use strict";var Gy=ka();XC.exports=function(e,i,r){var n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):i(new Gy("Request failed with status code "+r.status,[Gy.ERR_BAD_REQUEST,Gy.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}});var QC=W((Rue,JC)=>{"use strict";var Uh=Di();JC.exports=Uh.isStandardBrowserEnv()?function(){return{write:function(i,r,n,o,l,u){var c=[];c.push(i+"="+encodeURIComponent(r)),Uh.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),Uh.isString(o)&&c.push("path="+o),Uh.isString(l)&&c.push("domain="+l),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(i){var r=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var tP=W((Nue,eP)=>{"use strict";eP.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}});var rP=W((kue,iP)=>{"use strict";iP.exports=function(e,i){return i?e.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):e}});var Ky=W((Oue,nP)=>{"use strict";var b4=tP(),w4=rP();nP.exports=function(e,i){return e&&!b4(i)?w4(e,i):i}});var sP=W((Due,oP)=>{"use strict";var Yy=Di(),x4=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];oP.exports=function(e){var i={},r,n,o;return e&&Yy.forEach(e.split(`
`),function(u){if(o=u.indexOf(":"),r=Yy.trim(u.substr(0,o)).toLowerCase(),n=Yy.trim(u.substr(o+1)),r){if(i[r]&&x4.indexOf(r)>=0)return;r==="set-cookie"?i[r]=(i[r]?i[r]:[]).concat([n]):i[r]=i[r]?i[r]+", "+n:n}}),i}});var uP=W((Lue,lP)=>{"use strict";var aP=Di();lP.exports=aP.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r;function n(o){var l=o;return e&&(i.setAttribute("href",l),l=i.href),i.setAttribute("href",l),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return r=n(window.location.href),function(l){var u=aP.isString(l)?n(l):l;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}()});var Kc=W((Fue,dP)=>{"use strict";var Xy=ka(),S4=Di();function cP(t){Xy.call(this,t??"canceled",Xy.ERR_CANCELED),this.name="CanceledError"}S4.inherits(cP,Xy,{__CANCEL__:!0});dP.exports=cP});var hP=W((zue,pP)=>{"use strict";pP.exports=function(e){var i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return i&&i[1]||""}});var Zy=W((que,fP)=>{"use strict";var Yc=Di(),_4=ZC(),E4=QC(),C4=Vy(),P4=Ky(),I4=sP(),A4=uP(),T4=$y(),Xo=ka(),M4=Kc(),R4=hP();fP.exports=function(e){return new Promise(function(r,n){var o=e.data,l=e.headers,u=e.responseType,c;function d(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}Yc.isFormData(o)&&Yc.isStandardBrowserEnv()&&delete l["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";l.Authorization="Basic "+btoa(g+":"+v)}var S=P4(e.baseURL,e.url);f.open(e.method.toUpperCase(),C4(S,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function E(){if(f){var A="getAllResponseHeaders"in f?I4(f.getAllResponseHeaders()):null,L=!u||u==="text"||u==="json"?f.responseText:f.response,z={data:L,status:f.status,statusText:f.statusText,headers:A,config:e,request:f};_4(function(H){r(H),d()},function(H){n(H),d()},z),f=null}}if("onloadend"in f?f.onloadend=E:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(E)},f.onabort=function(){f&&(n(new Xo("Request aborted",Xo.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new Xo("Network Error",Xo.ERR_NETWORK,e,f,f)),f=null},f.ontimeout=function(){var L=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",z=e.transitional||T4;e.timeoutErrorMessage&&(L=e.timeoutErrorMessage),n(new Xo(L,z.clarifyTimeoutError?Xo.ETIMEDOUT:Xo.ECONNABORTED,e,f)),f=null},Yc.isStandardBrowserEnv()){var _=(e.withCredentials||A4(S))&&e.xsrfCookieName?E4.read(e.xsrfCookieName):void 0;_&&(l[e.xsrfHeaderName]=_)}"setRequestHeader"in f&&Yc.forEach(l,function(L,z){typeof o>"u"&&z.toLowerCase()==="content-type"?delete l[z]:f.setRequestHeader(z,L)}),Yc.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),u&&u!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(c=function(A){f&&(n(!A||A&&A.type?new M4:A),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c))),o||(o=null);var P=R4(S);if(P&&["http","https","file"].indexOf(P)===-1){n(new Xo("Unsupported protocol "+P+":",Xo.ERR_BAD_REQUEST,e));return}f.send(o)})}});var gP=W((Hue,mP)=>{mP.exports=null});var Wh=W((Uue,wP)=>{"use strict";var Li=Di(),vP=WC(),yP=ka(),N4=$y(),k4=jy(),O4={"Content-Type":"application/x-www-form-urlencoded"};function bP(t,e){!Li.isUndefined(t)&&Li.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function D4(){var t;return typeof XMLHttpRequest<"u"?t=Zy():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(t=Zy()),t}function L4(t,e,i){if(Li.isString(t))try{return(e||JSON.parse)(t),Li.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(i||JSON.stringify)(t)}var Bh={transitional:N4,adapter:D4(),transformRequest:[function(e,i){if(vP(i,"Accept"),vP(i,"Content-Type"),Li.isFormData(e)||Li.isArrayBuffer(e)||Li.isBuffer(e)||Li.isStream(e)||Li.isFile(e)||Li.isBlob(e))return e;if(Li.isArrayBufferView(e))return e.buffer;if(Li.isURLSearchParams(e))return bP(i,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r=Li.isObject(e),n=i&&i["Content-Type"],o;if((o=Li.isFileList(e))||r&&n==="multipart/form-data"){var l=this.env&&this.env.FormData;return k4(o?{"files[]":e}:e,l&&new l)}else if(r||n==="application/json")return bP(i,"application/json"),L4(e);return e}],transformResponse:[function(e){var i=this.transitional||Bh.transitional,r=i&&i.silentJSONParsing,n=i&&i.forcedJSONParsing,o=!r&&this.responseType==="json";if(o||n&&Li.isString(e)&&e.length)try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?yP.from(l,yP.ERR_BAD_RESPONSE,this,null,this.response):l}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gP()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Li.forEach(["delete","get","head"],function(e){Bh.headers[e]={}});Li.forEach(["post","put","patch"],function(e){Bh.headers[e]=Li.merge(O4)});wP.exports=Bh});var SP=W((Bue,xP)=>{"use strict";var F4=Di(),z4=Wh();xP.exports=function(e,i,r){var n=this||z4;return F4.forEach(r,function(l){e=l.call(n,e,i)}),e}});var Jy=W((Wue,_P)=>{"use strict";_P.exports=function(e){return!!(e&&e.__CANCEL__)}});var PP=W((Vue,CP)=>{"use strict";var EP=Di(),Qy=SP(),q4=Jy(),H4=Wh(),U4=Kc();function eb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new U4}CP.exports=function(e){eb(e),e.headers=e.headers||{},e.data=Qy.call(e,e.data,e.headers,e.transformRequest),e.headers=EP.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),EP.forEach(["delete","get","head","post","put","patch","common"],function(n){delete e.headers[n]});var i=e.adapter||H4.adapter;return i(e).then(function(n){return eb(e),n.data=Qy.call(e,n.data,n.headers,e.transformResponse),n},function(n){return q4(n)||(eb(e),n&&n.response&&(n.response.data=Qy.call(e,n.response.data,n.response.headers,e.transformResponse))),Promise.reject(n)})}});var tb=W(($ue,IP)=>{"use strict";var Zr=Di();IP.exports=function(e,i){i=i||{};var r={};function n(f,g){return Zr.isPlainObject(f)&&Zr.isPlainObject(g)?Zr.merge(f,g):Zr.isPlainObject(g)?Zr.merge({},g):Zr.isArray(g)?g.slice():g}function o(f){if(Zr.isUndefined(i[f])){if(!Zr.isUndefined(e[f]))return n(void 0,e[f])}else return n(e[f],i[f])}function l(f){if(!Zr.isUndefined(i[f]))return n(void 0,i[f])}function u(f){if(Zr.isUndefined(i[f])){if(!Zr.isUndefined(e[f]))return n(void 0,e[f])}else return n(void 0,i[f])}function c(f){if(f in i)return n(e[f],i[f]);if(f in e)return n(void 0,e[f])}var d={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:c};return Zr.forEach(Object.keys(e).concat(Object.keys(i)),function(g){var v=d[g]||o,S=v(g);Zr.isUndefined(S)&&v!==c||(r[g]=S)}),r}});var ib=W((jue,AP)=>{AP.exports={version:"0.27.2"}});var RP=W((Gue,MP)=>{"use strict";var B4=ib().version,Is=ka(),rb={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){rb[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var TP={};rb.transitional=function(e,i,r){function n(o,l){return"[Axios v"+B4+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return function(o,l,u){if(e===!1)throw new Is(n(l," has been removed"+(i?" in "+i:"")),Is.ERR_DEPRECATED);return i&&!TP[l]&&(TP[l]=!0,console.warn(n(l," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(o,l,u):!0}};function W4(t,e,i){if(typeof t!="object")throw new Is("options must be an object",Is.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(t),n=r.length;n-- >0;){var o=r[n],l=e[o];if(l){var u=t[o],c=u===void 0||l(u,o,t);if(c!==!0)throw new Is("option "+o+" must be "+c,Is.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Is("Unknown option "+o,Is.ERR_BAD_OPTION)}}MP.exports={assertOptions:W4,validators:rb}});var FP=W((Kue,LP)=>{"use strict";var OP=Di(),V4=Vy(),NP=UC(),kP=PP(),Vh=tb(),$4=Ky(),DP=RP(),zl=DP.validators;function ql(t){this.defaults=t,this.interceptors={request:new NP,response:new NP}}ql.prototype.request=function(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=Vh(this.defaults,i),i.method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var r=i.transitional;r!==void 0&&DP.assertOptions(r,{silentJSONParsing:zl.transitional(zl.boolean),forcedJSONParsing:zl.transitional(zl.boolean),clarifyTimeoutError:zl.transitional(zl.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(i)===!1||(o=o&&S.synchronous,n.unshift(S.fulfilled,S.rejected))});var l=[];this.interceptors.response.forEach(function(S){l.push(S.fulfilled,S.rejected)});var u;if(!o){var c=[kP,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(l),u=Promise.resolve(i);c.length;)u=u.then(c.shift(),c.shift());return u}for(var d=i;n.length;){var f=n.shift(),g=n.shift();try{d=f(d)}catch(v){g(v);break}}try{u=kP(d)}catch(v){return Promise.reject(v)}for(;l.length;)u=u.then(l.shift(),l.shift());return u};ql.prototype.getUri=function(e){e=Vh(this.defaults,e);var i=$4(e.baseURL,e.url);return V4(i,e.params,e.paramsSerializer)};OP.forEach(["delete","get","head","options"],function(e){ql.prototype[e]=function(i,r){return this.request(Vh(r||{},{method:e,url:i,data:(r||{}).data}))}});OP.forEach(["post","put","patch"],function(e){function i(r){return function(o,l,u){return this.request(Vh(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}ql.prototype[e]=i(),ql.prototype[e+"Form"]=i(!0)});LP.exports=ql});var qP=W((Yue,zP)=>{"use strict";var j4=Kc();function Hl(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(n){e=n});var i=this;this.promise.then(function(r){if(i._listeners){var n,o=i._listeners.length;for(n=0;n<o;n++)i._listeners[n](r);i._listeners=null}}),this.promise.then=function(r){var n,o=new Promise(function(l){i.subscribe(l),n=l}).then(r);return o.cancel=function(){i.unsubscribe(n)},o},t(function(n){i.reason||(i.reason=new j4(n),e(i.reason))})}Hl.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Hl.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};Hl.prototype.unsubscribe=function(e){if(this._listeners){var i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}};Hl.source=function(){var e,i=new Hl(function(n){e=n});return{token:i,cancel:e}};zP.exports=Hl});var UP=W((Xue,HP)=>{"use strict";HP.exports=function(e){return function(r){return e.apply(null,r)}}});var WP=W((Zue,BP)=>{"use strict";var G4=Di();BP.exports=function(e){return G4.isObject(e)&&e.isAxiosError===!0}});var jP=W((Jue,nb)=>{"use strict";var VP=Di(),K4=Fy(),$h=FP(),Y4=tb(),X4=Wh();function $P(t){var e=new $h(t),i=K4($h.prototype.request,e);return VP.extend(i,$h.prototype,e),VP.extend(i,e),i.create=function(n){return $P(Y4(t,n))},i}var kr=$P(X4);kr.Axios=$h;kr.CanceledError=Kc();kr.CancelToken=qP();kr.isCancel=Jy();kr.VERSION=ib().version;kr.toFormData=jy();kr.AxiosError=ka();kr.Cancel=kr.CanceledError;kr.all=function(e){return Promise.all(e)};kr.spread=UP();kr.isAxiosError=WP();nb.exports=kr;nb.exports.default=kr});var vn=W((Que,GP)=>{GP.exports=jP()});function As(t){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(t)}var ob=T(()=>{});function sb(t,e){if(As(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(As(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KP=T(()=>{ob()});function ab(t){var e=sb(t,"string");return As(e)=="symbol"?e:String(e)}var YP=T(()=>{ob();KP()});function lb(t,e,i){return e=ab(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var XP=T(()=>{YP()});function ZP(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function jh(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(i),!0).forEach(function(r){lb(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ZP(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}var JP=T(()=>{XP()});var tI={};ti(tI,{__DO_NOT_USE__ActionTypes:()=>Xc,applyMiddleware:()=>cb,bindActionCreators:()=>Ct,combineReducers:()=>zn,compose:()=>Gh,createStore:()=>Zc,legacy_createStore:()=>J4});function Zi(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}function Z4(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Zc(t,e,i){var r;if(typeof e=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(Zi(0));if(typeof e=="function"&&typeof i>"u"&&(i=e,e=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(Zi(1));return i(Zc)(t,e)}if(typeof t!="function")throw new Error(Zi(2));var n=t,o=e,l=[],u=l,c=!1;function d(){u===l&&(u=l.slice())}function f(){if(c)throw new Error(Zi(3));return o}function g(_){if(typeof _!="function")throw new Error(Zi(4));if(c)throw new Error(Zi(5));var P=!0;return d(),u.push(_),function(){if(P){if(c)throw new Error(Zi(6));P=!1,d();var L=u.indexOf(_);u.splice(L,1),l=null}}}function v(_){if(!Z4(_))throw new Error(Zi(7));if(typeof _.type>"u")throw new Error(Zi(8));if(c)throw new Error(Zi(9));try{c=!0,o=n(o,_)}finally{c=!1}for(var P=l=u,A=0;A<P.length;A++){var L=P[A];L()}return _}function S(_){if(typeof _!="function")throw new Error(Zi(10));n=_,v({type:Xc.REPLACE})}function E(){var _,P=g;return _={subscribe:function(L){if(typeof L!="object"||L===null)throw new Error(Zi(11));function z(){L.next&&L.next(f())}z();var q=P(z);return{unsubscribe:q}}},_[QP]=function(){return this},_}return v({type:Xc.INIT}),r={dispatch:v,subscribe:g,getState:f,replaceReducer:S},r[QP]=E,r}function Q4(t){Object.keys(t).forEach(function(e){var i=t[e],r=i(void 0,{type:Xc.INIT});if(typeof r>"u")throw new Error(Zi(12));if(typeof i(void 0,{type:Xc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zi(13))})}function zn(t){for(var e=Object.keys(t),i={},r=0;r<e.length;r++){var n=e[r];typeof t[n]=="function"&&(i[n]=t[n])}var o=Object.keys(i),l,u;try{Q4(i)}catch(c){u=c}return function(d,f){if(d===void 0&&(d={}),u)throw u;if(0)var g;for(var v=!1,S={},E=0;E<o.length;E++){var _=o[E],P=i[_],A=d[_],L=P(A,f);if(typeof L>"u"){var z=f&&f.type;throw new Error(Zi(14))}S[_]=L,v=v||L!==A}return v=v||o.length!==Object.keys(d).length,v?S:d}}function eI(t,e){return function(){return e(t.apply(this,arguments))}}function Ct(t,e){if(typeof t=="function")return eI(t,e);if(typeof t!="object"||t===null)throw new Error(Zi(16));var i={};for(var r in t){var n=t[r];typeof n=="function"&&(i[r]=eI(n,e))}return i}function Gh(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,n){return function(){return r(n.apply(void 0,arguments))}})}function cb(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(r){return function(){var n=r.apply(void 0,arguments),o=function(){throw new Error(Zi(15))},l={getState:n.getState,dispatch:function(){return o.apply(void 0,arguments)}},u=e.map(function(c){return c(l)});return o=Gh.apply(void 0,u)(n.dispatch),jh(jh({},n),{},{dispatch:o})}}}var QP,ub,Xc,J4,ai=T(()=>{JP();QP=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ub=function(){return Math.random().toString(36).substring(7).split("").join(".")},Xc={INIT:"@@redux/INIT"+ub(),REPLACE:"@@redux/REPLACE"+ub(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ub()}};J4=Zc});var db=W(qn=>{"use strict";qn.__esModule=!0;qn.createDynamicMiddlewares=qn.resetMiddlewares=qn.removeMiddleware=qn.addMiddleware=void 0;var e9=(ai(),wc(tI)),iI=function(){var e=[],i=[],r=void 0,n=function(d){return r=d,function(f){return function(g){return e9.compose.apply(void 0,i)(f)(g)}}},o=function(){for(var d,f,g=arguments.length,v=Array(g),S=0;S<g;S++)v[S]=arguments[S];(d=i).push.apply(d,v.map(function(E){return E(r)})),(f=e).push.apply(f,v)},l=function(d){var f=e.findIndex(function(g){return g===d});if(f===-1){console.error("Middleware does not exist!",d);return}e=e.filter(function(g,v){return v!==f}),i=i.filter(function(g,v){return v!==f})},u=function(){i=[],e=[]};return{enhancer:n,addMiddleware:o,removeMiddleware:l,resetMiddlewares:u}},Kh=iI();qn.default=Kh.enhancer;var t9=Kh.addMiddleware,i9=Kh.removeMiddleware,r9=Kh.resetMiddlewares;qn.addMiddleware=t9;qn.removeMiddleware=i9;qn.resetMiddlewares=r9;qn.createDynamicMiddlewares=iI});function rI(t){var e=function(r){var n=r.dispatch,o=r.getState;return function(l){return function(u){return typeof u=="function"?u(n,o,t):l(u)}}};return e}var nI,oI,sI=T(()=>{nI=rI();nI.withExtraArgument=rI;oI=nI});var lI=W((hce,aI)=>{function n9(){this.__data__=[],this.size=0}aI.exports=n9});var Ul=W((fce,uI)=>{function o9(t,e){return t===e||t!==t&&e!==e}uI.exports=o9});var Jc=W((mce,cI)=>{var s9=Ul();function a9(t,e){for(var i=t.length;i--;)if(s9(t[i][0],e))return i;return-1}cI.exports=a9});var pI=W((gce,dI)=>{var l9=Jc(),u9=Array.prototype,c9=u9.splice;function d9(t){var e=this.__data__,i=l9(e,t);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():c9.call(e,i,1),--this.size,!0}dI.exports=d9});var fI=W((vce,hI)=>{var p9=Jc();function h9(t){var e=this.__data__,i=p9(e,t);return i<0?void 0:e[i][1]}hI.exports=h9});var gI=W((yce,mI)=>{var f9=Jc();function m9(t){return f9(this.__data__,t)>-1}mI.exports=m9});var yI=W((bce,vI)=>{var g9=Jc();function v9(t,e){var i=this.__data__,r=g9(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}vI.exports=v9});var Qc=W((wce,bI)=>{var y9=lI(),b9=pI(),w9=fI(),x9=gI(),S9=yI();function Bl(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}Bl.prototype.clear=y9;Bl.prototype.delete=b9;Bl.prototype.get=w9;Bl.prototype.has=x9;Bl.prototype.set=S9;bI.exports=Bl});var xI=W((xce,wI)=>{var _9=Qc();function E9(){this.__data__=new _9,this.size=0}wI.exports=E9});var _I=W((Sce,SI)=>{function C9(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}SI.exports=C9});var CI=W((_ce,EI)=>{function P9(t){return this.__data__.get(t)}EI.exports=P9});var II=W((Ece,PI)=>{function I9(t){return this.__data__.has(t)}PI.exports=I9});var pb=W((Cce,AI)=>{var A9=typeof global=="object"&&global&&global.Object===Object&&global;AI.exports=A9});var Hn=W((Pce,TI)=>{var T9=pb(),M9=typeof self=="object"&&self&&self.Object===Object&&self,R9=T9||M9||Function("return this")();TI.exports=R9});var ed=W((Ice,MI)=>{var N9=Hn(),k9=N9.Symbol;MI.exports=k9});var OI=W((Ace,kI)=>{var RI=ed(),NI=Object.prototype,O9=NI.hasOwnProperty,D9=NI.toString,td=RI?RI.toStringTag:void 0;function L9(t){var e=O9.call(t,td),i=t[td];try{t[td]=void 0;var r=!0}catch{}var n=D9.call(t);return r&&(e?t[td]=i:delete t[td]),n}kI.exports=L9});var LI=W((Tce,DI)=>{var F9=Object.prototype,z9=F9.toString;function q9(t){return z9.call(t)}DI.exports=q9});var Oa=W((Mce,qI)=>{var FI=ed(),H9=OI(),U9=LI(),B9="[object Null]",W9="[object Undefined]",zI=FI?FI.toStringTag:void 0;function V9(t){return t==null?t===void 0?W9:B9:zI&&zI in Object(t)?H9(t):U9(t)}qI.exports=V9});var lo=W((Rce,HI)=>{function $9(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}HI.exports=$9});var Yh=W((Nce,UI)=>{var j9=Oa(),G9=lo(),K9="[object AsyncFunction]",Y9="[object Function]",X9="[object GeneratorFunction]",Z9="[object Proxy]";function J9(t){if(!G9(t))return!1;var e=j9(t);return e==Y9||e==X9||e==K9||e==Z9}UI.exports=J9});var WI=W((kce,BI)=>{var Q9=Hn(),e8=Q9["__core-js_shared__"];BI.exports=e8});var jI=W((Oce,$I)=>{var hb=WI(),VI=function(){var t=/[^.]+$/.exec(hb&&hb.keys&&hb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function t8(t){return!!VI&&VI in t}$I.exports=t8});var fb=W((Dce,GI)=>{var i8=Function.prototype,r8=i8.toString;function n8(t){if(t!=null){try{return r8.call(t)}catch{}try{return t+""}catch{}}return""}GI.exports=n8});var YI=W((Lce,KI)=>{var o8=Yh(),s8=jI(),a8=lo(),l8=fb(),u8=/[\\^$.*+?()[\]{}|]/g,c8=/^\[object .+?Constructor\]$/,d8=Function.prototype,p8=Object.prototype,h8=d8.toString,f8=p8.hasOwnProperty,m8=RegExp("^"+h8.call(f8).replace(u8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g8(t){if(!a8(t)||s8(t))return!1;var e=o8(t)?m8:c8;return e.test(l8(t))}KI.exports=g8});var ZI=W((Fce,XI)=>{function v8(t,e){return t?.[e]}XI.exports=v8});var Ts=W((zce,JI)=>{var y8=YI(),b8=ZI();function w8(t,e){var i=b8(t,e);return y8(i)?i:void 0}JI.exports=w8});var Xh=W((qce,QI)=>{var x8=Ts(),S8=Hn(),_8=x8(S8,"Map");QI.exports=_8});var id=W((Hce,eA)=>{var E8=Ts(),C8=E8(Object,"create");eA.exports=C8});var rA=W((Uce,iA)=>{var tA=id();function P8(){this.__data__=tA?tA(null):{},this.size=0}iA.exports=P8});var oA=W((Bce,nA)=>{function I8(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}nA.exports=I8});var aA=W((Wce,sA)=>{var A8=id(),T8="__lodash_hash_undefined__",M8=Object.prototype,R8=M8.hasOwnProperty;function N8(t){var e=this.__data__;if(A8){var i=e[t];return i===T8?void 0:i}return R8.call(e,t)?e[t]:void 0}sA.exports=N8});var uA=W((Vce,lA)=>{var k8=id(),O8=Object.prototype,D8=O8.hasOwnProperty;function L8(t){var e=this.__data__;return k8?e[t]!==void 0:D8.call(e,t)}lA.exports=L8});var dA=W(($ce,cA)=>{var F8=id(),z8="__lodash_hash_undefined__";function q8(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=F8&&e===void 0?z8:e,this}cA.exports=q8});var hA=W((jce,pA)=>{var H8=rA(),U8=oA(),B8=aA(),W8=uA(),V8=dA();function Wl(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}Wl.prototype.clear=H8;Wl.prototype.delete=U8;Wl.prototype.get=B8;Wl.prototype.has=W8;Wl.prototype.set=V8;pA.exports=Wl});var gA=W((Gce,mA)=>{var fA=hA(),$8=Qc(),j8=Xh();function G8(){this.size=0,this.__data__={hash:new fA,map:new(j8||$8),string:new fA}}mA.exports=G8});var yA=W((Kce,vA)=>{function K8(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}vA.exports=K8});var rd=W((Yce,bA)=>{var Y8=yA();function X8(t,e){var i=t.__data__;return Y8(e)?i[typeof e=="string"?"string":"hash"]:i.map}bA.exports=X8});var xA=W((Xce,wA)=>{var Z8=rd();function J8(t){var e=Z8(this,t).delete(t);return this.size-=e?1:0,e}wA.exports=J8});var _A=W((Zce,SA)=>{var Q8=rd();function e7(t){return Q8(this,t).get(t)}SA.exports=e7});var CA=W((Jce,EA)=>{var t7=rd();function i7(t){return t7(this,t).has(t)}EA.exports=i7});var IA=W((Qce,PA)=>{var r7=rd();function n7(t,e){var i=r7(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}PA.exports=n7});var Zh=W((ede,AA)=>{var o7=gA(),s7=xA(),a7=_A(),l7=CA(),u7=IA();function Vl(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}Vl.prototype.clear=o7;Vl.prototype.delete=s7;Vl.prototype.get=a7;Vl.prototype.has=l7;Vl.prototype.set=u7;AA.exports=Vl});var MA=W((tde,TA)=>{var c7=Qc(),d7=Xh(),p7=Zh(),h7=200;function f7(t,e){var i=this.__data__;if(i instanceof c7){var r=i.__data__;if(!d7||r.length<h7-1)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new p7(r)}return i.set(t,e),this.size=i.size,this}TA.exports=f7});var Jh=W((ide,RA)=>{var m7=Qc(),g7=xI(),v7=_I(),y7=CI(),b7=II(),w7=MA();function $l(t){var e=this.__data__=new m7(t);this.size=e.size}$l.prototype.clear=g7;$l.prototype.delete=v7;$l.prototype.get=y7;$l.prototype.has=b7;$l.prototype.set=w7;RA.exports=$l});var mb=W((rde,NA)=>{var x7=Ts(),S7=function(){try{var t=x7(Object,"defineProperty");return t({},"",{}),t}catch{}}();NA.exports=S7});var Qh=W((nde,OA)=>{var kA=mb();function _7(t,e,i){e=="__proto__"&&kA?kA(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}OA.exports=_7});var gb=W((ode,DA)=>{var E7=Qh(),C7=Ul();function P7(t,e,i){(i!==void 0&&!C7(t[e],i)||i===void 0&&!(e in t))&&E7(t,e,i)}DA.exports=P7});var FA=W((sde,LA)=>{function I7(t){return function(e,i,r){for(var n=-1,o=Object(e),l=r(e),u=l.length;u--;){var c=l[t?u:++n];if(i(o[c],c,o)===!1)break}return e}}LA.exports=I7});var qA=W((ade,zA)=>{var A7=FA(),T7=A7();zA.exports=T7});var VA=W((nd,jl)=>{var M7=Hn(),WA=typeof nd=="object"&&nd&&!nd.nodeType&&nd,HA=WA&&typeof jl=="object"&&jl&&!jl.nodeType&&jl,R7=HA&&HA.exports===WA,UA=R7?M7.Buffer:void 0,BA=UA?UA.allocUnsafe:void 0;function N7(t,e){if(e)return t.slice();var i=t.length,r=BA?BA(i):new t.constructor(i);return t.copy(r),r}jl.exports=N7});var vb=W((lde,$A)=>{var k7=Hn(),O7=k7.Uint8Array;$A.exports=O7});var KA=W((ude,GA)=>{var jA=vb();function D7(t){var e=new t.constructor(t.byteLength);return new jA(e).set(new jA(t)),e}GA.exports=D7});var XA=W((cde,YA)=>{var L7=KA();function F7(t,e){var i=e?L7(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}YA.exports=F7});var JA=W((dde,ZA)=>{function z7(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}ZA.exports=z7});var tT=W((pde,eT)=>{var q7=lo(),QA=Object.create,H7=function(){function t(){}return function(e){if(!q7(e))return{};if(QA)return QA(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();eT.exports=H7});var yb=W((hde,iT)=>{function U7(t,e){return function(i){return t(e(i))}}iT.exports=U7});var ef=W((fde,rT)=>{var B7=yb(),W7=B7(Object.getPrototypeOf,Object);rT.exports=W7});var tf=W((mde,nT)=>{var V7=Object.prototype;function $7(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||V7;return t===i}nT.exports=$7});var sT=W((gde,oT)=>{var j7=tT(),G7=ef(),K7=tf();function Y7(t){return typeof t.constructor=="function"&&!K7(t)?j7(G7(t)):{}}oT.exports=Y7});var Ms=W((vde,aT)=>{function X7(t){return t!=null&&typeof t=="object"}aT.exports=X7});var uT=W((yde,lT)=>{var Z7=Oa(),J7=Ms(),Q7="[object Arguments]";function ej(t){return J7(t)&&Z7(t)==Q7}lT.exports=ej});var rf=W((bde,pT)=>{var cT=uT(),tj=Ms(),dT=Object.prototype,ij=dT.hasOwnProperty,rj=dT.propertyIsEnumerable,nj=cT(function(){return arguments}())?cT:function(t){return tj(t)&&ij.call(t,"callee")&&!rj.call(t,"callee")};pT.exports=nj});var uo=W((wde,hT)=>{var oj=Array.isArray;hT.exports=oj});var nf=W((xde,fT)=>{var sj=9007199254740991;function aj(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sj}fT.exports=aj});var od=W((Sde,mT)=>{var lj=Yh(),uj=nf();function cj(t){return t!=null&&uj(t.length)&&!lj(t)}mT.exports=cj});var vT=W((_de,gT)=>{var dj=od(),pj=Ms();function hj(t){return pj(t)&&dj(t)}gT.exports=hj});var bT=W((Ede,yT)=>{function fj(){return!1}yT.exports=fj});var of=W((sd,Gl)=>{var mj=Hn(),gj=bT(),ST=typeof sd=="object"&&sd&&!sd.nodeType&&sd,wT=ST&&typeof Gl=="object"&&Gl&&!Gl.nodeType&&Gl,vj=wT&&wT.exports===ST,xT=vj?mj.Buffer:void 0,yj=xT?xT.isBuffer:void 0,bj=yj||gj;Gl.exports=bj});var CT=W((Cde,ET)=>{var wj=Oa(),xj=ef(),Sj=Ms(),_j="[object Object]",Ej=Function.prototype,Cj=Object.prototype,_T=Ej.toString,Pj=Cj.hasOwnProperty,Ij=_T.call(Object);function Aj(t){if(!Sj(t)||wj(t)!=_j)return!1;var e=xj(t);if(e===null)return!0;var i=Pj.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&_T.call(i)==Ij}ET.exports=Aj});var IT=W((Pde,PT)=>{var Tj=Oa(),Mj=nf(),Rj=Ms(),Nj="[object Arguments]",kj="[object Array]",Oj="[object Boolean]",Dj="[object Date]",Lj="[object Error]",Fj="[object Function]",zj="[object Map]",qj="[object Number]",Hj="[object Object]",Uj="[object RegExp]",Bj="[object Set]",Wj="[object String]",Vj="[object WeakMap]",$j="[object ArrayBuffer]",jj="[object DataView]",Gj="[object Float32Array]",Kj="[object Float64Array]",Yj="[object Int8Array]",Xj="[object Int16Array]",Zj="[object Int32Array]",Jj="[object Uint8Array]",Qj="[object Uint8ClampedArray]",eG="[object Uint16Array]",tG="[object Uint32Array]",Yt={};Yt[Gj]=Yt[Kj]=Yt[Yj]=Yt[Xj]=Yt[Zj]=Yt[Jj]=Yt[Qj]=Yt[eG]=Yt[tG]=!0;Yt[Nj]=Yt[kj]=Yt[$j]=Yt[Oj]=Yt[jj]=Yt[Dj]=Yt[Lj]=Yt[Fj]=Yt[zj]=Yt[qj]=Yt[Hj]=Yt[Uj]=Yt[Bj]=Yt[Wj]=Yt[Vj]=!1;function iG(t){return Rj(t)&&Mj(t.length)&&!!Yt[Tj(t)]}PT.exports=iG});var TT=W((Ide,AT)=>{function rG(t){return function(e){return t(e)}}AT.exports=rG});var RT=W((ad,Kl)=>{var nG=pb(),MT=typeof ad=="object"&&ad&&!ad.nodeType&&ad,ld=MT&&typeof Kl=="object"&&Kl&&!Kl.nodeType&&Kl,oG=ld&&ld.exports===MT,bb=oG&&nG.process,sG=function(){try{var t=ld&&ld.require&&ld.require("util").types;return t||bb&&bb.binding&&bb.binding("util")}catch{}}();Kl.exports=sG});var sf=W((Ade,OT)=>{var aG=IT(),lG=TT(),NT=RT(),kT=NT&&NT.isTypedArray,uG=kT?lG(kT):aG;OT.exports=uG});var wb=W((Tde,DT)=>{function cG(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}DT.exports=cG});var xb=W((Mde,LT)=>{var dG=Qh(),pG=Ul(),hG=Object.prototype,fG=hG.hasOwnProperty;function mG(t,e,i){var r=t[e];(!(fG.call(t,e)&&pG(r,i))||i===void 0&&!(e in t))&&dG(t,e,i)}LT.exports=mG});var zT=W((Rde,FT)=>{var gG=xb(),vG=Qh();function yG(t,e,i,r){var n=!i;i||(i={});for(var o=-1,l=e.length;++o<l;){var u=e[o],c=r?r(i[u],t[u],u,i,t):void 0;c===void 0&&(c=t[u]),n?vG(i,u,c):gG(i,u,c)}return i}FT.exports=yG});var HT=W((Nde,qT)=>{function bG(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}qT.exports=bG});var ud=W((kde,UT)=>{var wG=9007199254740991,xG=/^(?:0|[1-9]\d*)$/;function SG(t,e){var i=typeof t;return e=e??wG,!!e&&(i=="number"||i!="symbol"&&xG.test(t))&&t>-1&&t%1==0&&t<e}UT.exports=SG});var Sb=W((Ode,BT)=>{var _G=HT(),EG=rf(),CG=uo(),PG=of(),IG=ud(),AG=sf(),TG=Object.prototype,MG=TG.hasOwnProperty;function RG(t,e){var i=CG(t),r=!i&&EG(t),n=!i&&!r&&PG(t),o=!i&&!r&&!n&&AG(t),l=i||r||n||o,u=l?_G(t.length,String):[],c=u.length;for(var d in t)(e||MG.call(t,d))&&!(l&&(d=="length"||n&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||IG(d,c)))&&u.push(d);return u}BT.exports=RG});var VT=W((Dde,WT)=>{function NG(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}WT.exports=NG});var jT=W((Lde,$T)=>{var kG=lo(),OG=tf(),DG=VT(),LG=Object.prototype,FG=LG.hasOwnProperty;function zG(t){if(!kG(t))return DG(t);var e=OG(t),i=[];for(var r in t)r=="constructor"&&(e||!FG.call(t,r))||i.push(r);return i}$T.exports=zG});var af=W((Fde,GT)=>{var qG=Sb(),HG=jT(),UG=od();function BG(t){return UG(t)?qG(t,!0):HG(t)}GT.exports=BG});var XT=W((zde,KT)=>{var WG=zT(),VG=af();function $G(t){return WG(t,VG(t))}KT.exports=$G});var iM=W((qde,tM)=>{var ZT=gb(),jG=VA(),GG=XA(),KG=JA(),YG=sT(),JT=rf(),QT=uo(),XG=vT(),ZG=of(),JG=Yh(),QG=lo(),eK=CT(),tK=sf(),eM=wb(),iK=XT();function rK(t,e,i,r,n,o,l){var u=eM(t,i),c=eM(e,i),d=l.get(c);if(d){ZT(t,i,d);return}var f=o?o(u,c,i+"",t,e,l):void 0,g=f===void 0;if(g){var v=QT(c),S=!v&&ZG(c),E=!v&&!S&&tK(c);f=c,v||S||E?QT(u)?f=u:XG(u)?f=KG(u):S?(g=!1,f=jG(c,!0)):E?(g=!1,f=GG(c,!0)):f=[]:eK(c)||JT(c)?(f=u,JT(u)?f=iK(u):(!QG(u)||JG(u))&&(f=YG(c))):g=!1}g&&(l.set(c,f),n(f,c,r,o,l),l.delete(c)),ZT(t,i,f)}tM.exports=rK});var oM=W((Hde,nM)=>{var nK=Jh(),oK=gb(),sK=qA(),aK=iM(),lK=lo(),uK=af(),cK=wb();function rM(t,e,i,r,n){t!==e&&sK(e,function(o,l){if(n||(n=new nK),lK(o))aK(t,e,l,i,rM,r,n);else{var u=r?r(cK(t,l),o,l+"",t,e,n):void 0;u===void 0&&(u=o),oK(t,l,u)}},uK)}nM.exports=rM});var lf=W((Ude,sM)=>{function dK(t){return t}sM.exports=dK});var lM=W((Bde,aM)=>{function pK(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}aM.exports=pK});var dM=W((Wde,cM)=>{var hK=lM(),uM=Math.max;function fK(t,e,i){return e=uM(e===void 0?t.length-1:e,0),function(){for(var r=arguments,n=-1,o=uM(r.length-e,0),l=Array(o);++n<o;)l[n]=r[e+n];n=-1;for(var u=Array(e+1);++n<e;)u[n]=r[n];return u[e]=i(l),hK(t,this,u)}}cM.exports=fK});var hM=W((Vde,pM)=>{function mK(t){return function(){return t}}pM.exports=mK});var gM=W(($de,mM)=>{var gK=hM(),fM=mb(),vK=lf(),yK=fM?function(t,e){return fM(t,"toString",{configurable:!0,enumerable:!1,value:gK(e),writable:!0})}:vK;mM.exports=yK});var yM=W((jde,vM)=>{var bK=800,wK=16,xK=Date.now;function SK(t){var e=0,i=0;return function(){var r=xK(),n=wK-(r-i);if(i=r,n>0){if(++e>=bK)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}vM.exports=SK});var wM=W((Gde,bM)=>{var _K=gM(),EK=yM(),CK=EK(_K);bM.exports=CK});var SM=W((Kde,xM)=>{var PK=lf(),IK=dM(),AK=wM();function TK(t,e){return AK(IK(t,e,PK),t+"")}xM.exports=TK});var EM=W((Yde,_M)=>{var MK=Ul(),RK=od(),NK=ud(),kK=lo();function OK(t,e,i){if(!kK(i))return!1;var r=typeof e;return(r=="number"?RK(i)&&NK(e,i.length):r=="string"&&e in i)?MK(i[e],t):!1}_M.exports=OK});var PM=W((Xde,CM)=>{var DK=SM(),LK=EM();function FK(t){return DK(function(e,i){var r=-1,n=i.length,o=n>1?i[n-1]:void 0,l=n>2?i[2]:void 0;for(o=t.length>3&&typeof o=="function"?(n--,o):void 0,l&&LK(i[0],i[1],l)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var u=i[r];u&&t(e,u,r,o)}return e})}CM.exports=FK});var AM=W((Zde,IM)=>{var zK=oM(),qK=PM(),HK=qK(function(t,e,i){zK(t,e,i)});IM.exports=HK});function Da(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}var _b=T(()=>{});function Eb(t={}){let e=t.promiseTypeSuffixes||UK,i=t.promiseTypeDelimiter||"_";return r=>{let{dispatch:n}=r;return o=>l=>{let u,c;if(l.payload){let A=l.payload;if(Da(A))u=A;else if(Da(A.promise))u=A.promise,c=A.data;else if(typeof A=="function"||typeof A.promise=="function"){if(u=A.promise?A.promise():A(),c=A.promise?A.data:void 0,!Da(u))return o({...l,payload:u})}else return o(l)}else return o(l);let d=l.type,f=l.meta,[g,v,S]=e,E=(A,L)=>({type:[d,L?S:v].join(i),...A===null||typeof A>"u"?{}:{payload:A},...f!==void 0?{meta:f}:{},...L?{error:!0}:{}}),_=A=>{let L=E(A,!0);n(L)},P=(A=null)=>{let L=E(A,!1);return n(L),{value:A,action:L}};return o({type:[d,g].join(i),...c!==void 0?{payload:c}:{},...f!==void 0?{meta:f}:{}}),u.then(P,_).catch(A=>{if(le&&A.response)console.error("Request to",A.response.config.url,"failed with code",A.response.status);else{if(A&&A.response&&A.response.status===401){console.warn("No auth for request to",A.response.config.url);return}console.error(A)}}),u}}}var uf,cf,df,UK,Cb=T(()=>{_b();Ne();uf="PENDING",cf="FULFILLED",df="REJECTED",UK=[uf,cf,df]});var Yl,Pb,La,pi,Ib,Fa,Ab,Tb,Rs=T(()=>{Yl="cargo.site",Pb="wss://w.s.cargo.site",La="https://u.cargo.site",pi="https://api.cargo.site/v1",Ib="https://cargo.site/_api",Fa="https://cargo.site",Ab="https://cargo.site/_api/v1-p",Tb="yjhpd2ug";switch("production"){case"localhost":case"local-ssr":Yl="local.dev.cargo.site",Pb="wss://ws.dev.cargo.site",La="https://u.local.dev.cargo.site",pi="https://api.dev.cargo.site/v1",Ib="https://dev.cargo.site/_api",Fa="https://dev.cargo.site",Ab="https://dev.cargo.site/_api/v1-p",Tb="na91uuyv";break;case"local-crdt":Yl="local.dev.cargo.site",Pb="wss://ws.local.dev.cargo.site:4443",La="https://u.local.dev.cargo.site",pi="https://api.dev.cargo.site/v1",Ib="https://dev.cargo.site/_api",Fa="https://dev.cargo.site",Ab="https://dev.cargo.site/_api/v1-p",Tb="na91uuyv";break;case"dev":Yl="dev.cargo.site",Pb="wss://ws.dev.cargo.site",La="https://u.dev.cargo.site",pi="https://api.dev.cargo.site/v1",Ib="https://dev.cargo.site/_api",Fa="https://dev.cargo.site",Ab="https://dev.cargo.site/_api/v1-p",Tb="na91uuyv";break}});function BK(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:pf},put:function(r,n){e={key:r,value:n}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function WK(t,e){var i=[];function r(u){var c=i.findIndex(function(f){return e(u,f.key)});if(c>-1){var d=i[c];return c>0&&(i.splice(c,1),i.unshift(d)),d.value}return pf}function n(u,c){r(u)===pf&&(i.unshift({key:u,value:c}),i.length>t&&i.pop())}function o(){return i}function l(){i=[]}return{get:r,put:n,getEntries:o,clear:l}}function VK(t){return function(i,r){if(i===null||r===null||i.length!==r.length)return!1;for(var n=i.length,o=0;o<n;o++)if(!t(i[o],r[o]))return!1;return!0}}function MM(t,e){var i=typeof e=="object"?e:{equalityCheck:e},r=i.equalityCheck,n=r===void 0?TM:r,o=i.maxSize,l=o===void 0?1:o,u=i.resultEqualityCheck,c=VK(n),d=l===1?BK(c):WK(l,c);function f(){var g=d.get(arguments);if(g===pf){if(g=t.apply(null,arguments),u){var v=d.getEntries(),S=v.find(function(E){return u(E.value,g)});S&&(g=S.value)}d.put(arguments,g)}return g}return f.clearCache=function(){return d.clear()},f}var pf,TM,RM=T(()=>{pf="NOT_FOUND";TM=function(e,i){return e===i}});function $K(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var i=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+i+"]")}return e}function Mb(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];var n=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=0,f,g={memoizeOptions:void 0},v=u.pop();if(typeof v=="object"&&(g=v,v=u.pop()),typeof v!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof v+"]");var S=g,E=S.memoizeOptions,_=E===void 0?i:E,P=Array.isArray(_)?_:[_],A=$K(u),L=t.apply(void 0,[function(){return d++,v.apply(null,arguments)}].concat(P)),z=t(function(){for(var H=[],re=A.length,Q=0;Q<re;Q++)H.push(A[Q].apply(null,arguments));return f=L.apply(null,H),f});return Object.assign(z,{resultFunc:v,memoizedResultFunc:L,dependencies:A,lastResult:function(){return f},recomputations:function(){return d},resetRecomputations:function(){return d=0}}),z};return n}var NM,kM=T(()=>{RM();NM=Mb(MM)});var Rb={};ti(Rb,{ADMIN_FRAME:()=>be,CRDTState:()=>qt,FRONTEND_DATA:()=>hf});var be,hf,qt,Ft=T(()=>{be={adminWindow:null},hf={},qt=Object.freeze({New:0,Published:1,Draft:2,Deleted:3})});var bi,Je,hi,Qe,Ei=T(()=>{kM();bi=he(xe(),1);Ne();Ft();Je={};le?hi=Mb(t=>t):hi=function(){return NM.apply(this,[...arguments,{memoizeOptions:{maxSize:10}}])};Je.getItemParentId=(t,e)=>Je.flatByParentList(t)[e];Je.getHomepageId=t=>t.frontendState.isMobile?t.site?.mobile_homepage_id:t.site?.homepage_id;Je.getHomepagePurl=t=>Je.getContentById(t,Je.getHomepageId(t))?.purl?.toLowerCase();Je.getHiddenHomepageId=t=>{let e=t.site?.mobile_homepage_id,i=t.site?.homepage_id;return e===i?null:t.frontendState.isMobile?i:e};Je.flatByParentList=hi(t=>t.structure.byParent,t=>{let e={};for(let i in t)for(let r in t[i])e[t[i][r]]=i;return e});Je.getSetsByParent=hi(t=>t.structure.byParent,t=>t.sets.byId,(t,e)=>{let i={};for(let r in t)i[r]=t[r].filter(n=>e.hasOwnProperty(n));return i});Je.getPagesByParent=hi(t=>t.structure.byParent,t=>t.pages.byId,(t,e)=>{let i={};for(let r in t)i[r]=t[r].filter(n=>e.hasOwnProperty(n));return i});Je.getParentSetList=hi(Je.getItemParentId,Je.flatByParentList,(t,e)=>{let i=[];for(;t;)i.push(t),t=t!==e[t]?e[t]:null;return i});Je.getSetContents=hi((t,e)=>e,Je.getHomepageId,(t,e,i)=>i,(t,e,i)=>t.structure.bySort,(t,e)=>t.structure.byParent[e],t=>t.pages.byId,t=>t.sets.byId,(t,e,i={},r,n=[],o,l)=>{let u;return bi.default.without(n.map(c=>{if(u=o[c]||l[c],i.includeNotIndexable===!0||u&&(u.id===e||Fh(u)))return u}).sort((c,d)=>r[c.id]-r[d.id]),void 0)});Je.getSetContentsByIndex=hi(Je.getSetContents,(t,e,i)=>t.structure.indexById,(t,e)=>t.reduce((i,r)=>(i[e[r.id]]=r,i),{}));Je.getSetDepthsById=hi(t=>t.sets.byId,Je.flatByParentList,(t,e)=>{let i={};return Object.keys(t).forEach(r=>{let n=0,o=r;for(;e[o];)n++,o=e[o];i[r]=n}),i});Je.getPinsForSet=hi(Je.getParentSetList,Je.getSetDepthsById,(t,e,i,r)=>e,(t,e,i,r)=>i,(t,e,i,r)=>r,(t,e,i,r)=>t.structure.bySort,(t,e,i,r)=>t.pages.byId,Je.getPagesByParent,t=>t.frontendState.isMobile,(t,e,i,r,n,o,l={},u={},c)=>{if(!i)return[];let d=i,f=0,g={},v=[];return t.concat([i]).forEach(E=>{u[E]&&u[E].forEach(_=>{if(l[_]&&l[_].pin&&l[_].pin_options&&l[_].pin_options.position===r){if(_!==n&&(l[_].pin_options.screen_visibility==="mobile"&&!c||l[_].pin_options.screen_visibility==="desktop"&&c))return;v.push(l[_]),g[_]=l[_].pin_options.fixed?0:e[E]}})}),v.sort((E,_)=>{let P=o[E.id],A=o[_.id];return E.pin_options.fixed?P+=r==="bottom"?9e9:-9e9:E.pin_options.overlay&&(P+=r==="bottom"?9e5:-9e5),_.pin_options.fixed?A+=r==="bottom"?9e9:-9e9:_.pin_options.overlay&&(A+=r==="bottom"?9e5:-9e5),P-A}),v.sort((E,_)=>r==="bottom"?g[_.id]-g[E.id]:g[E.id]-g[_.id]),v});Je.getAutoRenderableOverlaysForSet=hi(Je.getParentSetList,Je.getSetDepthsById,(t,e,i)=>e,(t,e,i)=>i,(t,e,i)=>t.pages.byId,(t,e,i)=>t.frontendState.PIDToEdit,Je.getPagesByParent,(t,e,i,r,n={},o,l={})=>{if(!i||le)return[];let u=i,c=0,d=[];return t.concat([i]).forEach(g=>{l[g]&&l[g].forEach(v=>{n[v]&&n[v].overlay&&(n[v].id===o||n[v].overlay_options?.openOnLoad||n[v].purl?.toLowerCase()===r?.toLowerCase())&&d.push(n[v])})}),d});Je.getContentById=hi((t,e)=>e,(t,e)=>t.pages.byId[e]||t.sets.byId[e],(t,e)=>e);Je.getContentByPurl=hi((t,e)=>e,(t,e)=>t.pages.byId[Je.getPagesByUrl(t)[e?.toLowerCase()]]||t.sets.byId[Je.getSetsByUrl(t)[e?.toLowerCase()]],(t,e)=>e);Je.getLoadedIndexesForSet=hi(Je.getSetContents,t=>t.structure.indexById,(t,e)=>bi.default.without(t.map(i=>{if(Fh(i))return e[i.id]}),void 0));Je.getMissingIndexesForSet=hi((t,e)=>t.sets.byId[e],Je.getLoadedIndexesForSet,(t,e)=>t?bi.default.difference([...Array(Math.max(t.page_count||0,0)).keys()],e):[]);Je.getSortedListOfIndexPairs=hi(t=>t,(t,e)=>e,(t,e)=>t.sets.byId,(t,e)=>t.structure.indexById,Je.getSetsByParent,(t,e,i,r,n)=>{let o=l=>{let u=Je.getContentById(t,l);if(!u)return[];let c=[...Array(Math.max(u.page_count||0,0)).keys()].map(d=>[u.id,d]);return n[u.id]&&(n[u.id]||[]).map(d=>i[d]).reverse().forEach(d=>{c.splice(r[d.id]+1,0,o(d.id))}),c};return bi.default.chunk(bi.default.flattenDeep(o(e)),2)});Je.getSortedListOfMissingIndexPairs=hi(t=>t,Je.getSortedListOfIndexPairs,(t,e)=>t.sets.byId,Je.getSetsByParent,(t,e,i,r)=>{let n=[];return bi.default.uniq(e.map(o=>o[0])).forEach(o=>{n=n.concat(Je.getLoadedIndexesForSet(t,o).map(l=>[o,l]))}),bi.default.differenceWith(e,n,bi.default.isEqual)});Je.getGappedSetMap=hi(t=>t,Je.getSortedListOfIndexPairs,Je.getSortedListOfMissingIndexPairs,(t,e,i)=>{let r=i[0];if(r){let n=bi.default.uniq(e.map(u=>u[0])).reduce((u,c)=>(u[c]=0,u),{}),o=bi.default.findIndex(e,u=>bi.default.isEqual(u,r)),l=bi.default.fromPairs(e.slice(0,o));return bi.default.merge(n,l)}return{}});Je.getPagesByUrl=hi(t=>t.pages.byId,t=>bi.default.transform(bi.default.omitBy(t,e=>e.crdt_state===qt.Deleted),function(e,i){e[i.purl?.toLowerCase()]=i.id},{}));Je.getSetsByUrl=hi(t=>t.sets.byId,t=>bi.default.transform(bi.default.omitBy(t,e=>e.crdt_state===qt.Deleted),function(e,i){e[i.purl?.toLowerCase()]=i.id},{}));Je.getMediaByHash=t=>{let e={};return bi.default.each(t.pages.byId,i=>{bi.default.each(i.media,r=>{r.crdt_state!==qt.Deleted&&(e[r.hash]=r)})}),e};Je.getMediaByParent=hi(t=>t.pages.byId,t=>{let e={};return bi.default.each(t,i=>{e[i.id]=i.media?.filter(r=>r.crdt_state!==qt.Deleted)}),e});Je.getRenderedPageModels=hi(t=>t.pages.byId,t=>t.frontendState.renderedPages,(t,e)=>e.map(i=>t[i.id]).filter(i=>i!==void 0));Qe=Je});var Ob={};ti(Ob,{actionTypes:()=>Pe,actions:()=>Fe});var Jr,Ha,kb,Fe,jK,OM,Pe,ff,Nb,za,qa,Ht=T(()=>{Jr=he(vn(),1),Ha=he(xe(),1);Cb();Ne();Rs();Ei();kb=he(xe(),1),Fe={},jK=le?3e4:1e4,OM={AUTHENTICATE_USER:"AUTHENTICATE_USER",FETCH_SITEDESIGN_MODEL:"FETCH_SITEDESIGN_MODEL",FETCH_SCAFFOLDING:"FETCH_SCAFFOLDING",FETCH_SITE_PACKAGE:"FETCH_SITE_PACKAGE",FETCH_SITE_MODEL:"FETCH_SITE_MODEL",FETCH_SITE_CSS:"FETCH_SITE_CSS",FETCH_MEDIA:"FETCH_MEDIA",FETCH_CONTENT:"FETCH_CONTENT",DELETE_CONTENT:"DELETE_CONTENT",FETCH_COMMERCE_PRODUCTS:"FETCH_COMMERCE_PRODUCTS",FETCH_SHOP_MODEL:"FETCH_SHOP_MODEL"};(0,Ha.each)(OM,function(t,e,i){i[t+"_"+cf]=e+"_"+cf,i[t+"_"+uf]=e+"_"+uf,i[t+"_"+df]=e+"_"+df});Pe=(0,Ha.merge)({ADD_COMMERCE_PRODUCT_TO_CART:"ADD_COMMERCE_PRODUCT_TO_CART",RESET_COMMERCE_CART:"RESET_COMMERCE_CART",SET_INITIAL_AUTH:"SET_INITIAL_AUTH",PAGES_MOUNTED:"PAGES_MOUNTED",PAGES_UNMOUNTED:"PAGES_UNMOUNTED",UPDATE_FRONTEND_STATE:"UPDATE_FRONTEND_STATE",COMMERCE_PRODUCT_DESTROYED:"COMMERCE_PRODUCT_DESTROYED",COMMERCE_PRODUCT_UPDATED:"COMMERCE_PRODUCT_UPDATED",SHOP_MODEL_UPDATED:"SHOP_MODEL_UPDATED"},OM);Fe.getAuthToken=function(t={}){let e=new Promise((i,r)=>{let n="https://cargo.site/accesstoken";if(t.reverse_bounce_jwt){parent.location.href=n+"/bounce?jwt="+t.reverse_bounce_jwt;return}if(t.bounce){parent.location.href=n+"/bounce?site_url="+t.site_url;return}let o={};t.site_url&&(o.site_url=t.site_url),t.site_id&&(o.site_id=t.site_id),t.jwt&&(o.jwt=t.jwt);let l={};t.nonce&&(l["x-cargo-access-token-nonce"]=t.nonce),Jr.default.get(n,{use_auth:!1,withCredentials:!0,params:o,headers:l,timeout:t?.timeout||jK}).then(function(u){if(!u||u.token===null)return r("No token found.");i(u)}).catch(u=>{r(u)})});return{type:Pe.AUTHENTICATE_USER,payload:e}};Fe.setAuthentication=t=>({type:Pe.AUTHENTICATE_USER_FULFILLED,payload:t});Fe.rejectAuthentication=()=>({type:Pe.AUTHENTICATE_USER_REJECTED,payload:{}});Fe.fetchScaffolding=function(){return function(t,e){let r=`/pages/${e().site.id}/scaffolding`;return t({type:Pe.FETCH_SCAFFOLDING,payload:Jr.default.get(pi+r)})}};Fe.fetchFiles=function(){return function(t,e){let r=`/sites/${e().site.id}/media/files`;return t({type:Pe.FETCH_MEDIA,payload:Jr.default.get(pi+r)})}};Fe.fetchCommerceProducts=function(t={}){return t=kb.default.defaults(t,{orderBy:"date_added",orderDir:"asc",idArray:null,onlyNew:!0}),function(e,i){let r=i(),n=`/commerce/${r.site.id}/products`,o;if(t.idArray){n+="/list";let l=new FormData;if(t.idArray){let u=t.idArray.filter(c=>!(t.onlyNew===!0&&r.commerce.products.hasOwnProperty(c)));if(u.length===0)return Promise.resolve();u.forEach(c=>{l.append("ids[]",c)})}o=Jr.default.post(pi+n,l,{use_auth:!1})}else o=Jr.default.get(pi+n,{use_auth:!1,params:{order_by:t.orderBy,order_dir:t.orderDir,limit:t.limit}});return e({type:Pe.FETCH_COMMERCE_PRODUCTS,payload:o,meta:{options:t}})}};Fe.fetchShopModel=function(t={}){return function(e,i){let r=i();if(!r.site.shop_id)return Promise.resolve();let n=`/commerce/${r.site.id}/shop/${r.site.shop_id}`;return e({type:Pe.FETCH_SHOP_MODEL,payload:Jr.default.get(pi+n,{use_cache:t.force!==!0})})}};Fe.resetCommerceCart=function(){return{type:Pe.RESET_COMMERCE_CART,payload:{}}};Fe.addCommerceProductToCart=function(t,e,i={}){return function(r,n){let o=n(),l=o.commerce.products[t],u=l?.variants.find(c=>c.variant_id==e);if(!l||!u){i.failureCallback?.("Product not found");return}if((i.amount===void 0||isNaN(i.amount))&&(i.amount=1),u.inventory!==null&&i.amount>u.inventory)if(u.inventory<=0){i.failureCallback?.("Product is out of stock");return}else i.amount=u.inventory;return typeof i.callback=="function"&&i.callback(),r({type:Pe.ADD_COMMERCE_PRODUCT_TO_CART,payload:{product_id:u.product_id,variant_id:u.variant_id,quantity:i.amount},meta:{is_template:o.site.is_template}})}};ff=null,Nb=!1,za=[],qa=[];Fe.pageMounted=function(t){if(qa.includes(t)&&(qa=qa.filter(e=>e!==t)),!za.includes(t))return(e,i)=>(za.push(t),ff||(ff=new Promise(r=>{requestAnimationFrame(()=>{e({type:Pe.PAGES_MOUNTED,payload:{pages:[...za]}}),r(),ff=null,za=[]})})),ff)};Fe.pageUnMounted=function(t){if(za.includes(t)&&(za=za.filter(e=>e!==t)),!qa.includes(t))return(e,i)=>{if(i().frontendState.PIDBeingEdited===t?.id)return e({type:Pe.PAGES_UNMOUNTED,payload:{pages:[t]}});qa.push(t),Nb||(Nb=!0,requestAnimationFrame(()=>{e({type:Pe.PAGES_UNMOUNTED,payload:{pages:[...qa]}}),Nb=!1,qa=[]}))}};Fe.fetchSiteModel=function(){return function(t,e){let r=`/sites/${e().site.id}`,n=Jr.default.get(pi+r);return t({type:Pe.FETCH_SITE_MODEL,payload:n})}};Fe.fetchSiteCSS=function(){return function(t,e){let r=`/sites/${e().site.id}/css`,n=Jr.default.get(pi+r);return t({type:Pe.FETCH_SITE_CSS,payload:n})}};Fe.fetchSitePackage=function(){return function(t,e){let i=e(),r;le?r=i.frontendState.hostname:r=Ma?Ry:window.location.hostname,My&&(r=r.replace("local.dev.cargo.site","dev.cargo.site"));let n=Jr.default.get(pi+`/package/${r}`);return t({type:Pe.FETCH_SITE_PACKAGE,payload:n})}};Fe.fetchSiteDesignModel=function(){return function(t,e){let r=`/sites/${e().site.id}/design`,n=Jr.default.get(pi+r);return t({type:Pe.FETCH_SITEDESIGN_MODEL,payload:n})}};Fe.fetchPagesByTag=function(t,e={}){return function(i,r){let n=store.getState(),o=Jr.default.get(pi+`/pages/${n.site.id}/tag/${t}`,{withCredentials:!0,use_cache:e.force!==!0});return i({type:Pe.FETCH_CONTENT,payload:o})}};Fe.fetchContent=function(t,e={}){return e.idType||(e.idType="pid"),function(i,r){let n=r(),o;if(e.indexes&&n.frontendState.inAdminFrame===!0){let f=n.structure.byParent[t]?.reduce((g,v)=>(g[n.structure.indexById[v]]=v,g),{});f&&(o={},e.indexes.forEach(g=>{let v=f[g],S=n.structure.liveIndexes[v];if(S){let[E,_]=S.split("/");o[E]||(o[E]=[]),o[E].push(parseInt(_))}}),o=kb.default.map(o,(g,v)=>({set_id:v,index:g})))}if(e.force!==!0&&(e.idType==="purl"?Qe.getContentByPurl(n,t):Qe.getContentById(n,t)||t==="root")&&(e.indexes===void 0||e.indexes.length===0)&&e.prev!==!0&&e.next!==!0)return i({type:Pe.FETCH_CONTENT,payload:Promise.resolve()});let l=`/pages/${n.site.id}/url/${t}`;e.next===!0?l=`/pages/${n.site.id}/next/${t}`:e.prev===!0?l=`/pages/${n.site.id}/prev/${t}`:e.idType==="pid"&&(l=`/pages/${n.site.id}/id/${t}`);let u={};(0,Ha.isArray)(e.indexes)&&(l=`/pages/${n.site.id}/filter/`,o&&Object.keys(o).length>0?u.indexBySet=JSON.stringify(o):u.indexBySet=JSON.stringify([{set_id:t,index:e.indexes}]));let c=Jr.default.get(pi+l,{withCredentials:!0,use_cache:e.force!==!0,params:u,validateStatus:function(f){return f>=200&&f<300&&f!==204},contentIdentifier:{idType:e.idType,id:t}}),d=new Promise((f,g)=>{c.then(v=>{(0,Ha.isArray)(v.data)||(v.data=[v.data]),e.cb?.(v),f(v)}).catch(g)});return i({type:Pe.FETCH_CONTENT,payload:d})}};Fe.updateFrontendState=function(t){return function(e,i){return e({type:Pe.UPDATE_FRONTEND_STATE,payload:t})}};Fe.deleteContent=function(t){return function(e,i){let r=new Promise().resolve({id:t});return{type:Pe.DELETE_CONTENT,payload:r}}};le||(window.actions=Fe)});function Db(){return t=>e=>(Da(e.payload)&&e.payload.catch(function(i){if(le&&i.response)console.error("Request to",i.response.config.url,"failed with code",i.response.status);else{if(i&&i.response&&i.response.status===401){console.warn("No auth for request to",i.response.config.url);return}console.error(i)}return i}),t(e))}var ppe,DM=T(()=>{_b();ppe=he(xe(),1);Ne()});function LM(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SITE_MODEL_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.site),i){if(Ma&&(i.domain_active=!1),!le)try{localStorage.setItem("c3-site",JSON.stringify({id:i.id,host:window.location.host}))}catch(r){console.error(r)}return{...t,...i,crdt_state:qt.Published}}break}return t}var vpe,FM=T(()=>{Ht();Ne();Ft();vpe=he(xe(),1)});function GK(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SCAFFOLDING_FULFILLED:case Pe.FETCH_ADMIN_LIST_FULFILLED:case Pe.FETCH_CONTENT_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.scaffolding),i)return mf.default.isArray(i)||(i=[i]),{...t,...i.reduce((r,n)=>(n.page_type!=="page"||(n={...n},delete n.index,delete n.sort,delete n.set_id,delete n.is_homepage,n.purl&&(n.purl=n.purl.toLowerCase()),n.crdt_state=qt.Published,r[n.id]=n),r),{})};break;case Pe.DELETE_CONTENT:if(t[e.payload.id]){let r={...t};return delete r[e.payload.id],r}break;case Pe.UPDATE_PAGE:return{...t,[e.meta.id]:mf.default.merge({},mf.default.cloneDeep(t[e.meta.id]),e.payload)}}return t}var mf,Lb,zM,qM=T(()=>{Ht();ai();Ft();mf=he(xe(),1);Ne();Lb={byId:GK},zM=zn(Lb)});function KK(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SCAFFOLDING_FULFILLED:case Pe.FETCH_ADMIN_LIST_FULFILLED:case Pe.FETCH_CONTENT_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.scaffolding),i)return{...t,...i.reduce((r,n)=>(n.page_type!=="set"||(n={...n},delete n.index,delete n.sort,delete n.set_id,delete n.is_homepage,n.purl&&(n.purl=n.purl.toLowerCase()),n.crdt_state=qt.Published,r[n.id]=n),r),{})};break}return t}var Fb,HM,UM=T(()=>{Ht();ai();Ft();Fb={byId:KK},HM=zn(Fb)});function YK(t=WM,e){switch(e.type){case Pe.RESET_COMMERCE_CART:try{localStorage.removeItem("cargo-commerce-cart")}catch(n){console.error("Unable to store cart",n)}return{};case Pe.ADD_COMMERCE_PRODUCT_TO_CART:let i=e.payload,r;i.quantity===null?(r={...t},delete r[i.variant_id]):(t[i.variant_id]&&(i={...t[i.variant_id],quantity:Math.max(0,(t[i.variant_id].quantity||0)+i.quantity)}),r={...t,[i.variant_id]:i});try{e.meta?.is_template!==!0&&localStorage.setItem("cargo-commerce-cart",JSON.stringify(r))}catch(n){console.error("Unable to store cart",n)}return r}return t}function XK(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_COMMERCE_PRODUCTS_FULFILLED:let i=e.meta?.options||{},r=(e.payload.data?.data||[]).reduce((o,l,u)=>{let c=t[l?.product_id];return i.onlyNew&&c?(i.idArray===null&&c.sort_index===void 0&&(c.sort_index=u),o):(i.idArray===null&&(l.sort_index=u),BM(l),{...o,[l.product_id]:l})},{});return{...t,...r};case Pe.COMMERCE_PRODUCT_UPDATED:return BM(e.payload),{...t,[e.payload.product_id]:e.payload};break;case Pe.COMMERCE_PRODUCT_DESTROYED:let n={...t};return delete n[e.payload.product_id],n;break}return t}function ZK(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SHOP_MODEL_FULFILLED:return{...t,...e.payload.data};case Pe.SHOP_MODEL_UPDATED:return{...t,...e.payload}}return t}var Ns,WM,BM,zb,VM,$M=T(()=>{Ns=he(xe(),1);ai();Ht();Ne();WM={};if(!le)try{WM=JSON.parse(localStorage.getItem("cargo-commerce-cart"))||{},window.__PRELOADED_STATE__&&window.__PRELOADED_STATE__.commerce&&window.__PRELOADED_STATE__.commerce.cart&&delete window.__PRELOADED_STATE__.commerce.cart}catch{}BM=t=>{t.name&&(t.name=Ns.default.unescape(t.name)),t.variants?.forEach(e=>{Ns.default.each(e.attributes,(i,r)=>{let n=Ns.default.unescape(i);delete e.attributes[r],e.attributes[Ns.default.unescape(r)]=n})}),Ns.default.each(t.attributes,(e,i)=>{let r=e.map(n=>Ns.default.unescape(n));delete t.attributes[i],t.attributes[Ns.default.unescape(i)]=r})};zb={products:XK,cart:YK,shop:ZK},VM=zn(zb)});function GM(t=JK,e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_MEDIA_FULFILLED:let i=e.payload.data;if(i)return{...t,data:jM.default.uniqBy([...t.data,...i],"id")};break}return t}var jM,JK,KM=T(()=>{Ht();Ft();jM=he(xe(),1),JK={data:[],crdt_state:qt.Published}});function YM(t={},e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SITE_CSS_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.css),i)return{...t,...i,crdt_state:qt.Published};break}return t}var Fpe,XM=T(()=>{Ht();Ft();Fpe=he(xe(),1)});function qb(t=QK,e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SCAFFOLDING_FULFILLED:case Pe.FETCH_ADMIN_LIST_FULFILLED:case Pe.FETCH_CONTENT_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.scaffolding),i){let r={...t},n={};return(0,ks.each)(i,function(o){o.page_type==="set"&&(n.hasOwnProperty(o.id)||(n[o.id]=[])),o.id!=="root"&&o.hasOwnProperty("set_id")&&(n.hasOwnProperty(o.set_id)||(n[o.set_id]=[]),n[o.set_id].push(o.id))}),r.byParent=(0,ks.mergeWith)({},t.byParent,n,(o,l)=>{if((0,ks.isArray)(o))return(0,ks.uniq)(o.concat(l))}),r.bySort={...t.bySort,...i.reduce((o,l)=>(l.id!=="root"&&l.hasOwnProperty("sort")&&(o[l.id]=l.sort),o),{})},r.indexById={...t.indexById,...i.reduce((o,l)=>(l.id!=="root"&&l.hasOwnProperty("index")&&(o[l.id]=l.index),o),{})},r}break}return t}var ks,QK,ZM=T(()=>{Ht();ks=he(xe(),1);Ft();QK={byParent:{root:[]},bySort:{},indexById:{},liveIndexes:{},crdt_state:qt.Published}});function tY(t=eY,e){switch(e.type){case Pe.AUTHENTICATE_USER_PENDING:return{...t,authenticating:!0};case Pe.AUTHENTICATE_USER_FULFILLED:if(e.payload?.data?.access_token){if(!le)try{localStorage.setItem("c3-auth",JSON.stringify(e.payload.data))}catch(i){console.error(i)}return{...t,authenticating:!1,authenticated:!0,data:e.payload.data}}else{if(!le)try{localStorage.removeItem("c3-auth")}catch(i){console.error(i)}return{...t,authenticating:!1,authenticated:!1}}case Pe.AUTHENTICATE_USER_REJECTED:if(!le)try{localStorage.removeItem("c3-auth")}catch(i){console.error(i)}return{...t,authenticating:!1,authenticated:!1}}return t}var Wpe,eY,JM,QM=T(()=>{Wpe=he(xe(),1);Ne();Ht();eY={authenticating:!1,authenticated:!1};JM=tY});function rY(t=iY,e){if(!e.payload)return t;switch(e.type){case Pe.FETCH_SITEDESIGN_MODEL_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let i=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(i=i.design),i)return Hb.default.merge(Hb.default.cloneDeep(t),i.site_design);break}return t}var Hb,iY,eR,tR=T(()=>{Ht();Hb=he(xe(),1);Ft();iY={images:{},quick_view:{},site:{enableColorFilter:!1,enableHomeLinkActiveStates:!1},cart:{theme:"light"},contact_form:{theme:"light"},crdt_state:qt.Published};eR=rY});function rR(t=iR,e){if(!e.payload)return t;let i;switch(e.type){case Pe.UPDATE_FRONTEND_STATE:return Ub.default.mergeWith({},iR,t,e.payload,(r,n,o,l,u)=>{n===void 0&&u.hasOwnProperty(o)&&delete l[o]});case Pe.FETCH_SITE_PACKAGE_FULFILLED:return{...t,hasSiteModel:!0,hasScaffolding:!0,hasSiteDesign:!0,hasSiteCSS:!0,hasSitePackage:!0};case Pe.FETCH_SCAFFOLDING_FULFILLED:return{...t,hasScaffolding:!0};case Pe.FETCH_SITE_MODEL_FULFILLED:return{...t,hasSiteModel:!0};case Pe.FETCH_SHOP_MODEL_FULFILLED:return{...t,hasShopModel:!0};case Pe.FETCH_SITE_CSS_FULFILLED:return{...t,hasSiteCSS:!0};case Pe.FETCH_SITEDESIGN_MODEL_FULFILLED:return{...t,hasSiteDesign:!0};case Pe.PAGES_MOUNTED:return i=[...t.renderedPages,...e.payload.pages],{...t,renderedPages:i};case Pe.PAGES_UNMOUNTED:return{...t,renderedPages:Ub.default.difference(t.renderedPages,e.payload.pages)};case Pe.FETCH_CONTENT_REJECTED:return{...t,networkErrors:[...t.networkErrors,{...e.payload.config?.contentIdentifier,code:e.payload.response?.status}]}}return t}var Ub,nY,iR,nR=T(()=>{Ht();Ne();Ne();Ub=he(xe(),1),nY=Ny(),iR={hasSiteModel:!1,hasScaffolding:!1,hasSiteDesign:!1,hasSiteCSS:!1,hasShopModel:!1,hasSitePackage:!1,quickView:{mode:"default",inited:!1,autoScrolling:!1,elementArray:!1,activeIndex:0,startingIndex:0},contactForm:{transition:!1,inited:!1},adminMode:Ai,inAdminFrame:Ai,renderedPages:[],networkErrors:[],pageNotFound:!1,fontsLoaded:[],deviceType:nY}});var Wb={};ti(Wb,{default:()=>Bb,rawReducers:()=>oY});var Bb,oY,Vb=T(()=>{FM();qM();UM();$M();KM();XM();ZM();QM();tR();nR();Ht();Bb={structure:qb,site:LM,pages:zM,sets:HM,media:GM,css:YM,auth:JM,siteDesign:eR,frontendState:rR,commerce:VM},oY={pages:Lb,sets:Fb,commerce:zb}});var oR,hhe,sR,aR=T(()=>{oR=he(db(),1);ai();sI();hhe=he(AM(),1);Ht();DM();Cb();Vb();Ne();sR=()=>{let t=[],e=(0,oR.createDynamicMiddlewares)(),i=[oI,Db,Eb(),e.enhancer],r=Gh(cb(...i),...t),n=le?{}:window.__PRELOADED_STATE__||{},o=Zc(zn(Bb),n,r);return le||(window.store=o,delete window.__PRELOADED_STATE__),{store:o}}});function m(t,e,i,r,n,o){var l,u,c={};for(u in e)u=="ref"?l=e[u]:c[u]=e[u];var d={type:t,props:c,key:i,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--sY,__source:n,__self:o};if(typeof t=="function"&&(l=t.defaultProps))for(u in l)c[u]===void 0&&(c[u]=l[u]);return Re.vnode&&Re.vnode(d),d}var sY,ne=T(()=>{_e();_e();sY=0});var lR=T(()=>{_e();ne()});var uR=T(()=>{});var Zo,gf=T(()=>{We();uR();ne();Zo=({customStyle:t,className:e})=>m("div",{style:t,className:`caution-processing${e?" "+e:""}`})});var cR=T(()=>{});var dR,pR,$b,hR,fR=T(()=>{We();ht();ai();Rs();gf();cR();ne();dR=0,pR=null;typeof window<"u"&&window.__ACCESS_TOKEN_NONCE__&&(pR=window.__ACCESS_TOKEN_NONCE__,delete window.__ACCESS_TOKEN_NONCE__);$b=class extends se{constructor(e){super(e),this.state={error:null,loading:!1,checkingCookieAuth:!0,formView:e.canCreateNewAccount?"newAcct":"login",resetEmail:null,prevFormState:null},this.containerRef=Be.createRef();let i=new URLSearchParams(window.location.search),r=i.get("t");if(i.has("t")){i.delete("t");let n=i.toString();n.length>0&&(n="?"+n),window.history.replaceState({},document.title,window.location.origin+window.location.pathname+n)}if(this.props.loginToUdotCargoOnly){this.state.checkingCookieAuth=!1;return}if(dR>=1){this.state.checkingCookieAuth=!1;return}if(r==="")this.state.checkingCookieAuth=!1;else{let n=!1;this.props.domain_active&&r===null&&(n=!0);let o={timeout:3e3,jwt:r,bounce:n,nonce:pR};this.props.site_url&&(o.site_url=this.props.site_url),this.props.site_id&&(o.site_id=this.props.site_id),this.props.getAuthToken(o).catch(l=>{console.log("Failed to fetch auth token.")}).finally(()=>{dR++,!n&&requestAnimationFrame(()=>{this.props.onCookieAuthComplete?.(),this.setState({checkingCookieAuth:!1})})})}}render(){return this.state.checkingCookieAuth||this.props.cookieAuthOnly?null:m("div",{id:"login",className:`login-window${this.props.noOverlay===!0?" not-overlaid":""}`,ref:this.containerRef,onMouseUp:e=>{if(this.props.canClickout&&!e.target.closest(".login-modal")){let i=new CustomEvent("remove-login-form");document.dispatchEvent(i),this.props.onClickout&&!this.state.loading&&this.props.onClickout()}},children:m("div",{className:"login-modal custom login-frame",children:[m("div",{className:"login-header",children:[m("div",{className:"logo-box",children:m("div",{className:"logo",children:m("svg",{width:"12",height:"20",viewBox:"0 0 12 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.521458 11.5988H4.49769C4.90909 11.5988 5.2426 11.9403 5.2426 12.3615C5.2426 12.4348 5.23229 12.5076 5.212 12.5779L3.26311 19.3227C3.21643 19.4842 3.3065 19.6539 3.46431 19.7017C3.58148 19.7372 3.70795 19.6959 3.78333 19.5974L11.8889 9.01082C12.0666 8.77877 12.0269 8.44319 11.8002 8.26129C11.7084 8.18761 11.5952 8.14758 11.4785 8.14758H7.64746C7.23606 8.14758 6.90255 7.80611 6.90255 7.3849C6.90255 7.31158 6.91287 7.23865 6.9332 7.16835L8.89307 0.391703C8.93979 0.23015 8.84976 0.0604064 8.69197 0.0125694C8.57559 -0.0227134 8.44994 0.0178057 8.37431 0.115005L0.113608 10.7323C-0.065826 10.9629 -0.0286851 11.2988 0.196564 11.4825C0.288885 11.5578 0.403425 11.5988 0.521458 11.5988Z",fill:"var(--ui-color-flat-reverse)"})})})}),m("div",{className:"title",children:this.state.formView==="newAcct"?"Login or Sign Up":this.state.formView==="login"?"Login":"Reset Password"})]}),this.state.loading&&"",this.state.formView==="newAcct"?m("form",{children:[m("div",{className:"input-fields",children:[m("div",{className:"text-input bars",children:m("input",{autoFocus:!0,type:"text",name:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),m("div",{className:"text-input bars",children:m("input",{type:"password",name:"password",placeholder:"Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&m("div",{className:"error",style:{color:"red"},children:[m("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),m("div",{className:"login-options",children:[m("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({error:null,loading:!0});let i=new FormData(this.containerRef.current.querySelector("form"));this.validateLogin(i)&&this.login(i)},children:[this.state.loading&&m(Zo,{className:"accent default-border-radius"}),"OK"]}),m("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:"forgot",error:null,prevFormState:"newAcct"})},children:"Forgot?"})]})]}):null,this.state.formView==="login"?m("form",{children:[m("div",{className:"input-fields",children:[m("div",{className:"text-input bars",children:m("input",{autoFocus:!0,type:"text",name:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),m("div",{className:"text-input bars",children:m("input",{type:"password",name:"password",placeholder:"Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&m("div",{className:"error",style:{color:"red"},children:[m("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),m("div",{className:"login-options",children:[m("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({error:null,loading:!0});let i=new FormData(this.containerRef.current.querySelector("form"));this.login(i)},children:[this.state.loading&&m(Zo,{className:"accent default-border-radius"}),"OK"]}),m("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:"forgot",error:null,prevFormState:"login"})},children:"Forgot?"})]})]}):null,this.state.formView==="forgot"?m(ie,{children:m("form",{children:[m("div",{className:"enter-email",children:"Enter an email address associated with your Cargo Account:"}),m("div",{className:"input-fields",children:[m("div",{className:"text-input bars",children:m("input",{autoFocus:!0,type:"text",name:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&m("div",{className:"error",style:{color:"red"},children:[m("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),m("div",{className:"login-options",children:[m("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({error:null,loading:!0});let i=new FormData(this.containerRef.current.querySelector("form"));this.forgot(i)},children:[this.state.loading&&m(Zo,{className:"accent default-border-radius"}),"Submit"]}),m("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:this.state.prevFormState?this.state.prevFormState:"login",error:null})},children:"Cancel"})]})]})}):null,this.state.formView==="reset"?m(ie,{children:m("form",{children:[m("div",{className:"enter-email",children:[this.state.resetEmail?m(ie,{children:["We\u2019ve sent a reset code to ",m("br",{}),this.state.resetEmail]}):m(ie,{children:"We\u2019ve sent a reset code to the email associated with your Cargo Account:"})," 							"]}),m("div",{className:"input-fields",children:[m("div",{className:"text-input bars",children:m("input",{type:"text",name:"pwreset",placeholder:"Enter Reset Code",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),m("div",{className:"text-input bars",children:m("input",{type:"password",name:"password",autocomplete:"new-password",placeholder:"Enter a new Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),m("div",{className:"text-input bars",children:m("input",{type:"password",name:"password_reset_confirm",autocomplete:"new-password",placeholder:"Confirm new Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&m("div",{className:"error",style:{color:"red"},children:[m("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),m("div",{className:"login-options",children:[m("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault();let i=new FormData(this.containerRef.current.querySelector("form")),r=this.validateForm(i);r&&(this.setState({error:null,loading:!0}),this.forgot(i)),r||this.setState({loading:!1})},children:[this.state.loading&&m(Zo,{className:"accent default-border-radius"}),"OK"]}),m("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:"login",error:null})},children:"Cancel"})]})]})}):null]})})}login=e=>{let r=this.state.formView==="newAcct"?"/dispatch/admin/loginCreate":"/dispatch/admin/login";if(e.append("network","c3"),this.props.site_url&&e.append("site_url",this.props.site_url),this.props.templateID&&e.append("site_id",this.props.templateID),!this.props.site_url&&!this.props.templateID&&this.state.formView==="newAcct"){let n=window.store.getState(),o=Fa==="https://cargo.site"?1597765:1123779;if(n){let l=n.templates?n.templates.flatMap(u=>u.sites):[];if(l.length>0){let u=l.length-1,c=Math.floor(Math.random()*u),d=l[c];d&&(o=d?.id?d.id:o)}}e.append("site_id",o)}fetch(Fa+r,{method:"post",body:e,credentials:"include"}).then(async n=>{let o=await n.json(),{access_token:l,id:u,bounce_jwt:c}=o.jdata||{};l&&u?(this.props.loginToUdotCargoOnly!==!0&&this.props.setAuthData(l,u),this.props.domain_active&&c?this.props.getAuthToken({reverse_bounce_jwt:c}).then(()=>{this.props.onLoginSuccess?.(o.jdata)}):this.props.onLoginSuccess?.(o.jdata)):this.setState({error:o?.error||"Something went wrong. Please try again later.",loading:!1})}).catch(n=>{console.log(n),this.setState({error:"Something went wrong. Please try again later.",loading:!1})}).finally(()=>{this.props.loadingTillFormRemoval!==!0&&this.setState({loading:!1})})};forgot=e=>{e.append("network","c3"),this.props.site_url&&e.append("site_url",this.props.site_url),fetch(Fa+"/dispatch/auth/handleResetFormPost",{method:"post",body:e,credentials:"include"}).then(async i=>{let r=await i.json();if(r.error&&r.error?.[0]?.length>0)this.setState({error:r.error[0],loading:!1});else if(this.state.formView==="forgot")this.setState({formView:"reset",resetEmail:e.get("email")});else{let n=new FormData;n.set("email",this.state.resetEmail),n.set("password",e.get("password")),this.login(n)}}).catch(i=>{console.log(i),this.setState({error:"Something went wrong. Please try again later.",loading:!1})}).finally(()=>{this.setState({loading:!1})})};validateLogin(e){let i=null;for(let r of e.entries()){let[n,o]=r;n==="email"&&(o===""||!o)&&(i="Incorrect Username or Password."),n==="password"&&(o===""||!o)&&i===null&&(i="Password cannot be empty.")}return i?(this.setState({error:i,loading:!1}),!1):!0}validateForm(e){var i=e.get("pwreset").trim(),r=e.get("password").trim(),n=e.get("password_reset_confirm").trim();return i==""?(this.setState({error:"Reset code cannot be empty."}),!1):r==""||n==""?(this.setState({error:"Password cannot be empty."}),!1):r!=n?(this.setState({error:"Passwords do not match."}),!1):!0}componentDidMount=()=>{this.animateContainer()};componentDidUpdate=()=>{this.animateContainer()};animateContainer=()=>{this.props.animateIn===!1?setTimeout(()=>{this.containerRef.current&&this.containerRef.current?.classList?.add("active-immediate")}):this.containerRef.current&&!this.containerRef.current.classList.contains("active")&&setTimeout(()=>{this.containerRef?.current&&this.containerRef?.current?.classList.add("active")})}},hR=De(t=>({site_url:t.site?.site_url,site_id:t.site?.id,domain_active:t.site?.domain_active}),(t,e)=>Ct({getAuthToken:e.getAuthTokenAction,setAuthData:(i,r)=>({type:"AUTHENTICATE_USER_FULFILLED",payload:{data:{access_token:i,id:r}}})},t))($b)});var yn,Ua=T(()=>{ht();ne();yn=t=>e=>m(t,{store:Eh(),...e})});function aY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cY(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.filter(function(r){return r}).join(" ")}var afe,lfe,jb,Gb,Kb,Xl,lY,uY,mR,vf,ufe,gR=T(()=>{Yo();Yo();Ph();We();Mh();Pa();Rl();Ah();afe=function(t){Nr(e,t);function e(){for(var r,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=t.call.apply(t,[this].concat(o))||this,r.history=Th(r.props),r}var i=e.prototype;return i.render=function(){return Be.createElement(Cs,{history:this.history,children:this.props.children})},e}(Be.Component),lfe=function(t){Nr(e,t);function e(){for(var r,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return r=t.call.apply(t,[this].concat(o))||this,r.history=pC(r.props),r}var i=e.prototype;return i.render=function(){return Be.createElement(Cs,{history:this.history,children:this.props.children})},e}(Be.Component),jb=function(e,i){return typeof e=="function"?e(i):e},Gb=function(e,i){return typeof e=="string"?xr(e,null,null,i):e},Kb=function(e){return e},Xl=Be.forwardRef;typeof Xl>"u"&&(Xl=Kb);lY=Xl(function(t,e){var i=t.innerRef,r=t.navigate,n=t.onClick,o=wr(t,["innerRef","navigate","onClick"]),l=o.target,u=Dt({},o,{onClick:function(d){try{n&&n(d)}catch(f){throw d.preventDefault(),f}!d.defaultPrevented&&d.button===0&&(!l||l==="_self")&&!aY(d)&&(d.preventDefault(),r())}});return Kb!==Xl?u.ref=e||i:u.ref=i,Be.createElement("a",u)}),uY=Xl(function(t,e){var i=t.component,r=i===void 0?lY:i,n=t.replace,o=t.to,l=t.innerRef,u=wr(t,["component","replace","to","innerRef"]);return Be.createElement(Es.Consumer,null,function(c){c||Dn(!1);var d=c.history,f=Gb(jb(o,c.location),c.location),g=f?d.createHref(f):"",v=Dt({},u,{href:g,navigate:function(){var E=jb(o,c.location),_=sr(c.location)===sr(Gb(E)),P=n||_?d.replace:d.push;P(E)}});return Kb!==Xl?v.ref=e||l:v.innerRef=l,Be.createElement(r,v)})}),mR=function(e){return e},vf=Be.forwardRef;typeof vf>"u"&&(vf=mR);ufe=vf(function(t,e){var i=t["aria-current"],r=i===void 0?"page":i,n=t.activeClassName,o=n===void 0?"active":n,l=t.activeStyle,u=t.className,c=t.exact,d=t.isActive,f=t.location,g=t.sensitive,v=t.strict,S=t.style,E=t.to,_=t.innerRef,P=wr(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return Be.createElement(Es.Consumer,null,function(A){A||Dn(!1);var L=f||A.location,z=Gb(jb(E,L),L),q=z.pathname,H=q&&q.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),re=H?Ta(L.pathname,{path:H,exact:c,sensitive:g,strict:v}):null,Q=!!(d?d(re,L):re),O=typeof u=="function"?u(Q):u,ee=typeof S=="function"?S(Q):S;Q&&(O=cY(O,o),ee=Dt({},ee,l));var ue=Dt({"aria-current":Q&&r||null,className:O,style:ee,to:z},P);return mR!==vf?ue.ref=e||_:ue.innerRef=_,Be.createElement(uY,ue)})})});function wf(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;let i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(let n=0;n<i.length;n++)if(!hasOwnProperty.call(e,i[n])||!Object.is(t[i[n]],e[i[n]]))return!1;return!0}function Un(t){if(le)return t;let e,i,r,n=()=>{e={primitiveResults:null,referenceResults:null,primitiveArgs:null,referenceArgs:null},i=!1,r=void 0};n();let o=function(){let u=arguments.length-1;if(u===-1)return i===!1&&(r=t.call(this),i=!0),r;let c=e;for(let S=0;S<u;S+=1){let E=arguments[S],_=E===null||typeof E!="object"&&typeof E!="function",P;_?c.primitiveArgs===null?P=c.primitiveArgs=new Map:P=c.primitiveArgs:c.referenceArgs===null?P=c.referenceArgs=new WeakMap:P=c.referenceArgs,P.has(E)===!1?(c={primitiveResults:null,referenceResults:null,primitiveArgs:null,referenceArgs:null},P.set(E,c)):c=P.get(E)}let d,f=arguments[u],g=f===null||typeof f!="object"&&typeof f!="function",v;return g?c.primitiveResults===null?v=c.primitiveResults=new Map:v=c.primitiveResults:c.referenceResults===null?v=c.referenceResults=new WeakMap:v=c.referenceResults,v.has(f)?d=v.get(f):(d=t.apply(this,arguments),v.set(f,d)),d};return o.clear=function(){let u=arguments.length-1;if(u===-1){n();return}let c=e;for(let g=0;g<u;g+=1){let v=arguments[g],E=v===null||typeof v!="object"&&typeof v!="function"?c.primitiveArgs:c.referenceArgs;if(E===null)return;c=E.get(v)}let d=arguments[u];d===null||typeof d!="object"&&typeof d!="function"?(c.primitiveArgs!==null&&c.primitiveArgs.delete(d),c.primitiveResults!==null&&c.primitiveResults.delete(d)):(c.referenceArgs!==null&&c.referenceArgs.delete(d),c.referenceResults!==null&&c.referenceResults.delete(d))},o}var Os,Jl,dY,Yb,Zl,pY,yf,yR,bR,bf,vR,wR,Ql,Sr=T(()=>{Os=he(xe(),1);Ei();Ne();_e();Jl=(t={},e)=>{let i={retina:window.devicePixelRatio?window.devicePixelRatio>=1.2:!1,square:!1,url:"",webgl:t.hasOwnProperty("t")&&t.t=="webgl"};t=Os.default.extend(i,t),t.t==="original"&&(t.retina=!1),t.retina===!0&&!t.webgl&&(t.q==null&&(t.q=75),t.hasOwnProperty("w")&&(t.w=Math.min(t.w*2,e.width)),t.hasOwnProperty("h")&&(t.h=Math.min(t.h*2,e.height))),t.w&&t.w>e.width&&(t.w=e.width),t.h&&t.h>e.height&&(t.h=e.height);var r=dY(t.w,t.h,e);t.w=r.w,t.h=r.h;var n=["t","w","h","q","c"],o=[];return Os.default.each(t,function(l,u){n.indexOf(u)===-1||l===""||(u==="c"?o.push("c/"+l.x+"/"+l.y+"/"+l.w+"/"+l.h):o.push(u+"/"+l))},void 0),e.hash!==void 0&&e.name!==void 0&&r.w>0?t.url="https://freight.cargo.site/"+o.join("/")+"/i/"+e.hash+"/"+e.name:t.url="",t},dY=(t,e,i)=>{let r=t,n=e,o=parseInt(i.width),l=parseInt(i.height);if(o==l)r=t||e||o,n=r;else if(t&&!e){let u=o/t;n=Math.floor(l/u),r=t}else if(e&&!t){let u=l/e;r=Math.floor(o/u),n=e}else{let u=Math.min(l/e,o/t);r=Math.floor(o/u),n=Math.floor(l/u)}return{w:r,h:n}},Yb=(t=1,e)=>{!t||t<1||requestAnimationFrame(()=>{e?.(),Yb(--t,e)})};Zl=(t,e,i,r,n=0,o={})=>{o.shared=o.shared||{};let l=(t.byParent[r.id]||[]).reduce((u,c)=>(u[t.indexById[c]]=c,u),{});for(;n>=0&&n<r.page_count&&o.shared.hasBreak!==!0;){let u=l[n],c=u&&(e.byId[u]||i.byId[u]);if(!(c?.page_type==="set"&&o.includeSets!==!0)&&o.callback?.(r.id,n,c)==="break"){o.shared.hasBreak=!0;break}c?.page_type==="set"&&Zl(t,e,i,c,o.reverse===!0?c.page_count-1:0,{...o,traverseUp:!1}),o.reverse===!0?n--:n++}if(o.traverseUp!==!1&&(o.reverse===!0&&n<0||o.reverse===!1&&n>r.page_count-1)){let u=i.byId[Os.default.findKey(t.byParent,d=>d.includes(r.id))],c=t.indexById[r.id];u&&c!==void 0&&Zl(t,e,i,u,c+(o.reverse===!0?-1:1),o)}};pY=Re.debounceRendering,yf=null,yR=()=>{Re.debounceRendering=t=>{yf=t}},bR=t=>{yf&&!t&&yf(),yf=null,Re.debounceRendering=pY},bf=new WeakMap,vR=Re.diffed;Re.diffed=t=>{bf.has(t)&&bf.get(t)(t.__e),vR&&vR(t)};wR=(t,e)=>(bf.set(t,e),()=>{bf.delete(t)}),Ql=(t,e)=>{if(!t)return null;let i="",r=(o,l)=>{let u=l.style?.getPropertyValue(o);return u!==""&&u!==void 0?u:null},n=[];return Os.default.each(t.rules,o=>{let l=o.selectorText,u={},c=!1,d=!1,f=!1;o.cssText&&o.cssText.includes("--text-style")&&(d=!0,n.push(l+" a"),n.push(l+" a:hover")),o.cssText&&Os.default.each(n,S=>{o.cssText.includes(S)&&(d=!0)}),o?.selectorText?.includes(".mobile")&&(f=!0),Os.default.each(e,S=>{let E=!1;Array.isArray(S.denyList)&&S.denyList.forEach(P=>{P.includes("match:")&&l?.match(P.replace("match:",""))&&(E=!0),l&&l===P&&(E=!0)});let _=!1;Array.isArray(S.allowList)?S.allowList.forEach(P=>{P.includes("match:")&&l?.match(P.replace("match:",""))&&(_=!0),l&&l===P&&(_=!0)}):_=!0,(d||f)&&(E=!0),!(E===!0||_===!1)&&(u=S.properties.reduce((P,A)=>(A&&(P[A]=r(A,o)),P),u))});let g=".mobile "+l,v=Array.from(t.rules).find(S=>S.selectorText===g);v&&Object.keys(u).forEach(S=>{r(S,v)&&(u[S]=null)}),!(Object.values(u).every(S=>S===null)||Object.values(u).length===0)&&(i+=g+" { ",Os.default.each(u,(S,E)=>{if(S){let _=S.split(" ").reduce((P,A,L)=>P+` calc(${A} * var(--mobile-padding-offset))`,"");i+=`${E}: ${_};`}}),i+=" } ")}),i}});function gY(t,e){let i=mY(t.pages.byId,eu),r=fY(i,t.structure.bySort),n=hY(i);return{renderedPages:i,renderedPins:r,nestingMap:n,sortMap:t.structure.bySort,adminMode:t.frontendState.adminMode}}var fi,Ba,Zb,eu,Xb,hY,fY,mY,xR,cd=T(()=>{_e();We();Ei();fi=he(xe(),1);ht();Sr();ne();Ba=pn(),Zb=()=>{},eu=[],Xb=class extends _i{constructor(e){super(e),this.state={adjustPairs:[],levelData:{},pageHeights:{},renderedPins:[],renderedPages:[],nestingMap:{},onPageMount:i=>{eu=[...eu,i]},onPageUnmount:i=>{eu=eu.filter(r=>r!==i)}},Zb=this.updateHeights}updateHeights=e=>{this.setState(i=>({pageHeights:{...i.pageHeights,...e}}))};getTallestOfAdjusterCandidates=e=>{let i=null,r=[];fi.default.each(e,o=>{r.push({pageID:o.id,pageName:o.title,pageHeight:this.getHeightById(o.id)})});let n=fi.default.maxBy(r,o=>o.pageHeight);return n!==void 0?fi.default.filter(e,o=>o.id===n.pageID)[0]:!1};componentDidUpdate=(e,i)=>{this.makePinAdjustments(e,i)};findTallestOverlayAdjusterPageInLevel=(e,i)=>{let r=e.filter(n=>n.pin_options?.overlay===!0&&n.pin_options.adjust===!0);return r.length>0?this.getTallestOfAdjusterCandidates(r):null};getAdjustOnlyPageHeights=(e,i)=>{let r=fi.default.filter(this.props.nestingMap[i][e],o=>o.pin_options?.adjust&&!o.pin_options?.overlay),n=0;return fi.default.each(r,o=>{n+=this.getHeightById(o.id)}),n};getAdjustOnlyPinsByLevel=(e,i)=>fi.default.filter(this.props.nestingMap[i][e],r=>!r?.pin_options?.overlay);getOverlayPinsByLevel=(e,i)=>fi.default.filter(this.props.nestingMap[i][e],r=>r?.pin_options?.overlay);getClosestPageByProximity=(e,i)=>e.sort((r,n)=>i==="top"?this.props.sortMap[r.id]-this.props.sortMap[n.id]:this.props.sortMap[n.id]-this.props.sortMap[r.id])[0];getPagesToAdjust=(e,i)=>{let r=[],n=null,o=this.getAdjustOnlyPinsByLevel(e,i);if(o.length>0?r.push(this.getClosestPageByProximity(o,e)):fi.default.each(this.props.nestingMap,(l,u)=>{if(parseInt(u)>i&&l[e].length>0){let c=l[e].filter(f=>f.pin_options?.overlay===!0),d=l[e].filter(f=>f.pin_options?.overlay===!1);if(r=c.length>0?c:[],r.length===0&&d?.length>0&&r.push(this.getClosestPageByProximity(d,e)),n=u,r.length>0)return!1}}),r[0]===void 0){let l=this.props.renderedPages.filter(c=>c.pin===!1).sort((c,d)=>this.props.sortMap[c.id]-this.props.sortMap[d.id]),u=e==="top"?0:l.length-1;l.length>0&&r.push(l[u])}return{adjustedPages:r,adjustedLevel:n}};getHeightById=e=>this.state.pageHeights[e]??eu.find(i=>i.id===e)?.getBoundingClientRect().height;makePinAdjustments=(e,i)=>{if(!this.props.renderedPages||this.props.renderedPages.length===0||fi.default.isEqual(this.props.renderedPins,e.renderedPins)&&fi.default.isEqual(this.state.pageHeights,i.pageHeights)&&fi.default.isEqual(this.props.renderedPages,e.renderedPages))return;let r=[],n={levels:{},locations:{top:{totalHeight:0},bottom:{totalHeight:0}}};fi.default.each(this.props.nestingMap,(o,l)=>{let u={};l=parseInt(l),u.level=l,fi.default.each(o,(c,d)=>{if(d==="center")return;u[d]={adjustsSelf:!1,totalHeight:0,startingHeight:null,adjusterId:null,adjusterHeight:null,adjustedLevel:null,adjusteeIDs:null,hasOverlayPins:null};let f=u[d];f.hasOverlayPins=this.getOverlayPinsByLevel(d,l).length>0;let g=this.findTallestOverlayAdjusterPageInLevel(c,d);if(g){f.adjusterId=g.id,f.adjusterHeight=this.getHeightById(g.id),f.adjustsSelf=this.getAdjustOnlyPinsByLevel(d,l).length>0;let _=this.getPagesToAdjust(d,l).adjustedPages;_?.length>0&&(f.adjustedLevel=this.props.renderedPins[_[0].id]?.depth??"content",f.adjusteeIDs=fi.default.map(_,"id"),r[g.id]={adjusts:fi.default.map(_,"id"),location:d,adjustedHeight:this.getHeightById(g.id)})}let v=0,S=g?this.getHeightById(g.id):0,E=!0;f.totalHeight=(E?S:0)+this.getAdjustOnlyPageHeights(d,l),fi.default.each(n.levels,function(_,P){P<l&&(v+=_[d].totalHeight)}),f.startingHeight=v===0?null:v}),n.levels[l]=u}),(!fi.default.isEqual(i.adjustPairs,r)||!fi.default.isEqual(i.renderedPins,this.props.renderedPins)||!fi.default.isEqual(i.levelData,n))&&this.setState({adjustPairs:r,renderedPins:this.props.renderedPins,levelData:n})};getAdjustingLevelHeight=(e,i,r)=>{let n=null;return fi.default.each(e.levels,o=>{o[r].adjustedLevel===i&&(n=o[r].totalHeight)}),n};render(){return m(Ba.Provider,{value:this.state,children:this.props.children||null})}},hY=Un(t=>{let e=store.getState();return t.reduceRight((i,r)=>{let n=Qe.getParentSetList(e,r.id).length-1;r.pin===!0&&r.pin_options.fixed===!0&&(n=0),i[n]||(i[n]={top:[],bottom:[],center:[]});let o=i[n],l=r.pin?r.pin_options.position:"center",u=o[l];return u.push(r),u.sort((c,d)=>e.structure.bySort[c.id]-e.structure.bySort[d.id]),i},{})}),fY=Un((t,e)=>{let i=store.getState(),r=t.map(n=>({depth:Qe.getParentSetList(i,n.id).length-1,pageListSort:e[n.id],id:n.id,fixed:n.pin_options?.fixed&&n.pin_options?.fixed===!0})).sort((n,o)=>n.pageListSort-o.pageListSort).sort((n,o)=>{if(n.fixed||o.fixed)return n.depth-o.depth});return t.reduceRight((n,o,l)=>{if(o.pin===!0&&fi.default.isPlainObject(o.pin_options)){let u=Qe.getParentSetList(i,o.id).length-1;n[o.id]={depth:o.pin_options.fixed?0:Qe.getParentSetList(i,o.id).length-1,originalDepth:u,location:o.pin_options?.position,type:o.pin_options.fixed?"fixed":o.pin_options.overlay?"overlay":"adjust",adjusts:o.pin_options?.adjust,sort:e[o.id],pinSort:r.findIndex(c=>c.id===o.id)+1}}return n},{})}),mY=Un((t,e)=>e.map(i=>t[i.id]).filter(i=>i!==void 0&&i.overlay!==!0));xR=De(gY)(Xb)});function Ut(t){class e extends se{constructor(r){super(r)}render(r){return m(t,{...this.props,pageInfo:this.context})}}return e.contextType=SR,e}var xf,SR,Jb,Sf,Fi=T(()=>{_e();ht();ne();xf=new Map,SR=pn({isEditing:!1,pid:null,filterIndexes:[],setPageData:()=>!1,getPageData:()=>!1},"PageInfoContext"),Jb=class extends se{constructor(e){super(e)}setPageData=(e={},i)=>{if(!this.props.pageRef.current)return;let n=Array.from(this.props.pageRef.current.querySelectorAll(i.tagName)).indexOf(i);if(n!==-1){let o=xf.get(this.props.value.pid+"-"+i.tagName+"-"+n);o?o={...o,...e}:o=e,xf.set(this.props.value.pid+"-"+i.tagName+"-"+n,o)}};getPageData=e=>{if(!this.props.pageRef.current)return null;let r=Array.from(this.props.pageRef.current.querySelectorAll(e.tagName)).indexOf(e);return r!==-1?xf.get(this.props.value.pid+"-"+e.tagName+"-"+r)||{}:{}};getContextObject=()=>(this.props.value!==this.lastProps?.value&&(this.currentContextValue={...this.props.value,setPageData:this.setPageData,getPageData:this.getPageData}),this.lastProps=this.props,this.currentContextValue);render(e){return m(SR.Provider,{value:this.getContextObject(),children:e.children})}componentDidUpdate(e){e.adminMode!==this.props.adminMode&&xf.clear()}};Sf=De((t,e)=>({adminMode:t.frontendState.adminMode}))(Jb)});var _f,_R,ER=T(()=>{_f=()=>new Map,_R=(t,e,i)=>{let r=t.get(e);return r===void 0&&t.set(e,r=i()),r}});var CR,PR=T(()=>{CR=()=>new Set});var IR,Tfe,AR=T(()=>{IR=Array.from,Tfe=Array.isArray});var Ef,TR=T(()=>{ER();PR();AR();Ef=class{constructor(){this._observers=_f()}on(e,i){_R(this._observers,e,CR).add(i)}once(e,i){let r=(...n)=>{this.off(e,r),i(...n)};this.on(e,r)}off(e,i){let r=this._observers.get(e);r!==void 0&&(r.delete(i),r.size===0&&this._observers.delete(e))}emit(e,i){return IR((this._observers.get(e)||_f()).values()).forEach(r=>r(...i))}destroy(){this._observers=_f()}}});var RR,tu,MR,Qb,et,Ti=T(()=>{RR=he(xe(),1);TR();Ne();Qb=class extends Ef{constructor(){super(),this.data={baseUnit:-1,mobile:{portrait:!0,active:!1,chrome:0,maxHeight:720},window:{w:1280,h:720}},le||(this.SvhSupported=CSS.supports("height","100svh"),this.SvhSupported&&(this.minHeightMeasuringStick=document.createElement("div"),this.minHeightMeasuringStick.setAttribute("style","position: fixed; top: 0;left: 0;z-index: -99; visibility: hidden; height: 100svh;"),this.minHeightMeasuringStick.setAttribute("tabindex",-1),this.minHeightMeasuringStick.setAttribute("aria-hidden",!0),document.body.appendChild(this.minHeightMeasuringStick)),this.maxHeightMeasuringStick=document.createElement("div"),this.maxHeightMeasuringStick.setAttribute("style","position: fixed; top: 0;left: 0;z-index: -99; visibility: hidden; height: 100vh;"),this.maxHeightMeasuringStick.setAttribute("tabindex",-1),this.maxHeightMeasuringStick.setAttribute("aria-hidden",!0),document.body.appendChild(this.maxHeightMeasuringStick),this.mobilePortraitMediaQuery=window.matchMedia("(max-aspect-ratio: 4/5)"),this.mobileLandscapeMediaQuery=window.matchMedia("(min-aspect-ratio: 2/3) and (max-height: 500px)"),this.setupMobileListener(),this.onWindowResize(),window._windowInfo=this,window.addEventListener("resize",this.onWindowResize,{passive:!0}))}setupStore(e){e.subscribe(()=>{let i=e.getState();i.frontendState&&i.frontendState.adminMode!==MR&&(setTimeout(()=>{this.onWindowResize()},150),MR=i.frontendState.adminMode),i.adminState&&i.adminState.viewport!==tu&&(tu=i.adminState.viewport,this.onMobileChange())})}setupMobileListener(){this.mobilePortraitMediaQuery.removeEventListener("change",this.onMobileChange),this.mobileLandscapeMediaQuery.removeEventListener("change",this.onMobileChange),this.onMobileChange(),this.mobilePortraitMediaQuery.addEventListener("change",this.onMobileChange),this.mobileLandscapeMediaQuery.addEventListener("change",this.onMobileChange)}onMobileChange=()=>{let e;tu?e=tu==="mobile":e=this.mobilePortraitMediaQuery.matches||this.mobileLandscapeMediaQuery.matches;let i=this.mobilePortraitMediaQuery.matches||tu&&tu==="mobile"||!1;(e!==this.data.mobile.active||e&&i!==this.data.mobile.portrait)&&(this.data.mobile.active=e,this.data.mobile.portrait=i,this.onWindowResize(),this.emit("mobile-change",[e]))};getBaseUnit(e){e=e||{};var i=0;return e=RR.default.extend(!0,{height:this.data.window.h,width:this.data.window.w,min:11,max:!1,weight:5},e),i=e.width<e.height?e.width:e.height,i/=100/e.weight,e.min&&i<e.min&&(i=e.min),e.max&&i>e.max&&(i=e.max),i}onWindowResize=()=>{let{data:e}=this,i=document.documentElement.clientWidth,r=window.innerHeight,n=0,o=0,l=this.maxHeightMeasuringStick.getBoundingClientRect().height;if(this.SvhSupported)o=this.minHeightMeasuringStick.getBoundingClientRect().height;else{let g=100;o=0;let v;for(;;){let S=window.matchMedia.call(window,"(min-height:"+o+"px)").matches;if(v!==void 0&&S!==v&&(g/=2,g*=-1),o+=g,v=S,Math.abs(g)<.01){o=Math.round(o);break}}}n=l-o;let u=0,c=5,d=0,f=9;o+n>i&&(u=(o+n)/i-1),u=u/.777777778,u>1&&(u=1),e.mobile.active&&!e.mobile.portrait&&(f=18),d=this.getBaseUnit({weight:f+c*u,min:20,width:i,height:o+n}),d!==e.size&&(document.documentElement.style.setProperty("--base-size",d*.16+"px"),document.documentElement.style.setProperty("--viewport-height",r+"px")),e.window.h=r,e.window.w=i,e.mobile.maxHeight=l,e.mobile.chrome=e.mobile.maxHeight-e.window.h,e.baseUnit=d,this.data=e,this.emit("window-resize",[])}},et=new Qb});var co,Tt,Xt,ii,_r=T(()=>{co=new Map;typeof window<"u"&&(window.listeners=co);Tt=(t,e,i,r={})=>{let n=t;for(;n&&(co.has(n)&&co.get(n).has(e)&&co.get(n).get(e).forEach(o=>o(i)),r.bubbles!==!1);)n=n.parentNode||n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&n.host},Xt=(t,e,i)=>{if(!t){console.error("Unable to subscribe to non-existing element");return}co.has(t)||co.set(t,new Map);let r=co.get(t);r.has(e)||r.set(e,[]);let n=r.get(e);n.includes(i)||n.push(i)},ii=(t,e,i)=>{if(!co.has(t))return;let r=co.get(t);if(r.has(e)){if(!i){r.delete(e);return}r.set(e,r.get(e).filter(n=>n!==i)),r.get(e).length===0&&r.delete(e),r.size===0&&co.delete(t)}}});function po(t){class e extends se{constructor(r){super(r),this.lastScrollUIDRef=ge()}render(){return m(t,{...this.props,scrollContext:this.context})}componentDidMount(){this.context&&this.props.baseNode&&(this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid),this.props.baseNode}refreshScrollContext=r=>{r.element==this.props.baseNode&&this.props.baseNode&&(this.context.removeElementFromScrollContext(this.props.baseNode,this.context.scrollUid),setTimeout(()=>{this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid},0))};componentWillUnmount(){this.props.baseNode&&this.context&&this.context.removeElementFromScrollContext(this.props.baseNode,this.context.scrollUid)}componentDidUpdate(r,n){this.props.baseNode!==r.baseNode?(r.baseNode&&this.context.removeElementFromScrollContext(r.baseNode,this.context.scrollUid),this.props.baseNode&&this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid):this.lastScrollUIDRef.current!==this.context.scrollUid&&this.props.baseNode&&(this.lastScrollUIDRef.current&&this.context.removeElementFromScrollContext(this.props.baseNode,this.lastScrollUIDRef.current),this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid)}}return e.contextType=t0,e}function xY(t){return Ct({updateFrontendState:Fe.updateFrontendState},t)}var e0,wY,t0,iu,ru,Wa,dd,NR,Cf,nu,ho=T(()=>{_e();e0=he(xe(),1);Ne();Ht();_e();We();ai();ht();Ti();_r();ne();wY={scrollUid:"default",scrollingElement:null,getScrollPosition:()=>({scrollHeight:0,scrollWidth:0,x:0,y:0,w:0,h:0}),scrollIntoView:()=>{},removeElementFromScrollContext:()=>{},addElementToScrollContext:()=>{},updateScrollPosition:()=>{}},t0=pn(e0.default.cloneDeep(wY)),iu={},ru={},Wa={default:new Set};le||(dd=new ResizeObserver(function(t){t.forEach(function(e){Tt(e.target,"elementResize",null,{bubbles:!1})})}));NR=(t,e)=>{t.forEach(function(i){let r="inside";i.boundingClientRect.bottom<0&&!i.isIntersecting?r="above":i.boundingClientRect.top>=0&&!i.isIntersecting&&(r="below"),Tt(i.target,e,{hasLayout:i.boundingClientRect.width>0&&i.boundingClientRect.height>0,visible:i.isIntersecting,position:r},{bubbles:!1})})},Cf=class extends _i{constructor(e){super(e),this.state={scrollUid:"default",scrollingElement:null,getScrollPosition:this.getScrollPosition,scrollIntoView:this.scrollIntoView,updateScrollPosition:this.updateScrollPosition,addElementToScrollContext:this.addElementToScrollContext,removeElementFromScrollContext:this.removeElementFromScrollContext},this.scrollData={x:0,y:0,w:0,h:0}}addElementToScrollContext=(e,i)=>{if(i=="default")return;let r=e.classList.contains("quick-view-item"),n=e.parentNode?.nodeName==="GALLERY-SLIDESHOW",o=e.parentNode?.nodeName==="MARQUEE-INNER",l=e.hasAttribute("uses")&&e.getAttribute("uses").includes("flying-object");r||n||o||l?(r||l)&&(Tt(e,"lazyLoadIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1}),Tt(e,"viewportIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})):Wa[i].has(e)||(Wa[i].add(e),ru[i].observe(e),iu[i].observe(e))};removeElementFromScrollContext=(e,i)=>{ru[i]?.unobserve(e),iu[i]?.unobserve(e),Wa[i]?.delete(e)};updateScrollPosition=e=>{if(le||!this.state.scrollingElement)return;let i=e.x||this.scrollData.x,r=e.y||this.scrollData.y;this.state.scrollingElement===window?document.scrollingElement.scrollTo(i,r):this.state.scrollingElement.scrollTo(i,r)};onScrollRequest=e=>{e.defaultPrevented||(e.stopPropagation(),e.preventDefault(),this.scrollIntoView(e.target,e.detail?.transitionTime,e.detail?.preventQuickViewClose,e.detail?.lazyScroll,e.detail.callback||null,e.detail.verticalAlign))};scrollIntoView=(e,i=1e3,r=!0,n=!1,o=null,l="center")=>{if(!(this.state.scrollingElement===window?document.scrollingElement:this.state.scrollingElement).contains(e)||!e){o&&o();return}let c=e.getBoundingClientRect();for(;c.width===0&&c.height==0&&e;)e=e.parentElement,c=e.getBoundingClientRect();let d=c.left+c.width*.5,f=c.top+c.height*.5;switch(l){case"center":f=c.top+c.height*.5;break;case"bottom":f=c.top+c.height;break;case"top":f=c.top;break}let g=document.documentElement.clientWidth,v=document.documentElement.clientHeight;if(n&&c.bottom>=20&&c.right>=20&&c.top<=v-20&&c.left<=g-20){o&&o();return}let S=this.scrollData.x,E=this.scrollData.y,_=Math.max(0,Math.min(this.scrollData.scrollHeight-v,E-(v*.5-f))),P=Math.max(0,Math.min(this.scrollData.scrollWidth-g,S-(g*.5-d))),A=_-E,L=P-S,z=0,q=0;cancelAnimationFrame(this.scrollAnimationFrame);var H=()=>{cancelAnimationFrame(this.scrollAnimationFrame),this.state.scrollingElement.removeEventListener("mousewheel",H),this.props.updateFrontendState({quickView:{autoScrolling:!1}}),o&&o()};this.state.scrollingElement.addEventListener("mousewheel",H);let re=Q=>{let O=q===0?0:Q-q;q=Q,z=z+O;let ee=ky(z/i);z<=i?(this.updateScrollPosition({x:S+L*ee,y:E+A*ee}),this.scrollAnimationFrame=requestAnimationFrame(re)):(this.updateScrollPosition({x:S+L,y:E+A}),H())};this.props.updateFrontendState({quickView:{autoScrolling:r}}),requestAnimationFrame(()=>{requestAnimationFrame(re)})};render(){return m(t0.Provider,{value:this.props.passthrough?this.context:this.state,children:this.props.children})}componentDidUpdate(e,i,r){le||(this.checkScrollElement(),this.state.scrollingElement!=i.scrollingElement&&this.removeListeners(i))}setNewElement=e=>{let i=e0.default.uniqueId();Wa[i]=new Set,e==window?(Xt(document.scrollingElement,"elementResize",this.onResize),dd.observe(document.scrollingElement),window.addEventListener("scroll",this.onScroll,{passive:!1}),window.addEventListener("request-scroll",this.onScrollRequest,{passive:!1})):(Xt(e,"elementResize",this.onResize),e.addEventListener("request-scroll",this.onScrollRequest,{passive:!1}),dd.observe(e),e.addEventListener("scroll",this.onScroll,{passive:!1})),ru[i]=new IntersectionObserver(r=>NR(r,"viewportIntersectionChange"),{root:e==window?document:e,rootMargin:"0px",threshold:0}),iu[i]=new IntersectionObserver(r=>NR(r,"lazyLoadIntersectionChange"),{root:e==window?document:e,rootMargin:window.screen.height*1.5+"px "+window.screen.width*1.5+"px",threshold:0}),this.setState({scrollUid:i,scrollingElement:e},()=>{this.onResize()})};removeListeners=e=>{e.scrollingElement&&(e.scrollingElement==window?(window.removeEventListener("resize",this.onResize),window.removeEventListener("scroll",this.onScroll,{passive:!0}),dd.unobserve(document.scrollingElement),window.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1})):(ii(e.scrollingElement,"elementResize",this.onResize),e.scrollingElement.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1}),e.scrollingElement.removeEventListener("scroll",this.onScroll,{passive:!0}),dd.unobserve(e.scrollingElement)),Object.keys(Wa[e.scrollUid]).forEach(i=>{iu[e.scrollUid].unobserve(i),ru[e.scrollUid].unobserve(i),Wa[e.scrollUid].delete(i)})),e.scrollUid!="default"&&(iu[e.scrollUid].disconnect(),ru[e.scrollUid].disconnect(),delete iu[e.scrollUid],delete ru[e.scrollUid],delete Wa[e.scrollUid])};checkScrollElement=()=>{!le&&this.props.scrollingElement.current&&this.props.scrollingElement.current!=this.state.scrollingElement&&!this.props.passthrough?this.setNewElement(this.props.scrollingElement.current):this.state.scrollingElement!==null&&this.props.passthrough&&this.setState({scrollingElement:null,scrollUid:"default"})};componentDidMount(){le||this.checkScrollElement()}componentWillUnmount(){le||(cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.onScrollFrame),this.removeListeners(this.state))}onResize=e=>{le||!this.state.scrollingElement||(e&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()),this.state.scrollingElement===window?(this.scrollData.scrollHeight=document.scrollingElement.scrollHeight,this.scrollData.scrollWidth=document.scrollingElement.scrollWidth,this.scrollData.h=document.documentElement.clientHeight,this.scrollData.w=document.documentElement.clientWidth):(this.scrollData.scrollHeight=this.state.scrollingElement.scrollHeight,this.scrollData.scrollWidth=this.state.scrollingElement.scrollWidth,this.scrollData.h=this.state.scrollingElement.clientHeight,this.scrollData.w=this.state.scrollingElement.clientWidth),this.onScroll())};onScroll=()=>{le||!this.state.scrollingElement||this.props.passthrough||(this.state.scrollingElement===window?(this.scrollData.x=window.pageXOffset||document.scrollingElement.scrollLeft||document.documentElement.scrollLeft||0,this.scrollData.y=window.pageYOffset||document.scrollingElement.scrollTop||document.documentElement.scrollTop||0):(this.scrollData.x=this.state.scrollingElement.scrollLeft,this.scrollData.y=this.state.scrollingElement.scrollTop))};getScrollPosition=()=>({...this.scrollData})};Cf.contextType=t0;nu=De((t,e)=>({quickView:t.frontendState.quickView}),xY)(Cf)});function SY(t,e,i,r){if(le)return;i=i||t.observedAttributes||Object.keys(t.propTypes||{});function n(){let l=Reflect.construct(HTMLElement,[],n);l.__observedAttributes=i,l._editorProperties={},l._vdomComponent=t,l.attachShadow({mode:"open",delegatesFocus:r&&r.delegatesFocus}),l._customSlots=r&&r.customSlots?r.customSlots:[],l._replaceChild=r&&r.replaceChild,l._props={},l._uid=ou.default.uniqueId(),l._initialMount=!0;let u=c=>{let d=new WeakMap;c.forEach(f=>{switch(f.type){case"childList":l._customElementComponent&&(d.has(l.children)||d.set(l.children,Array.from(l.children)),l._customElementComponent.setState({childArray:d.get(l.children)}));break;case"attributes":let g=f.target.getAttribute(f.attributeName);f.attributeName!=="style"&&f.attributeName!=="class"&&g!==l[f.attributeName]&&(g==null&&(g=void 0),l.__observedAttributes?.indexOf(f.attributeName)>-1?l[f.attributeName]=g:l._customElementComponent&&l._customElementComponent.setState(v=>{let S={...v.baseNodeProps};if(S[f.attributeName]!==g)return S[f.attributeName]=g,{baseNodeProps:S}}),l._props[f.attributeName]=g);break}})};return l.__observer=new MutationObserver(u),l.flushMutationQueue=function(){let c=l.__observer.takeRecords();c.length>0&&u(c)},i.forEach(c=>{let d=ou.default.camelCase(c),f=function(){return l._customElementComponent?l._customElementComponent.state.baseNodeProps[c]:l._props?.[c]??void 0},g=function(v){let S=v;S=S==null||S===""?void 0:S,S=S==="true"?!0:S,S=S==="false"?!1:S;let E=!1,_=typeof S;if((S==null||_==="string"||_==="boolean"||_==="number")&&(E=!0),l._customElementComponent&&l._customElementComponent.setState(P=>{let A={...P.baseNodeProps};if(A[c]!==S)return A[c]=S,{baseNodeProps:A}}),l._props[c]=S,E){let P=c.toLowerCase();v===""||v===void 0||v==null?l._customElementComponent.props.baseNode.hasAttribute(P)&&P!=="tag-text"&&l.removeAttribute(P):v!==""&&v!==l.getAttribute(P)&&l.setAttribute(P,v)}};Object.defineProperty(l,c,{get:f,set:g,configurable:!0}),Object.defineProperty(l,d,{get:f,set:g,configurable:!0})}),l}n.prototype=Object.create(HTMLElement.prototype),n.prototype.constructor=n,n.prototype.connectedCallback=_Y,n.prototype.disconnectedCallback=CY,n.prototype.adoptedCallback=EY;let o=e||t.tagName||t.displayName||t.name;return r?.extends?customElements.get(o)||customElements.define(o,n,{extends:r.extends}):customElements.get(o)||customElements.define(o,n)}function _Y(){if(this.ownerDocument?.defaultView?.frameElement?.id=="contentEditableStyleTester"||this.hasAttribute("no-component"))return;let t=this.nodeName=="TEXT-ICON";if(this._initialMount){let i=document.createElement("style");i.id="space-filler",t?i.innerHTML=`:host {
				height: 1.2em;
				width: 1.2em;
				contain: layout;
				cursor: text;

				margin-top: -1em;
				margin-bottom: -.25em;
				display: inline-block;
				vertical-align: baseline;
			
				position: relative;
			}`:i.innerText=":host { display: block; opacity: 0; }",this.shadowRoot.appendChild(i)}delete this._initialMount,this.__observer.observe(this,{attributes:!0,childList:!0,subtree:!1});let e={element:this,portalHost:null};t?e.component=m(Pf,{baseNode:this,customElementComponent:this._vdomComponent,observedAttributes:this.__observedAttributes},"custom-element-"+this._uid):e.component=m(PY,{baseNode:this,customElementComponent:this._vdomComponent,observedAttributes:this.__observedAttributes},"custom-element-"+this._uid),Tt(this,"custom-element-connected",e),this._portalHost=e.portalHost,this._portalHost===null&&i0.push(this)}function EY(){}function CY(){this.ownerDocument?.defaultView?.frameElement?.id=="contentEditableStyleTester"||this.hasAttribute("no-component")||(this.__observer.disconnect(),this._portalHost&&Tt(this._portalHost,"custom-element-disconnected",{component:null,element:this}),this._portalHost=null,this._selectState=null)}var ou,i0,Pf,PY,fo,ri,Ji=T(()=>{_e();We();Sr();ou=he(xe(),1);Ne();ht();ho();_r();ne();i0=[];Pf=class extends se{constructor(e){super(e);let i=this.getPropsFromAttributes();this.state={baseNodeProps:{...i,...e.baseNode._props},childArray:Array.from(e.baseNode.children)},e.baseNode._customElementComponent=this}getPropsFromAttributes=()=>{let e=this.props.baseNode.attributes,i=0,r={};for(i=e.length;i--;){let n=e[i].value==="true"?!0:e[i].value;n=n==="false"?!1:n,r[e[i].name]=n}return{...r,...this.props.baseNode._props}};componentDidMount(){if(le)return;let e=this.getPropsFromAttributes();this.setState(i=>ou.default.isEqual(e,this.state.baseNodeProps)?null:{baseNodeProps:e}),Xt(this.props.baseNode,"custom-element-connected",this.refreshAttributes)}componentWillUnmount(){ii(this.props.baseNode,"custom-element-connected",this.refreshAttributes)}refreshAttributes=e=>{if(e.element==this.props.baseNode){let i=this.getPropsFromAttributes();this.setState(r=>ou.default.isEqual(i,this.state.baseNodeProps)?null:{baseNodeProps:i})}};render(e,i){let{baseNodeProps:r,childArray:n}=i;return Pt(this.props.customElementComponent,{...e,...r,childArray:n})}},PY=po(Pf),fo=class extends _i{constructor(e){super(e),this.state={portals:[]},!le&&(Ec(this.props.portalHost)?this.stopListeningToVnodeDiff=wR(this.props.portalHost,this.onPortalHostMounted):this.props.portalHost instanceof Node&&this.onPortalHostMounted(this.props.portalHost))}render(e){return m(ie,{children:this.state.portals.map(([i,r],n)=>i&&r?Ke(i,r):Ke(null,null))},"portal-map")}addPortal=e=>{if(e.portalHost)return;let{component:i,element:r}=e;if(!i||!r)return;e.portalHost=this.portalHostElement;let n=!1;this.setState(o=>{let l=o.portals.findIndex(([c,d])=>d===r&&c!==null),u=[...o.portals];return l===-1?u.push([i,r]):(u[l]=[null,null],n=!0),{portals:u}},()=>{n&&this.addPortal(e)})};removePortal=e=>{e.element&&this.setState(i=>{let r=[...i.portals],n=r.findIndex(([o,l])=>l===e.element);return n!==-1?(r[n]=[null,null],{portals:[...r]}):null},()=>{})};onElementHostConnected=e=>{let i=e.element,r=[];this.setState(n=>{let o=[...n.portals];return o.forEach(([l,u],c)=>{i.contains(u)&&(r.push(u),o[c]=[null,null])}),{portals:o}},()=>{r.forEach(n=>{n.connectedCallback()})})};onPortalHostMounted=e=>{this.portalHostElement!==e&&(this.portalHostElement=e,Tt(this.portalHostElement,"element-host-connected",{element:this.portalHostElement}),Xt(this.portalHostElement,"custom-element-connected",this.addPortal),Xt(this.portalHostElement,"custom-element-disconnected",this.removePortal),Xt(this.portalHostElement,"element-host-connected",this.onElementHostConnected));let i=i0.filter(r=>this.portalHostElement.contains(r));i.forEach(r=>r.connectedCallback()),ou.default.pullAll(i0,i)};componentDidMount(){}componentDidUpdate(e,i){le||this.state.portals.forEach(r=>{if(r[1]?.shadowRoot.children){let n=Array.from(r[1].shadowRoot.children).find(o=>o.id==="space-filler");n&&n.remove()}})}componentWillUnmount(){le||(this.portalHostElement&&(ii(this.portalHostElement,"element-host-connected",this.onElementHostConnected),ii(this.portalHostElement,"custom-element-disconnected",this.removePortal),ii(this.portalHostElement,"custom-element-connected",this.addPortal),delete this.portalHostElement),this.stopListeningToVnodeDiff?.())}},ri=SY});var kR,r0,OR,DR=T(()=>{_e();Ft();zi();ho();Ei();kR=he(xe(),1);ne();r0=class extends se{constructor(e){super(e),this.state={dragPos:{x:0,y:0},referenceDragPos:{x:0,y:0},swapTarget:null,readyForDrop:!1,draggingOverItem:!1,rect:{top:0,left:0,width:0,height:0}},this.dropRef=ge(),this.onDragOver=kR.default.throttle(this.onDragOver,80)}showDropTarget=()=>{if(Math.abs(this.state.dragPos.x-this.state.referenceDragPos.x)>10||Math.abs(this.state.dragPos.y-this.state.referenceDragPos.y)>10){this.setState({swapTarget:null});return}be.globalDragEventController.customDropTarget!==this.dropRef.current&&(be.globalDragEventController.releaseCustomDropTarget(be.globalDragEventController.customDropTarget),be.globalDragEventController.setCustomDropTarget(this.dropRef.current)),this.setState({readyForDrop:!0})};getRect=()=>{this.state.swapTarget&&this.setState({rect:this.state.swapTarget.getBoundingClientRect()})};render(e,i){let{draggingOverItem:r,readyForDrop:n,rect:o}=i,l={frame:{display:n?"flex":"none",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.6)",position:"fixed",top:o.top+"px",left:o.left+"px",width:o.width+"px",height:o.height+"px",pointerEvents:"none",zIndex:999},replace:{pointerEvents:"none",position:"relative",top:"unset",left:"unset"}};return m("div",{ref:this.dropRef,style:l.frame,children:m("button",{className:"media-options-button multiple",style:l.replace,children:"Replace"})})}onDragEnd=(e,i,r)=>{this.onDragOver.cancel(),clearTimeout(this.showDropTargetTimer),this.setState({readyForDrop:!1,draggingOverItem:!1,swapTarget:!1})};onDragDrop=(e,i,r)=>{clearTimeout(this.showDropTargetTimer),this.onDragOver.cancel(),!(this.dropRef.current!==r.customDropTarget||!this.state.swapTarget||r.inAdmin)&&(CargoEditor.mutationManager.execute(()=>{let n=window.store.getState(),o=this.state.swapTarget,l=r.draggedMediaItems[0],u=o.closest("[thumbnail-index]"),c=o.getAttribute("hash"),d=l.getAttribute("hash"),f=o.closest("[id]")?.getAttribute("id");if(u){let P=o.getAttribute("href");f=Qe.getContentByPurl(n,P)?.id||null}if(!f||!d)return;let g=Qe.getMediaByHash(n)[d]||null,v=Qe.getMediaByHash(n)[c]||null;if(!g)return;let{CRDTItem:S}=be.getCRDTItem({reducer:"pages.byId",item:f});if(!(n.pages.byId[f].media||[]).find(P=>P.hash==g.hash)){if(!(S.get("media")instanceof be.adminWindow.Y.Array)){let A=new be.adminWindow.Y.Array;A.insert(0,S.get("media")||[]),S.set("media",A)}let P=be.convertStateToSharedType(g,new be.adminWindow.Y.Map);S.get("media").push([P])}if(u)be.applyChangesToYType(S,{thumb_media_id:g.id});else{let P=g&&v&&(g.is_video!==v.is_video||g.is_image!==v.is_image||g.is_video!==v.is_video);v&&P&&(o.removeAttribute("autoplay"),o.removeAttribute("loop"),o.removeAttribute("muted"),o.removeAttribute("poster"),o.removeAttribute("browser-default"),g.is_video?(!g.has_audio_track||g.duration<15?(o.setAttribute("autoplay",!0),o.setAttribute("muted",!0),o.setAttribute("loop",!0)):(o.setAttribute("browser-default",!0),o.setAttribute("disable-zoom",!0),g.duration<20&&o.setAttribute("loop",!0)),o.setAttribute("autoplay",!0),o.setAttribute("loop",!0),o.setAttribute("muted",!0)):g.is_url&&(g.url_type=="vimeo"||g.url_type=="youtube")&&(o.setAttribute("browser-default",!0),o.setAttribute("disable-zoom",!0),o.setAttribute("muted",!1),o.setAttribute("loop",!1))),o.removeAttribute("src"),o.setAttribute("hash",d),o.removeAttribute("width"),o.removeAttribute("height")}}),this.setState({readyForDrop:!1,swapTarget:null,draggingOverItem:!1}))};onBeforeDrop=(e,i,r)=>{!r.fromAdmin&&!r.fromOutside||this.state.readyForDrop&&this.state.swapTarget?.nodeName==="MEDIA-ITEM"&&r.draggedMediaItems.length===1&&(be.globalDragEventController.releaseCustomDropTarget(r.customDropTarget),be.globalDragEventController.setCustomDropTarget(this.dropRef.current))};onDragOver=(e,i,r)=>{let n=i.target.closest("MEDIA-ITEM"),o=r.draggedMediaItems.length===1&&r.draggedMediaItems[0]!==n&&!r.draggedMediaItems.some(u=>u.getAttribute("hash")==="placeholder"),l=!r.inAdmin&&r.fromAdmin;if(n&&l&&o){let u=Math.abs(this.state.dragPos.x-r.cursorPosition.x)>2||Math.abs(this.state.dragPos.y-r.cursorPosition.y)>2;this.state.swapTarget!==n||u?(be.globalDragEventController.releaseCustomDropTarget(this.dropRef.current),clearTimeout(this.showDropTargetTimer),this.setState({dragPos:{...r.cursorPosition},referenceDragPos:{...r.cursorPosition},readyForDrop:!1,draggingOverItem:!0,swapTarget:n}),this.showDropTargetTimer=setTimeout(this.showDropTarget,400)):this.setState({dragPos:{...r.cursorPosition}}),this.getRect()}else be.globalDragEventController.releaseCustomDropTarget(this.dropRef.current),clearTimeout(this.showDropTargetTimer),this.setState({readyForDrop:!1,draggingOverItem:!1,swapTarget:null,dragPos:{...r.cursorPosition}})};componentDidMount(){this.findDragController().then(()=>{be.globalDragEventController.on("dragover",this.onDragOver),be.globalDragEventController.on("drop",this.onDragDrop),be.globalDragEventController.on("dragend",this.onDragEnd),be.globalDragEventController.on("before-drop",this.onBeforeDrop)})}componentWillUnmount(){this.onDragOver.cancel(),this.getRect.cancel(),be.globalDragEventController.off("dragover",this.onDragOver),be.globalDragEventController.off("drop",this.onDragDrop),be.globalDragEventController.off("dragend",this.onDragEnd),be.globalDragEventController.off("before-drop",this.onBeforeDrop)}componentDidUpdate(e,i){(this.state.swapTarget!==i.swapTarget||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&this.state.swapTarget?this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),this.onScroll())}onScroll=()=>{this.ticking||(this.rectFrame=requestAnimationFrame(()=>{this.getRect(),this.ticking=!1}),this.ticking=!0)};findDragController=()=>new Promise((e,i)=>{let r=0,n=null,o=()=>{let l=be.globalDragEventController||null;l?(clearInterval(n),e(l)):r++,r>200&&(clearInterval(n),i())};n=setInterval(o,300),o()})},OR=po(r0)});var If,n0,LR,FR=T(()=>{_e();Ca();Ft();zi();ho();Ne();If=he(xe(),1);ne();n0=class extends se{constructor(e){super(e),this.state={rect:{top:null,left:null},initialRect:{top:null,left:null},initialScrollY:0,isClickable:!0,visible:!1,parentFontInfo:{fontSize:null,lineHeight:null}},this.maxButtonHeight=20,this.minButtonHeight=10,this.clonedRange=null,this.ticking=!1,this.isDebug=!1,hf.contentWindow?.CargoEditor&&Object.keys(hf.contentWindow?.CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents)}componentWillUnmcount(){CargoEditor&&(CargoEditor.events.off("cursor-activity",this.onSelectionChange),CargoEditor.events.off("editor-keydown",this.onEditorKeydown)),window.removeEventListener("insert-context-menu-closed",this.restoreTextCursorPosition),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("selectionchange",this.onSelectionChange),window.removeEventListener("blur",this.onEditorBlur),this.props?.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll)}bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),window.addEventListener("insert-context-menu-closed",this.restoreTextCursorPosition),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousedown",this.onMouseDown),document.addEventListener("selectionchange",this.onSelectionChange),window.addEventListener("blur",this.onEditorBlur),CargoEditor.events.on("cursor-activity",this.onSelectionChange),CargoEditor.events.on("editor-keydown",this.onEditorKeydown),this.props?.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)};componentDidUpdate(e,i){this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement&&(this.props.scrollContext.scrollingElement?this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),this.onScroll())}onScroll=e=>{if(!this.state.visible||this.ticking)return;let i=window.pageYOffset,r=window.pageYOffset-this.state.initialScrollY,n=Math.round(this.state.initialRect.top-r);this.setState({rect:{top:n,left:this.state.initialRect.left}})};onEditorBlur=()=>{this.setState({visible:!1})};onEditorKeydown=()=>{this.setState({visible:!1})};onMouseUp=e=>{this.setState({clickable:!0}),e.target.closest("[editing]")&&this.checkAndSetVisiblity()};onMouseDown=()=>{this.setState({visible:!1,clickable:!0})};onSelectionChange=If.default.debounce(e=>{if(this.ticking)return;if(this.ticking=!0,this.setState({visible:!1}),!CargoEditor.getActiveRange())return null;let r=document.querySelector('[editing="true"] bodycopy');if(!r)return null;let n,o=window.getComputedStyle(r);n=o.getPropertyValue("font-size"),n=Number(n.match(/[\d\.]+/));let l=o.getPropertyValue("line-height");l=Number(l.match(/[\d\.]+/)),this.setState({parentFontInfo:{fontSize:n,lineHeight:l}},()=>{this.setButtonPosition()})},50);checkAndSetVisiblity=If.default.debounce((e,i)=>{e=CargoEditor.getActiveRange(),i=CargoEditor?.getActiveEditor();let r=i?.checkIfEmpty(),n=this.isEligibleEmptyLine(e),o=!!(r||n);this.isDebug&&console.log("checkAndSetVisible",o),this.setVisible(o)},400);setVisible=e=>{this.isDebug&&console.log("set visible",e),this.setState({initialScrollY:window.pageYOffset,visible:e},()=>{this.ticking=!1})};isEligibleEmptyLine=e=>{if(!e)return!1;let i=e.endContainer.childNodes[e.endOffset-1],r=e.endContainer.childNodes[e.endOffset],n=e.endContainer.childNodes[e.endOffset-2];for(;i&&CargoEditor.helpers.isWhitespaceNode(i);)i=i.previousSibling;for(;r&&CargoEditor.helpers.isWhitespaceNode(r);)r=r.nextSibling;for(;n&&CargoEditor.helpers.isWhitespaceNode(n);)n=n.previousSibling;return!!(e.collapsed&&e.endContainer&&e.endContainer.nodeType==Node.ELEMENT_NODE&&(e.endContainer.nodeName==="BODYCOPY"||e.endContainer.nodeName==="COLUMN-UNIT")&&(e.endOffset===0&&e.endContainer.childNodes.length==0||this.checkNodeContent(i)&&this.checkNodeContent(n)||this.checkNodeContent(r)&&!i))};restoreTextCursorPosition=e=>{e.detail.cachedRange&&window.requestAnimationFrame(()=>{CargoEditor.helpers.setActiveRange(e.detail.cachedRange),CargoEditor?.getActiveEditor().getElement().focus()})};checkNodeContent=e=>!!(e&&e.nodeName==="BR"||e?.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(e)?.getPropertyValue("display")==="block");getTextCursorRect=(e,i,r)=>{if(!e)return!1;if(this.clonedRange===e)return null;this.clonedRange=e.cloneRange();let n=Ps(),o=r.fontSize*.15*-1,l=r.lineHeight*.15*-1,u=document.createElement("input");u.style.display="inline-block",u.style.fontSize=r.fontSize+"px",u.style.border="0",u.style.background="blue",u.style.outline="none",u.style.width="2px",n?(u.style.height=r.lineHeight+"px",u.style.lineHeight=r.lineHeight+"px",u.style.margin=`${l}px 0 0 0`,u.style.padding="0",u.style.verticalAlign="text-bottom"):(u.style.height=r.fontSize+"px",u.style.verticalAlign="middle",u.style.margin=`${o}px 0 0 0`,u.style.padding="0"),u.setAttribute("data-ignore-changes",""),u.setAttribute("data-prevent-copy",""),u.setAttribute("disabled",""),u.setAttribute("readonly",""),u.setAttribute("test-delete-visible",""),u.setSaveable(!1),e.insertNode(u);let c=CargoEditor?.getActiveEditor()?.getElement?.()?.getBoundingClientRect(),d=u.getBoundingClientRect();u.nextSibling&&u.nextSibling.nodeType===Node.TEXT_NODE&&u.nextSibling.setSaveable(!0),u.remove();let f=c.height-i.height;return this.clonedRange&&CargoEditor.helpers.setActiveRange(this.clonedRange),{bottom:d.bottom-f,height:d.height,center:d.bottom-f-(d.top-f),left:d.left,right:d.right,top:d.top-f,width:d.width,x:d.x-f,y:d.y}};setButtonPosition=()=>{this.isDebug&&console.log("set button position");let e=CargoEditor.getActiveRange(),i=!1,r=!1,n=null,o=null,l=null,u=null,c=null,d=null,f=0,g=0,v=this.state.parentFontInfo?.fontSize;if(!this.state.parentFontInfo){this.ticking=!1;return}if(v>20&&(v=20),v<10&&(v=10),!If.default.isEmpty(CargoEditor)&&(n=CargoEditor?.getActiveEditor(),n&&(o=n.getElement()),i=n?.checkIfEmpty(),r=this.isEligibleEmptyLine(e)),d=o?o.getBoundingClientRect():null,r||i){let E=this.getTextCursorRect(e,d,this.state.parentFontInfo),_=0,P=0;if(!E){this.ticking=!1;return}let A=this.state.parentFontInfo,L=1-A.fontSize/A.lineHeight,z=A.lineHeight,q=A.fontSize;Ps()?_=E.bottom-A.lineHeight*.5:_=E.bottom-E.height*.5,u=_,c=Math.ceil(E.left)}g=c?4:0,c=c+g,this.isDebug&&console.log("coordinate state set..."),this.setState({initialRect:{top:u,left:c},rect:{top:u,left:c}},()=>{this.checkAndSetVisiblity()})};callContextMenu=e=>{e.preventDefault(),e.stopPropagation(),this.setState({visible:!1});let i=CargoEditor.getActiveRange().nativeRange;document.activeElement.blur(),be.adminWindow.ContextMenuOpener.openContextMenu(e,"insert-content",{cachedRange:i})};render(){let e=this.state.parentFontInfo.fontSize?this.state.parentFontInfo.fontSize:20,i=e>20?20:e;i=i<10?10:i;let r=i/2,n={frame:{transform:`translate3d(${this.state.rect.left}px, ${this.state.rect.top}px, 0px)`,zIndex:999,display:"flex",position:"fixed",top:0,left:0,pointerEvents:"none",height:0,width:0},button:{display:"flex",visibility:this.state.visible&&this.state.rect.top!==0&&this.state.rect.left!==0?"visible":"hidden",position:"relative",top:"unset",left:"unset",height:i+"px",width:i+"px",pointerEvents:this.state.isClickable?"all":"none",transform:`translate(0, -${r}px)`},svg:{pointerEvents:"none",height:i+"px",width:i+"px",maxHeight:this.maxButtonHeight+"px",maxWidth:this.maxButtonHeight+"px",minHeight:this.minButtonHeight+"px",minWidth:this.minButtonHeight+"px"}};return m("div",{style:n.frame,children:m("button",{className:"insert-content-button",style:n.button,onContextMenu:o=>{o.preventDefault(),this.callContextMenu(o)},onMouseDown:o=>{this.callContextMenu(o)},children:m("svg",{style:n.svg,id:"insert-ineditor",className:"plus-icon",width:i+"px",height:i+"px",viewBox:"0 0 20 20",fill:"none",children:[m("circle",{cx:"10",cy:"10",r:"8"}),m("g",{children:[m("line",{x1:"10",y1:"5",x2:"10",y2:"15"}),m("line",{x1:"5",y1:"10",x2:"15",y2:"10"})]})]})})})}},LR=po(n0)});var mo,qe,o0,zR,zi=T(()=>{_e();We();ht();mo=he(xe(),1);Ft();Ne();DR();FR();Sr();ne();qe={},o0=class extends se{constructor(e){super(e),this.sR=document.createElement("div"),this.testHover=mo.default.throttle(this.testHover,60),this.lockedElements=[],this.state={selecting:!1,unattachedOverlayContainer:null,active:!1,locked:!1,loaded:!1,hoveredElements:[]},this.onContentChange=mo.default.throttle(this.onContentChange,80,{leading:!0,tailing:!0}),window.addEventListener("scroll",this.onScroll),this.resizeObserver=new ResizeObserver(i=>{i.forEach(r=>{this.updateElementRect(r.target)})}),this.dragController=null,this.portalMap=new Map,this.noPointerEventsArray=[],this.editorOverlayRef=ge(),CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents),this.findDragController().then(i=>{this.dragController=i,this.dragController.on("dragstart",this.onDragStart),this.dragController.on("dragend",this.unlock),this.dragController.on("drop",this.unlock)}).catch(i=>{console.warn("Editor overlay failed to find drag controller.",i)}),qe.lock=this.lock,qe.unlock=this.unlock,qe.lockItem=this.lockItem,qe.unlockItem=this.unlockItem,qe.setHoveredElements=this.setHoveredElements,qe.deactivateHoverElement=this.deactivateHoverElement,qe.activateHoverElement=this.activateHoverElement,qe.getPortal=this.getPortal,qe.removePortal=this.removePortal,qe.portalMap=this.portalMap,qe.testHover=this.testHover,qe.updateElementRect=this.updateElementRect,this.pointerPosition={x:-9e9,y:-9e9}}render(){var e=localStorage.getItem("c3-plus-button")==="true";return m("div",{className:this.state.selecting?"selecting":"",id:"editor-overlay",ref:this.editorOverlayRef,style:{display:this.state.loaded?"":"none"},children:this.state.unattachedOverlayContainer&&Ke(m(ie,{children:[m(OR,{}),e?m(LR,{}):null]}),this.state.unattachedOverlayContainer)})}componentDidMount(){if(!this.editorOverlayRef.current.shadowRoot){this.editorOverlayRef.current.attachShadow({mode:"open"}),this.editorOverlayRef.current.shadowRoot.innerHTML='<link rel="stylesheet" href="https://build.cargo.site/frontend/4ae1a0/css/front-end/editor-ui.css"><div id="unattached-editor-overlays"></div>',Array.from(this.sR.children).forEach(r=>{this.editorOverlayRef.current.shadowRoot.appendChild(r)}),this.editorOverlayRef.current.shadowRoot.querySelector("link").addEventListener("load",()=>{this.setState({loaded:!0})});let i=this.editorOverlayRef.current.shadowRoot.querySelector("#unattached-editor-overlays");this.setState({unattachedOverlayContainer:i})}this.sR=this.editorOverlayRef.current.shadowRoot,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("mousedown",this.onPointerDown),window.addEventListener("mouseup",this.onPointerUp),window.addEventListener("mouseup",this.onPointerUp),document.body.addEventListener("pointerleave",this.onPointerLeave),this.findAdminWindow().then(e=>{be.adminWindow.addEventListener("pointermove",this.onAdminPointerMove)}).catch(e=>{console.warn("Editor Overlay failed to find Editor.",e)})}componentDidUpdate(e,i){let{hoveredElements:r}=i,{hoveredElements:n}=this.state,o=mo.default.difference(n,r);mo.default.difference(r,n).forEach(u=>{let c=this.portalMap.get(u);c&&c.portalHosts.forEach((d,f)=>{d?.pointerOut?.()})}),o.forEach(u=>{let c=this.portalMap.get(u);c&&c.portalHosts.forEach((d,f)=>{d?.pointerIn?.()})}),this.updatePageButtonPositions(),this.props.adminMode!==e.adminMode&&(this.props.adminMode?(this.unlock(),this.afterAdminTimeout=setTimeout(()=>{this.testHover()},80)):(this.setHoveredElements([]),this.lock()))}componentWillUnmount(){clearTimeout(this.afterAdminTimeout),this.onContentChange.cancel(),this.dragController&&(this.dragController.off("dragstart",this.onDragStart),this.dragController.off("dragend",this.unlock),this.dragController.off("drop",this.unlock)),this.CargoEditor&&(this.CargoEditor.events.off("mutation-start",this.onMutationStart),this.CargoEditor.events.off("mutation-end",this.onMutationEnd),this.CargoEditor.events.off("editor-keyup",this.onContentChange),this.CargoEditor.events.off("editor-summary-created",this.onContentChange)),this.portalMap.forEach((e,i,r)=>{this.removePortal(i)}),this.noPointerEventsArray=[],window.removeEventListener("mousedown",this.onPointerDown),window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("pointermove",this.onPointerMove),document.body.removeEventListener("pointerleave",this.onPointerLeave),be.adminWindow?.removeEventListener("pointermove",this.onAdminPointerMove)}findAdminWindow=()=>new Promise((e,i)=>{let r=0,n=null,o=()=>{let l=be.adminWindow;l?(clearInterval(n),e(l)):r++,r>200&&(clearInterval(n),i("not found."))};n=setInterval(o,300),o()});onMutationStart=()=>{yR()};onMutationEnd=()=>{this.ticking||(this.ticking=!0,requestAnimationFrame(()=>{bR(),this.ticking=!1}))};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.CargoEditor=CargoEditor,this.CargoEditor.events.on("mutation-start",this.onMutationStart),this.CargoEditor.events.on("mutation-end",this.onMutationEnd),this.CargoEditor.events.on("editor-keyup",this.onContentChange),this.CargoEditor.events.on("editor-summary-created",this.onContentChange)};findDragController=()=>new Promise((e,i)=>{let r=0,n=null,o=()=>{let l=be.globalDragEventController||null;l?(clearInterval(n),e(l)):r++,r>200&&(clearInterval(n),i())};n=setInterval(o,300),o()});updateElementRect=e=>{let r=this.portalMap.get(e);if(r){let n={x:0,y:0,top:0,left:0,right:0,bottom:0,width:0,height:0},o=e.getBoundingClientRect();Object.keys(n).forEach(l=>{n[l]=Math.round(o[l])}),n.height<10&&(n.height=10,n.bottom=n.top+10),r.extraMargins.forEach((l,u)=>{if(!(l===void 0||l===0))switch(u){case 0:n.top=n.y=n.top-l,n.height=n.height+l;break;case 1:n.right=n.right+l,n.width=n.width+l;break;case 2:n.height=n.height+l,n.bottom=n.bottom+l;break;case 3:n.left=n.x=n.left-l,n.width=n.width+l;break}}),this.portalMap.set(e,{portalHosts:r.portalHosts,rect:n,extraMargins:r.extraMargins}),r.portalHosts.forEach((l,u)=>{l?.updatePosition?.(n)})}};onContentChange=(e,i)=>{this.state.hoveredElements.forEach(r=>{this.updateElementRect(r)})};onScroll=()=>{this.noPointerEventsArray.forEach(this.updateElementRect),this.updatePageButtonPositions()};updatePageButtonPositions=()=>{let i=Array.from(this.portalMap).map(([u,c])=>{let d=null,f=Array.from(c?.portalHosts??[]).find(([E,_])=>_.props?.name=="EditPageButton"&&!_.props.isEditingPage?(d=E,!0):!1);if(!d?.querySelector("button.edit-page"))return!1;let g=d.querySelector("button.edit-page").getBoundingClientRect(),S=g.top<c.rect.top?{left:g.left+-f[1].state.shiftButtonX,width:g.width+1,top:g.top,height:g.height*2+1}:{left:g.left+-f[1].state.shiftButtonX,width:g.width+1,top:g.top-g.height+-2,height:g.height*2+1};return{mapRect:c.rect,portalHost:d,proposedRect:S,rect:S,component:f[1]}}).filter(u=>!!u),r=mo.default.sortBy(i,u=>u.mapRect.left),n=!0,o=4,l=0;for(;n&&l<o;)n=!1,r.forEach((u,c,d)=>{if(c===0)return;let f=u.rect,g=d.filter(v=>{if(v==u)return!1;let S=v.proposedRect;return f.left<S.left+S.width&&f.left+f.width>S.left&&f.top<S.top+S.height&&f.top+f.height>S.top});if(g.length>0){n=!0;let v=d[c-1],S=mo.default.sortBy(g,E=>-(E.proposedRect.left+E.proposedRect.width))[0];u.proposedRect={left:S.proposedRect.left+S.proposedRect.width,width:f.width,top:f.top,height:f.height},u.component.setState({shifted:!0,shiftButtonX:u.proposedRect.left-f.left}),c==1&&r[0].component.setState({shifted:!0,shiftButtonX:0})}else u.component.setState({shifted:!1,shiftButtonX:0}),c==1&&r[0].component.setState({shifted:!1,shiftButtonX:0})}),l++};onDragStart=()=>{this.setState({hoveredElements:[],locked:!0}),this.dragContentChangeTimeout=setTimeout(()=>{this.onContentChange()},30)};getPortal=(e,i={})=>{if(e)if(this.portalMap.has(e)){var r=this.portalMap.get(e),n=null;if(r.portalHosts.forEach((o,l)=>{i.component===o&&(n=l)}),n)return n;{let o=document.createElement("div");return this.sR.appendChild(o),r.portalHosts.set(o,i.component),o}}else{let o=document.createElement("div");this.sR.appendChild(o);let l={portalHosts:new Map,rect:{width:0,height:0,top:0,left:0,bottom:0,right:0},extraMargins:i.extraMargins||[]};return o.setAttribute("editor-overlay-tag-name",e.tagName),o._editorBaseNode=e,l.portalHosts.set(o,i.component),this.portalMap.set(e,l),i.trackResize&&this.resizeObserver.observe(e),i.noPointerEvents&&this.noPointerEventsArray.indexOf(e)===-1&&this.noPointerEventsArray.push(e),i.extraMargins&&this.noPointerEventsArray.indexOf(e)===-1&&this.noPointerEventsArray.push(e),o}};removePortal=(e,i)=>{if(this.portalMap.has(e)){let r=this.portalMap.get(e);r.portalHosts.has(i)&&(r.portalHosts.delete(i),i.parentNode.removeChild(i)),r.portalHosts.size===0&&(this.resizeObserver.unobserve(e),this.noPointerEventsArray.indexOf(e)>-1&&this.noPointerEventsArray.splice(this.noPointerEventsArray.indexOf(e),1),this.portalMap.delete(e))}};lock=()=>{this.setState({locked:!0})};unlock=()=>{this.setState({locked:!1})};lockItem=e=>{this.lockedElements.indexOf(e)===-1&&this.lockedElements.push(e)};unlockItem=e=>{let i=this.lockedElements.indexOf(e);i>-1&&this.lockedElements.splice(i,1)};deactivateHoverElement=e=>{e&&this.setState(i=>{let{hoveredElements:r}=i,n=[...r],o=r.indexOf(e);if(o>-1)n=n.splice(o,1);else return null;return{...i,hoveredElements:n}})};activateHoverElement=e=>{e&&this.setState(i=>{let{hoveredElements:r}=i,n=[...r];if(n.indexOf(e)==-1)n.push(e);else return null;return{...i,hoveredElements:n}})};setHoveredElements=e=>{let i=Array.isArray(e)?e:[e];i=i.filter(r=>!!r),mo.default.isEqual(this.state.hoveredElements,i)||this.setState({hoveredElements:i})};testHover=()=>{let{locked:e}=this.state;if(e)return;let i=Array.from(document.elementsFromPoint(this.pointerPosition.x,this.pointerPosition.y))||[],r=Array.from(this.editorOverlayRef.current.shadowRoot.elementsFromPoint(this.pointerPosition.x,this.pointerPosition.y))||[];r=r.map(c=>c.closest("[editor-overlay-tag-name]")?._editorBaseNode).filter(c=>!!c),r=mo.default.difference(r,i),r.forEach(c=>{c&&i.indexOf(c)==-1&&i.push(c)}),this.noPointerEventsArray.forEach(c=>{let d=this.portalMap.get(c);d&&d.rect&&this.pointerPosition.x<=d.rect.left+d.rect.width&&this.pointerPosition.x>=d.rect.left&&this.pointerPosition.y<=d.rect.top+d.rect.height&&this.pointerPosition.y>=d.rect.top&&i.indexOf(c)==-1&&i.push(c)}),i=mo.default.uniq(i);let n=[...this.state.hoveredElements];this.lockedElements.forEach(c=>{let d=n.indexOf(c),f=i.indexOf(c);f===-1&&d>-1?i.push(c):d===-1&&f>-1&&i.splice(f,1)});let o=CargoEditor?.getActiveEditor?.()?.getElement(),l=o?o.closest(".overlay-content"):null,u=l&&i.some(c=>c.tagName==="BODYCOPY"&&l.contains(c));o&&l&&u&&(i=i.filter(c=>l.contains(c))),this.setHoveredElements(i)};onAdminPointerMove=e=>{e.target.tagName==="IFRAME"?(this.pointerPosition.x=e.clientX,this.pointerPosition.y=e.clientY+-40):(this.pointerPosition.x=-9e9,this.pointerPosition.y=-9e9),this.testHover()};onPointerLeave=e=>{this.setState({selecting:!1}),setTimeout(()=>{this.setHoveredElements([])},100)};onFirstSelectionChange=()=>{this.setState({selecting:!0})};onPointerDown=e=>{this.selectionWaitTimeout=setTimeout(()=>{document.addEventListener("selectionchange",this.onFirstSelectionChange,{once:!0})},60)};onPointerUp=e=>{clearTimeout(this.selectionWaitTimeout),document.removeEventListener("selectionchange",this.onFirstSelectionChange,{once:!0}),this.setState({selecting:!1})};onPointerMove=e=>{this.pointerPosition.x=e.clientX,this.pointerPosition.y=e.clientY,this.testHover()}},zR=De((t,e)=>({adminMode:t.frontendState.adminMode}))(o0)});var s0,pd,IY,Af,qi,go=T(()=>{_e();zi();s0=he(xe(),1);ne();pd=[],IY=s0.default.debounce(()=>{if(CargoEditor&&Object.keys(CargoEditor).length>0){var t=CargoEditor.getActiveRange(),e=CargoEditor.helpers.normalizeRangeAroundShadowDom(t);let r=[],n=[];if(t&&!t.collapsed){var i=CargoEditor.helpers.getAllEffectivelyContainedNodes(t);i=i.filter(o=>o.shadowRoot),pd.forEach(o=>{i.includes(o.props.baseNode)?r.push(o):n.push(o)})}else n=pd;if(n.forEach(o=>{o.setState({selected:!1})}),r.forEach(o=>{o.setState({selected:!0}),CargoEditor.plugins.shadowDom.shadowDomSelectedElements.indexOf(o.props.baseNode)==-1&&CargoEditor.plugins.shadowDom.shadowDomSelectedElements.push(o.props.baseNode)}),e.shadowDomElementAdjacentToCollapsedRange){let o=pd.find(l=>l.props.baseNode===e.shadowDomElementAdjacentToCollapsedRange);o&&o.setState({selected:!0,collapseDirection:e.collapseDirection})}pd.length=0}},30),Af=class extends se{constructor(e){super(e),this.state={resetAnimation:!1,selected:!1,collapseDirection:!1,currentColor:"black"},this.uniqueClassName=this.props.overlayMode?"selection-status-"+s0.default.uniqueId():"selection-status"}render(e,i){let r=i.collapseDirection?" "+i.collapseDirection+" collapsed-range":"";return m(ie,{children:[m("style",{id:"selection-status",children:`
		${this.state.selected&&!this.props.onlyAllowCollapsedRange?`
		::slotted(*) {
			--selection-color: transparent;
		}
		`:""}

		${this.props.onlyAllowCollapsedRange?"":`::selection{
			background-color:transparent;
		}
		:host(::selection) {
			background-color:transparent;
		}`}

		.${this.uniqueClassName} {
			${this.props.overlayMode?`
				transform: translate3d(${this.props.overlayPosition.x}px, ${this.props.overlayPosition.y}px, 0);
				width: ${this.props.overlayPosition.width}px;
				height: ${this.props.overlayPosition.height}px;
				position: fixed;
				top: 0;
				left: 0;
			`:`
				inset: 0px;
				position: absolute;
			`}
			padding: 0;
			margin: 0;
			opacity: 1;
		    background-color: var(--selection-color);
			overflow:hidden;

			z-index: ${this.props.inFront?"99999":"-1"};
			pointer-events:none;
			display:none;
		}

		.${this.uniqueClassName}.selected {
			display:block;
		}

      
		@keyframes blink-animation {
			0%, 49.99% {
			  visibility: visible;
			}
			50%, 100% {
				visibility: hidden;
			}
		}
		@-webkit-keyframes blink-animation {
			0%, 49.99% {
			  visibility: visible;
			}
			50%, 100% {
				visibility: hidden;
			}			
		}		

		.${this.uniqueClassName}.collapsed-range {
			width: 1px;
		    mix-blend-mode: unset;
			background-color: ${this.props.overlayMode?this.state.currentColor:"currentColor"};

		    ${this.state.resetAnimation?`
		    visibility: visible;
		    -webkit-animation:none;
		    animation: none;`:`-webkit-animation: blink-animation 1s steps(4, start) infinite;
	        animation: blink-animation 1s steps(4, start) infinite;`}
	        z-index: 9999;
		}

		.${this.uniqueClassName}.before.collapsed-range {
			${this.props.overlayMode?`
			transform: translate3d(${this.props.overlayPosition.x+-1}px, ${this.props.overlayPosition.y}px, 0);			
			`:`
			inset: 0 auto 0 -1px;
			`}
				
		}
		.${this.uniqueClassName}.after.collapsed-range {
			${this.props.overlayMode?`
			transform: translate3d(${this.props.overlayPosition.x+this.props.overlayPosition.width+1}px, ${this.props.overlayPosition.y}px, 0);			
			`:`
			inset: 0 -1px 0 auto;
			`}
		}		

		`}),m("div",{className:`${this.uniqueClassName}${this.state.selected?" selected":""}${r}`})]},"selection-status-fragment")}componentDidMount(){CargoEditor?.getActiveEditor?.()&&(pd.push(this),IY()),this.props.baseNode.__shadow_selection=!0,this.props.baseNode.addEventListener("selected-in-editor",this.select),this.props.baseNode.addEventListener("unselected-in-editor",this.unselect)}componentDidUpdate(e,i){this.state.collapseDirection!==i.collapseDirection&&this.setState({resetAnimation:!0},()=>{this.resetTimeout=setTimeout(()=>{this.setState({resetAnimation:!1})},100)})}componentWillUnmount(){clearTimeout(this.resetTimeout),delete this.props.baseNode.__shadow_selection,this.props.baseNode.removeEventListener("unselected-in-editor",this.unselect),this.props.baseNode.removeEventListener("selected-in-editor",this.select)}select=e=>{if(e.target!==this.props.baseNode)return;this.props.overlayMode&&!this.state.selected&&(qe.updateElementRect(this.props.baseNode),this.updateCurrentColor());let i=e?.detail?.collapsed||!1,r=!0;this.props.onlyAllowCollapsedRange&&(r=i),this.setState({selected:r,collapseDirection:i}),this.props.onSelectionChange&&(i?this.props.onSelectionChange(!1):this.props.onSelectionChange(!0))};unselect=()=>{this.setState(e=>({selected:!1,collapseDirection:!1})),this.props.onSelectionChange&&this.props.onSelectionChange(!1)};updateCurrentColor=()=>{if(this.props.baseNode.shadowRoot){let e=document.createElement("span");e.style.color="currentColor",e.style.position="absolute",this.props.baseNode.shadowRoot.appendChild(e);let r=window.getComputedStyle(e).getPropertyValue("color");e.remove(),this.setState({currentColor:r})}}};Af.defaultProps={inFront:!0,overlayMode:!1};qi=Af});var Tf,hd,qR,fd,HR,UR=T(()=>{_e();Tf=he(xe(),1);ne();hd=new Map,qR=t=>{let e=[],i=[],r=[];hd.forEach((o,l)=>{o.locateEyeball();let{rect:u}=o.state;if(o.props["roll-independently"]==!0){let c=Math.atan2(t.clientY-(u.top+u.height*.5),t.clientX-(u.left+u.width*.5))*(180/Math.PI)+90;o.setState({eyeRotation:c})}else i.push(u.left+u.width*.5),r.push(u.top+u.height*.5),e.push(o)});let n={x:Tf.default.mean(i),y:Tf.default.mean(r)};e.forEach(o=>{let l=Math.atan2(t.clientY-n.y,t.clientX-n.x)*(180/Math.PI)+90;o.setState({eyeRotation:l})})},fd=class extends se{constructor(e){super(e),this.state={eyeRotation:0,rect:{top:0,left:0,width:0,height:0},centerPoint:{x:0,y:0}},this.locateEyeball=Tf.default.debounce(this.locateEyeball,120,{leading:!0,trailing:!1})}render(e,i){return m(ie,{children:[e.children,m("style",{children:`
					:host { 
						pointerEvents: ${e.lowestLevel?"auto":"none"};
						transformOrigin: center center;
						--rotate-transform: rotate( ${this.state.eyeRotation}deg);
					}
				`})]})}locateEyeball=()=>{this.setState({rect:this.props.baseNode.getBoundingClientRect()})};componentDidMount(){hd.size==0&&window.addEventListener("pointermove",qR),hd.set(this.props.baseNode,this)}componentWillUnmount(){hd.delete(this.props.baseNode),hd.size===0&&window.removeEventListener("pointermove",qR)}};fd.defaultProps={"roll-independently":!0};fd.transformSlot="--rotate-transform";HR=fd});var BR,md,WR,VR=T(()=>{_e();BR=he(xe(),1);ne();md=class extends se{constructor(e){super(e),this.state={suppressTransition:!1,rotation:parseFloat(this.props.rotation)}}render(e,i){let{animate:r}=e,n=Number(r)!==0,o=n?50/Number(r):1,l="var(--base-translate, translate(0))",u=l;return e.transformSlots.forEach(c=>{c==="--rotate-transform"?(l+=` rotate(${parseFloat(e.rotation)}deg)`,u+=` rotate(${parseFloat(e.rotation)+360}deg)`):(l+=` var(${c}, translate(0))`,u+=` var(${c}, translate(0))`)}),m(ie,{children:[e.children,m("style",{id:"rotating-item",children:n?`
				@keyframes rotate {
                    from {
                        transform: ${l};
                    }
                    to {
                        transform: ${u};
                    }
                }

                :host {
                	animation: rotate ${Math.abs(o)}s linear ${Math.sign(Number(r))===-1?"reverse":""} infinite;
					will-change: transform;
                }
				`:`
				:host { 
					--rotate-transform: rotate( ${e.rotation}deg);
                }
            `})]})}allowTransition=BR.default.debounce(()=>{this.setState({suppressTransition:!1},()=>{})},120);componentDidUpdate(e){(this.props.animate!==e.animate||this.props.rotation!==e.rotation)&&this.setState({suppressTransition:!0},()=>{this.allowTransition()})}componentWillUnmount(){this.allowTransition.cancel()}};md.defaultProps={rotation:0,animate:0};md.transformSlot="--rotate-transform";WR=md});var $R,jR=T(()=>{$R={speed:"90",rotation:"66",scale:"18.4vmax","flight-path":"387",delay:"2"}});var GR,Bn,a0,Mf,KR,YR=T(()=>{GR=he(xe(),1);_e();We();jR();_r();ne();a0=new Set,Mf=class extends se{constructor(e){super(e),this.flierID="-"+(0,GR.uniqueId)(),this.flierRef=ge();let i=this.generateRandomIntInclusive(1,1e4);this.state={portalElement:null,currentAnimation:"fly1",flightCount:i,calculatedAnimations:{fly1:this.calculateFlyAnimation(i,1),fly2:this.calculateFlyAnimation(i,2),fly3:this.calculateFlyAnimation(i,3),fly4:this.calculateFlyAnimation(i,4)}}}generateRandomIntInclusive(e,i){return e=Math.ceil(e),i=Math.floor(i),Math.floor(Math.random()*(i-e+1))+e}calculateDuration(e){return 100*(Math.max(100-Math.abs(e),5)*.01)}generateRandomIntFromSeed(e){var i=Math.sin(e)*1e4;return i-Math.floor(i)}shuffleFromSeed(e,i){for(var r=e.length,n,o;r;)o=Math.floor(this.generateRandomIntFromSeed(i)*r--),n=e[r],e[r]=e[o],e[o]=n,++i;return e}calculateFlyAnimation(e,i){let r=e%2==0,n=this.shuffleFromSeed(["ltr","rtl","ttb","btt"],e),o=Number(this.props.scale.replace("vmax","")),l=this.props.rotation/5*180,u=[{x:`calc(0vw - ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(r?0-1.4*o:60,r?40:100+1.4*o)}vh`},{x:`calc(100vw + ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(r?60:0-1.4*o,r?100+1.4*o:40)}vh`}],c=[{x:`calc(100vw + ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(r?60:0-1.4*o,r?100+1.4*o:40)}vh`},{x:`calc(0vw - ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(r?0:60,r?40:100+1.4*o)}vh`}],d=[{x:`${this.generateRandomIntInclusive(r?0-1.4*o:60,r?40:100+1.4*o)}vw`,y:`calc(0vh - ${1.4*o}vmax)`},{x:`${this.generateRandomIntInclusive(r?60:0-1.4*o,r?100+1.4*o:40)}vw`,y:`calc(100vh + ${1.4*o}vmax)`}],f=[{x:`${this.generateRandomIntInclusive(r?60:0-1.4*o,r?100+1.4*o:40)}vw`,y:`calc(100vh + ${1.4*o}vmax)`},{x:`${this.generateRandomIntInclusive(r?0-1.4*o:60,r?40:100+1.4*o)}vw`,y:`calc(0vh - ${1.4*o}vmax)`}],g=n.reduce((v,S)=>{switch(S){case"ltr":return v.concat(u);case"rtl":return v.concat(c);case"ttb":return v.concat(d);case"btt":return v.concat(f);default:return v}},[]);switch(i){case 1:return`
					0% {
						transform: translateX(${g[0].x}) translateY(${g[0].y});
						opacity: 0;
					}
					0.001% {
						transform: translateX(${g[0].x}) translateY(${g[0].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${g[1].x}) translateY(${g[1].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${g[1].x}) translateY(${g[1].y});
						opacity: 0;
					}
				`;case 2:return`
					0% {
						transform: translateX(${g[2].x}) translateY(${g[2].y});
						opacity: 0;
					}
				
					0.001% {
						transform: translateX(${g[2].x}) translateY(${g[2].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${g[3].x}) translateY(${g[3].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${g[3].x}) translateY(${g[3].y});
						opacity: 0;
					}
				`;case 3:return`
					0% {
						transform: translateX(${g[4].x}) translateY(${g[4].y});
						opacity: 0;
					}
		
					0.001% {
						transform: translateX(${g[4].x}) translateY(${g[4].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${g[5].x}) translateY(${g[5].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${g[5].x}) translateY(${g[5].y});
						opacity: 0;
					}
				`;case 4:return`
					0% {
						transform: translateX(${g[6].x}) translateY(${g[6].y});
						opacity: 0;
					}
		
					0.001% {
						transform: translateX(${g[6].x}) translateY(${g[6].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${g[7].x}) translateY(${g[7].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${g[7].x}) translateY(${g[7].y});
						opacity: 0;
					}
				`}}onAnimationEnd(e){let i=Number(e.animationName.substr(3,1)),r=i<4?i+1:1;this.setState({currentAnimation:`fly${r}`,...r===1&&{flightCount:this.state.flightCount+1,calculatedAnimations:{fly1:this.calculateFlyAnimation(this.state.flightCount+1,1),fly2:this.calculateFlyAnimation(this.state.flightCount+1,2),fly3:this.calculateFlyAnimation(this.state.flightCount+1,3),fly4:this.calculateFlyAnimation(this.state.flightCount+1,4)}}})}componentDidMount(){if(Bn||(Bn=document.createElement("media-item"),Bn.setAttribute("no-component",""),Bn.shadowRoot||Bn.attachShadow({mode:"open"}),Bn.shadowRoot.innerHTML=`
			<style>
				:host {
					all:unset!important;
					border:none!important;
					padding: 0!important;
					position: fixed!important;
					z-index: 5000!important;
					pointer-events:none!important;
					background:none!important;
					inset: 0!important;
					overflow: hidden!important;
				}

				.spinner [part="media"] {
					pointer-events: none;
					border-radius:0!important;
					padding: 0!important;
					border: none !important;
					position: absolute;
					width: 100%;
					height: 100%;
					inset: 0;
				}

				.spinner img,
				.spinner video {
					object-fit: contain;
				}
				.spinner .frame,
				.spinner .sizing-frame {
					display: contents;
				}				
			</style>
			`,document.body.appendChild(Bn)),!this.state.portalElement){let e=document.createElement("div");e.style.display="contents",Bn.shadowRoot.appendChild(e),this.setState({portalElement:e},()=>{this.flierRef.current&&this.flierRef.current.addEventListener("animationend",i=>this.onAnimationEnd(i))})}a0.add(this)}componentWillUnmount(){this.flierRef.current&&this.flierRef.current.removeEventListener("animationend",e=>this.onAnimationEnd(e)),this.state.portalElement&&this.state.portalElement.remove(),a0.delete(this),a0.size==0&&Bn&&(Bn.remove(),Bn=null)}render(e,i){let{speed:r,rotation:n,scale:o,delay:l,adminMode:u}=e,{currentAnimation:c,flightCount:d,calculatedAnimations:f,portalElement:g}=i;return g?m(ie,{children:[m("style",{children:":host {display:none!important;}"}),Ke(m(ie,{children:[m("style",{children:`

					.flier${this.flierID} {
						pointer-events: none !important;
						top: 0;
						left: 0;
						position: absolute;
						z-index:9995;
						transform: translateX(-100%) translateY(-100%);
						animation-delay: ${l}s;
						animation-duration: ${this.calculateDuration(r)/4}s;
						animation-timing-function: linear;
						animation-direction: ${Math.sign(r)===1?"normal":"reverse"};
					}

					.fly1${this.flierID} {
						animation-name: fly1${this.flierID};
					}

					.fly2${this.flierID} {
						animation-name: fly2${this.flierID};
					}

					.fly3${this.flierID} {
						animation-name: fly3${this.flierID};
					}

					.fly4${this.flierID} {
						animation-name: fly4${this.flierID};
					}

					.flier${this.flierID} .spinner {
						${Number(n)!==0?`animation: spin ${this.calculateDuration(n)}s ${Math.sign(Number(n))===-1?"reverse":"normal"} linear infinite;`:""}
						width: ${o};
						height: ${o};
						display: flex;
						align-items: center;
						justify-content: center;
					}

					.flier${this.flierID} .spinner figure {
						padding: 0;
						margin: 0;
						width: ${o};
						height: ${o};
					}

				
					/* Keyframe values control where the element will begin
						and end its trajectory across the screen. Each rule
						represents a path the element follows across the screen. */
					
				
					@keyframes fly1${this.flierID} {
						${f.fly1}
					}

					@keyframes fly2${this.flierID} {
						${f.fly2}
					}

					@keyframes fly3${this.flierID} {
						${f.fly3}
					}

					@keyframes fly4${this.flierID} {
						${f.fly4}
					}

					@keyframes spin {
						0% {
							transform: rotateZ(0deg);
						}
						100% {
							transform: rotateZ(3600deg);
						}
					}
				`}),m("div",{className:`flier${this.flierID} ${c}${this.flierID}`,ref:this.flierRef,children:m("div",{className:"spinner",children:e.children})})]}),g)]}):null}};Mf.defaultProps=$R;KR=Mf});var XR,gd,ZR,JR=T(()=>{_e();We();XR=he(xe(),1);_r();ne();gd=class extends _i{constructor(e){super(e),this.uid=XR.default.uniqueId(),this.state={inited:!1,viewportIntersection:"neutral",isVisible:!1,hasLayout:!1,inTransition:{},suppressTransition:!0}}render(e,i){let r=this.state.viewportIntersection,n=this.props["scroll-variables"].split(" ").filter(c=>c!=="").map(c=>"--scroll-"+c);n.push("--scroll-translate","--scroll-transition","--scroll-opacity"),n=n.map(c=>c+": var("+(c.startsWith("--")?"":"--")+c+"-"+r+"); ").join(" ");let o=this.props["scroll-animation-duration"]||"1000",l=Object.values(this.state.inTransition).some(c=>c==!0),u=!!this.props.baseNode.closest(".overlay-animating");return m(ie,{children:[e.children,m("style",{id:"scroll-transition",children:`
				:host {
					--scroll-opacity-above: 1;
				    --scroll-opacity-inside: 1;
				    --scroll-opacity-below: 0;
					opacity: var(--scroll-opacity, 1);
					${l||this.state.waitingForTransition?"will-change: opacity, transform;":""}

					--scroll-transition-above: 0s transform ease-in-out, 0s opacity ease-in-out;
				    --scroll-transition-inside: ${o}ms transform ease-in-out, ${o}ms opacity ease-in-out;
				    --scroll-transition-below: 0s transform ease-in-out, 0s opacity ease-in-out;
					${this.state.suppressTransition||u?"":"transition: var(--scroll-transition);"}

					--scroll-translate-below: translateY(40px);
					--scroll-translate-inside: translateY(0px);
					--scroll-translate-above: translateY(0px);

					${n}
				}

				:host-context(.overlay-content.overlay-animating) {
					transition: none !important;
				}
			`})]})}onViewportIntersectionChange=e=>{this.setState({isVisible:e.visible,viewportIntersection:e.position,hasLayout:e.hasLayout})};onTransitionStart=e=>{e.target===this.props.baseNode&&this.setState(i=>({...i,waitingForTransition:!1,inTransition:{...i.inTransition,[e.propertyName]:!0}}))};onTransitionEnd=e=>{e.target===this.props.baseNode&&this.setState(i=>{let r={...i.inTransition,[e.propertyName]:!1},n=Object.values(r).every(o=>o==!1);return{...i,suppressTransition:n,inTransition:r}})};componentDidMount(){if(this.props.baseNode.addEventListener("transitionstart",this.onTransitionStart),this.props.baseNode.addEventListener("transitionend",this.onTransitionEnd),this.props.baseNode.addEventListener("transitioncancel",this.onTransitionEnd),this.props.customElementMode){let e=this.props.visibility?.visible??!1,i=this.props.visibility?.position??"below",r=this.props.visibility?.hasLayout??!1;this.setState({isVisible:e,viewportIntersection:i,hasLayout:r})}else Xt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange)}componentDidUpdate(e,i){if(this.state.viewportIntersection!==i.viewportIntersection&&(this.state.isVisible?this.setState({waitingForTransition:!0,suppressTransition:!1}):this.state.waitingForTransition||this.setState({suppressTransition:!0})),this.props.customElementMode&&this.props.visibility?.position!==e.visibility?.position){let r=this.props.visibility?.visible?this.props.visibility.visible:!1,n=this.props.visibility?.position||"below",o=this.props.visibility?.hasLayout||!1;this.setState({isVisible:r,viewportIntersection:n,hasLayout:o})}}componentWillUnmount(){clearTimeout(this.transitionCheckTimeout),cancelAnimationFrame(this.viewportAnimFrame),cancelAnimationFrame(this.lazyloadFrame),clearTimeout(this.initTimeout),this.props.baseNode.removeEventListener("transitionstart",this.onTransitionStart),this.props.baseNode.removeEventListener("transitionend",this.onTransitionEnd),this.props.baseNode.removeEventListener("transitioncancel",this.onTransitionEnd),ii(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange)}};gd.defaultProps={"scroll-variables":""};gd.transformSlot="--scroll-translate";ZR=gd});var xge,vd,Rf,AY,QR,eN=T(()=>{_e();ht();Fi();xge=he(xe(),1);ne();vd=new Map,Rf=class extends se{constructor(e){switch(super(e),this.state={z:0,x:0,y:0,interacted:!1,dragging:!1},this.props.baseNode.tagName){case"DIV":case"SPAN":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":case"H8":case"H9":this.displayInlineBlock=!0;break;default:this.displayInlineBlock=!1;break}this.preventClick=!1,this.inSlideshow=this.props.baseNode.parentElement.tagName==="GALLERY-SLIDESHOW"}render(e,i){if(e.adminMode)return e.children;let{x:r,y:n,z:o}=i;return m(ie,{children:[e.children,this.inSlideshow?null:m("style",{id:"draggable-item",children:`
				:host {
					${this.props.adminMode?"":`
						pointer-events: auto!important;
						-webkit-user-select: none; 
						-webkit-touch-callout: none;
					`}
					${i.dragging?"--scroll-transition: 0s all!important; cursor: grabbing;":"cursor: grab;"}
					${this.displayInlineBlock?"display: inline-block;":""}
					--drag-transform: ${i.interacted?`translate3d(${r}px, ${n}px, ${o+100}px)`:`translate(${r}px, ${n}px)`};
					${!this.props.adminMode&&i.interacted?`z-index: ${o+100};`:""}					
				}
			`})]})}onDragStart=e=>{e.preventDefault(),e.stopPropagation()};onTouchMove=e=>{e.preventDefault()};onPointerDown=e=>{if(this.props.adminMode||e.button==2||this.inSlideshow)return;this.preventClick=!1;let i=this.state.z;vd.forEach((r,n)=>{n!==this.props.baseNode&&r.state.z>i&&r.setState(o=>({z:o.z-1}))}),this.setState({x:this.state.x,y:this.state.y,z:vd.size+10,interacted:!0,dragging:!0}),this.initialPosition={x:e.clientX+-this.state.x,y:e.clientY+-this.state.y},this.mousePosition={x:e.clientX,y:e.clientY},this.accumulatedDelta=0,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)};onPointerMove=e=>{e.preventDefault();let i=e.clientX,r=e.clientY,n=Math.sqrt(Math.pow(this.mousePosition.x-i,2)+Math.pow(this.mousePosition.y-r,2));this.accumulatedDelta+=n,this.accumulatedDelta>4&&(this.preventClick=!0),this.mousePosition={x:e.clientX,y:e.clientY},this.setState({x:e.clientX-this.initialPosition.x,y:e.clientY-this.initialPosition.y})};onPointerUp=e=>{this.setState({dragging:!1}),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp)};onClickCapture=e=>{this.preventClick&&(e.preventDefault(),e.stopPropagation())};bindListeners=()=>{this.props.adminMode||(this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.props.baseNode.addEventListener("pointerdown",this.onPointerDown),this.props.baseNode.addEventListener("touchmove",this.onTouchMove),this.props.baseNode.addEventListener("click",this.onClickCapture,{capture:!0}))};unbindListeners=()=>{this.props.baseNode.removeEventListener("dragstart",this.onDragStart),this.props.baseNode.removeEventListener("pointerdown",this.onPointerDown),this.props.baseNode.removeEventListener("touchmove",this.onTouchMove),this.props.baseNode.removeEventListener("click",this.onClickCapture,{capture:!0})};componentDidMount(){this.bindListeners(),vd.set(this.props.baseNode,this),this.setState({z:vd.size+10})}componentDidUpdate(e,i){e.adminMode!==this.props.adminMode&&(this.setState({x:0,y:0,z:0,interacted:!1}),this.unbindListeners(),this.bindListeners())}componentWillUnmount(){this.unbindListeners(),vd.delete(this.props.baseNode)}};Rf.transformSlot="--drag-transform";AY=De((t,e)=>({adminMode:t.frontendState.adminMode}))(Rf),QR=AY});var tN,l0=T(()=>{tN={"dropshadow-offset":"0rem","dropshadow-color":"rgba(0,0,0,.85)","dropshadow-blur-radius":"0rem"}});var Ige,Nf,iN,rN=T(()=>{_e();Ige=he(xe(),1);l0();ne();Nf=class extends se{constructor(e){super(e)}render(e,i){let r=this.props["dropshadow-offset"].split(" "),n=r[0],o=r.length>1?r[1]:r[0];return m(ie,{children:[e.baseNode.tagName==="MEDIA-ITEM"?m("style",{children:`
                        img {
                            filter: drop-shadow(${o} ${n} ${this.props["dropshadow-blur-radius"]} ${this.props["dropshadow-color"]});
                        }
                    `}):m("style",{children:`
                        :host {
                            filter: drop-shadow(${o} ${n} ${this.props["dropshadow-blur-radius"]} ${this.props["dropshadow-color"]});
                        }
                    `}),e.children]})}};Nf.defaultProps=tN;iN=Nf});var kge,kf,nN,oN=T(()=>{_e();kge=he(xe(),1);ne();kf=class extends se{constructor(e){super(e)}render(e,i){return m(ie,{children:[e.baseNode.tagName==="MEDIA-ITEM"?m("style",{children:`
                        img {
                            background-color: ${this.props["background-color"]};
                        }
                    `}):m("style",{children:`
                        :host {
                            background-color: ${this.props["background-color"]};
                        }
                    `}),e.children]})}};kf.defaultProps={"background-color":"rgba(0,0,0,0)"};nN=kf});var zge,Of,sN,aN=T(()=>{_e();zge=he(xe(),1);l0();ne();Of=class extends se{constructor(e){super(e)}render(e,i){let r=Object.keys(e).reduce((n,o)=>{if(o.includes("-style")){let l=o.replace("-style","");n.push({part:l,styles:e[o]?e[o].replaceAll(";","!important;"):""})}return n},[]);return m(ie,{children:[m("style",{children:r.map(({part:n,styles:o})=>`[part*="${n}"] { ${o} }`)}),e.children]})}};Of.defaultProps={};sN=Of});var lN=T(()=>{});var jge,Df,uN,cN=T(()=>{_e();jge=he(xe(),1);lN();ne();Df=class extends se{constructor(e){super(e)}calculateDuration(e){return 5*(Math.max(100-Math.abs(e),5)*.01)}render(e,i){let r=this.calculateDuration(Number(this.props["blink-speed"])),n=Math.max(99.9-this.props["blink-pulse"],.1),o="steps(1)";switch(!0){case(isNaN(Number(this.props["blink-transition"]))&&this.props["blink-transition"]=="linear"):o="linear";break;case(isNaN(Number(this.props["blink-transition"]))&&this.props["blink-transition"]=="ease"):o="ease";break;case Number(this.props["blink-transition"])>0:o="ease";break}return m(ie,{children:[e.children,m("style",{children:`
					:host {
						animation: ${r}s infinite ${o} blink;
						-webkit-animation: ${r}s infinite ${o} blink;
					}
					
					@keyframes blink {
						0% {
							opacity: 0;
						}
						50% {
							opacity: 1;
						}
						100% {
							opacity: 0;
						}
					}
				`})]})}};Df.defaultProps={"blink-transition":"0","blink-speed":"75","blink-pulse":"50"};uN=Df});function MY(t){return!!t&&typeof t=="object"}function RY(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||OY(t)}function OY(t){return t.$$typeof===kY}function DY(t){return Array.isArray(t)?[]:{}}function Lf(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ff(DY(t),t,e):t}function LY(t,e,i){return t.concat(e).map(function(r){return Lf(r,i)})}function FY(t,e,i){var r={};return i.isMergeableObject(t)&&Object.keys(t).forEach(function(n){r[n]=Lf(t[n],i)}),Object.keys(e).forEach(function(n){!i.isMergeableObject(e[n])||!t[n]?r[n]=Lf(e[n],i):r[n]=Ff(t[n],e[n],i)}),r}function Ff(t,e,i){i=i||{},i.arrayMerge=i.arrayMerge||LY,i.isMergeableObject=i.isMergeableObject||TY;var r=Array.isArray(e),n=Array.isArray(t),o=r===n;return o?r?i.arrayMerge(t,e,i):FY(t,e,i):Lf(e,i)}var TY,NY,kY,dN=T(()=>{TY=function(e){return MY(e)&&!RY(e)};NY=typeof Symbol=="function"&&Symbol.for,kY=NY?Symbol.for("react.element"):60103;Ff.all=function(e,i){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,n){return Ff(r,n,i)},{})}});var zY,zf,u0=T(()=>{zY=typeof global=="object"&&global&&global.Object===Object&&global,zf=zY});var qY,HY,Ci,Wn=T(()=>{u0();qY=typeof self=="object"&&self&&self.Object===Object&&self,HY=zf||qY||Function("return this")(),Ci=HY});var UY,bn,yd=T(()=>{Wn();UY=Ci.Symbol,bn=UY});function VY(t){var e=BY.call(t,bd),i=t[bd];try{t[bd]=void 0;var r=!0}catch{}var n=WY.call(t);return r&&(e?t[bd]=i:delete t[bd]),n}var pN,BY,WY,bd,hN,fN=T(()=>{yd();pN=Object.prototype,BY=pN.hasOwnProperty,WY=pN.toString,bd=bn?bn.toStringTag:void 0;hN=VY});function GY(t){return jY.call(t)}var $Y,jY,mN,gN=T(()=>{$Y=Object.prototype,jY=$Y.toString;mN=GY});function XY(t){return t==null?t===void 0?YY:KY:vN&&vN in Object(t)?hN(t):mN(t)}var KY,YY,vN,Vn,su=T(()=>{yd();fN();gN();KY="[object Null]",YY="[object Undefined]",vN=bn?bn.toStringTag:void 0;Vn=XY});function ZY(t,e){return function(i){return t(e(i))}}var qf,c0=T(()=>{qf=ZY});var JY,Hf,d0=T(()=>{c0();JY=qf(Object.getPrototypeOf,Object),Hf=JY});function QY(t){return t!=null&&typeof t=="object"}var wn,Va=T(()=>{wn=QY});var xN=W((mve,wN)=>{"use strict";var yN=Array.isArray,bN=Object.keys,eX=Object.prototype.hasOwnProperty,tX=typeof Element<"u";function p0(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var i=yN(t),r=yN(e),n,o,l;if(i&&r){if(o=t.length,o!=e.length)return!1;for(n=o;n--!==0;)if(!p0(t[n],e[n]))return!1;return!0}if(i!=r)return!1;var u=t instanceof Date,c=e instanceof Date;if(u!=c)return!1;if(u&&c)return t.getTime()==e.getTime();var d=t instanceof RegExp,f=e instanceof RegExp;if(d!=f)return!1;if(d&&f)return t.toString()==e.toString();var g=bN(t);if(o=g.length,o!==bN(e).length)return!1;for(n=o;n--!==0;)if(!eX.call(e,g[n]))return!1;if(tX&&t instanceof Element&&e instanceof Element)return t===e;for(n=o;n--!==0;)if(l=g[n],!(l==="_owner"&&t.$$typeof)&&!p0(t[l],e[l]))return!1;return!0}return t!==t&&e!==e}wN.exports=function(e,i){try{return p0(e,i)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}}});function iX(){this.__data__=[],this.size=0}var SN,_N=T(()=>{SN=iX});function rX(t,e){return t===e||t!==t&&e!==e}var Uf,h0=T(()=>{Uf=rX});function nX(t,e){for(var i=t.length;i--;)if(Uf(t[i][0],e))return i;return-1}var Ds,wd=T(()=>{h0();Ds=nX});function aX(t){var e=this.__data__,i=Ds(e,t);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():sX.call(e,i,1),--this.size,!0}var oX,sX,EN,CN=T(()=>{wd();oX=Array.prototype,sX=oX.splice;EN=aX});function lX(t){var e=this.__data__,i=Ds(e,t);return i<0?void 0:e[i][1]}var PN,IN=T(()=>{wd();PN=lX});function uX(t){return Ds(this.__data__,t)>-1}var AN,TN=T(()=>{wd();AN=uX});function cX(t,e){var i=this.__data__,r=Ds(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}var MN,RN=T(()=>{wd();MN=cX});function au(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}var Ls,xd=T(()=>{_N();CN();IN();TN();RN();au.prototype.clear=SN;au.prototype.delete=EN;au.prototype.get=PN;au.prototype.has=AN;au.prototype.set=MN;Ls=au});function dX(){this.__data__=new Ls,this.size=0}var NN,kN=T(()=>{xd();NN=dX});function pX(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}var ON,DN=T(()=>{ON=pX});function hX(t){return this.__data__.get(t)}var LN,FN=T(()=>{LN=hX});function fX(t){return this.__data__.has(t)}var zN,qN=T(()=>{zN=fX});function mX(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var vo,lu=T(()=>{vo=mX});function wX(t){if(!vo(t))return!1;var e=Vn(t);return e==vX||e==yX||e==gX||e==bX}var gX,vX,yX,bX,Bf,f0=T(()=>{su();lu();gX="[object AsyncFunction]",vX="[object Function]",yX="[object GeneratorFunction]",bX="[object Proxy]";Bf=wX});var xX,Wf,HN=T(()=>{Wn();xX=Ci["__core-js_shared__"],Wf=xX});function SX(t){return!!UN&&UN in t}var UN,BN,WN=T(()=>{HN();UN=function(){var t=/[^.]+$/.exec(Wf&&Wf.keys&&Wf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();BN=SX});function CX(t){if(t!=null){try{return EX.call(t)}catch{}try{return t+""}catch{}}return""}var _X,EX,Jo,m0=T(()=>{_X=Function.prototype,EX=_X.toString;Jo=CX});function kX(t){if(!vo(t)||BN(t))return!1;var e=Bf(t)?NX:IX;return e.test(Jo(t))}var PX,IX,AX,TX,MX,RX,NX,VN,$N=T(()=>{f0();WN();lu();m0();PX=/[\\^$.*+?()[\]{}|]/g,IX=/^\[object .+?Constructor\]$/,AX=Function.prototype,TX=Object.prototype,MX=AX.toString,RX=TX.hasOwnProperty,NX=RegExp("^"+MX.call(RX).replace(PX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");VN=kX});function OX(t,e){return t?.[e]}var jN,GN=T(()=>{jN=OX});function DX(t,e){var i=jN(t,e);return VN(i)?i:void 0}var Or,Fs=T(()=>{$N();GN();Or=DX});var LX,zs,Vf=T(()=>{Fs();Wn();LX=Or(Ci,"Map"),zs=LX});var FX,Qo,Sd=T(()=>{Fs();FX=Or(Object,"create"),Qo=FX});function zX(){this.__data__=Qo?Qo(null):{},this.size=0}var KN,YN=T(()=>{Sd();KN=zX});function qX(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var XN,ZN=T(()=>{XN=qX});function WX(t){var e=this.__data__;if(Qo){var i=e[t];return i===HX?void 0:i}return BX.call(e,t)?e[t]:void 0}var HX,UX,BX,JN,QN=T(()=>{Sd();HX="__lodash_hash_undefined__",UX=Object.prototype,BX=UX.hasOwnProperty;JN=WX});function jX(t){var e=this.__data__;return Qo?e[t]!==void 0:$X.call(e,t)}var VX,$X,ek,tk=T(()=>{Sd();VX=Object.prototype,$X=VX.hasOwnProperty;ek=jX});function KX(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Qo&&e===void 0?GX:e,this}var GX,ik,rk=T(()=>{Sd();GX="__lodash_hash_undefined__";ik=KX});function uu(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}var g0,nk=T(()=>{YN();ZN();QN();tk();rk();uu.prototype.clear=KN;uu.prototype.delete=XN;uu.prototype.get=JN;uu.prototype.has=ek;uu.prototype.set=ik;g0=uu});function YX(){this.size=0,this.__data__={hash:new g0,map:new(zs||Ls),string:new g0}}var ok,sk=T(()=>{nk();xd();Vf();ok=YX});function XX(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var ak,lk=T(()=>{ak=XX});function ZX(t,e){var i=t.__data__;return ak(e)?i[typeof e=="string"?"string":"hash"]:i.map}var qs,_d=T(()=>{lk();qs=ZX});function JX(t){var e=qs(this,t).delete(t);return this.size-=e?1:0,e}var uk,ck=T(()=>{_d();uk=JX});function QX(t){return qs(this,t).get(t)}var dk,pk=T(()=>{_d();dk=QX});function eZ(t){return qs(this,t).has(t)}var hk,fk=T(()=>{_d();hk=eZ});function tZ(t,e){var i=qs(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}var mk,gk=T(()=>{_d();mk=tZ});function cu(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}var Ed,v0=T(()=>{sk();ck();pk();fk();gk();cu.prototype.clear=ok;cu.prototype.delete=uk;cu.prototype.get=dk;cu.prototype.has=hk;cu.prototype.set=mk;Ed=cu});function rZ(t,e){var i=this.__data__;if(i instanceof Ls){var r=i.__data__;if(!zs||r.length<iZ-1)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new Ed(r)}return i.set(t,e),this.size=i.size,this}var iZ,vk,yk=T(()=>{xd();Vf();v0();iZ=200;vk=rZ});function du(t){var e=this.__data__=new Ls(t);this.size=e.size}var bk,wk=T(()=>{xd();kN();DN();FN();qN();yk();du.prototype.clear=NN;du.prototype.delete=ON;du.prototype.get=LN;du.prototype.has=zN;du.prototype.set=vk;bk=du});function nZ(t,e){for(var i=-1,r=t==null?0:t.length;++i<r&&e(t[i],i,t)!==!1;);return t}var xk,Sk=T(()=>{xk=nZ});var oZ,y0,_k=T(()=>{Fs();oZ=function(){try{var t=Or(Object,"defineProperty");return t({},"",{}),t}catch{}}(),y0=oZ});function sZ(t,e,i){e=="__proto__"&&y0?y0(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var $f,b0=T(()=>{_k();$f=sZ});function uZ(t,e,i){var r=t[e];(!(lZ.call(t,e)&&Uf(r,i))||i===void 0&&!(e in t))&&$f(t,e,i)}var aZ,lZ,jf,w0=T(()=>{b0();h0();aZ=Object.prototype,lZ=aZ.hasOwnProperty;jf=uZ});function cZ(t,e,i,r){var n=!i;i||(i={});for(var o=-1,l=e.length;++o<l;){var u=e[o],c=r?r(i[u],t[u],u,i,t):void 0;c===void 0&&(c=t[u]),n?$f(i,u,c):jf(i,u,c)}return i}var Hs,Cd=T(()=>{w0();b0();Hs=cZ});function dZ(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}var Ek,Ck=T(()=>{Ek=dZ});function hZ(t){return wn(t)&&Vn(t)==pZ}var pZ,x0,Pk=T(()=>{su();Va();pZ="[object Arguments]";x0=hZ});var Ik,fZ,mZ,gZ,Ak,Tk=T(()=>{Pk();Va();Ik=Object.prototype,fZ=Ik.hasOwnProperty,mZ=Ik.propertyIsEnumerable,gZ=x0(function(){return arguments}())?x0:function(t){return wn(t)&&fZ.call(t,"callee")&&!mZ.call(t,"callee")},Ak=gZ});var vZ,yo,pu=T(()=>{vZ=Array.isArray,yo=vZ});function yZ(){return!1}var Mk,Rk=T(()=>{Mk=yZ});var Ok,Nk,bZ,kk,wZ,xZ,Gf,S0=T(()=>{Wn();Rk();Ok=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Nk=Ok&&typeof module=="object"&&module&&!module.nodeType&&module,bZ=Nk&&Nk.exports===Ok,kk=bZ?Ci.Buffer:void 0,wZ=kk?kk.isBuffer:void 0,xZ=wZ||Mk,Gf=xZ});function EZ(t,e){var i=typeof t;return e=e??SZ,!!e&&(i=="number"||i!="symbol"&&_Z.test(t))&&t>-1&&t%1==0&&t<e}var SZ,_Z,Dk,Lk=T(()=>{SZ=9007199254740991,_Z=/^(?:0|[1-9]\d*)$/;Dk=EZ});function PZ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=CZ}var CZ,Kf,_0=T(()=>{CZ=9007199254740991;Kf=PZ});function ZZ(t){return wn(t)&&Kf(t.length)&&!!Zt[Vn(t)]}var IZ,AZ,TZ,MZ,RZ,NZ,kZ,OZ,DZ,LZ,FZ,zZ,qZ,HZ,UZ,BZ,WZ,VZ,$Z,jZ,GZ,KZ,YZ,XZ,Zt,Fk,zk=T(()=>{su();_0();Va();IZ="[object Arguments]",AZ="[object Array]",TZ="[object Boolean]",MZ="[object Date]",RZ="[object Error]",NZ="[object Function]",kZ="[object Map]",OZ="[object Number]",DZ="[object Object]",LZ="[object RegExp]",FZ="[object Set]",zZ="[object String]",qZ="[object WeakMap]",HZ="[object ArrayBuffer]",UZ="[object DataView]",BZ="[object Float32Array]",WZ="[object Float64Array]",VZ="[object Int8Array]",$Z="[object Int16Array]",jZ="[object Int32Array]",GZ="[object Uint8Array]",KZ="[object Uint8ClampedArray]",YZ="[object Uint16Array]",XZ="[object Uint32Array]",Zt={};Zt[BZ]=Zt[WZ]=Zt[VZ]=Zt[$Z]=Zt[jZ]=Zt[GZ]=Zt[KZ]=Zt[YZ]=Zt[XZ]=!0;Zt[IZ]=Zt[AZ]=Zt[HZ]=Zt[TZ]=Zt[UZ]=Zt[MZ]=Zt[RZ]=Zt[NZ]=Zt[kZ]=Zt[OZ]=Zt[DZ]=Zt[LZ]=Zt[FZ]=Zt[zZ]=Zt[qZ]=!1;Fk=ZZ});function JZ(t){return function(e){return t(e)}}var hu,Yf=T(()=>{hu=JZ});var qk,Pd,QZ,E0,eJ,es,Xf=T(()=>{u0();qk=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Pd=qk&&typeof module=="object"&&module&&!module.nodeType&&module,QZ=Pd&&Pd.exports===qk,E0=QZ&&zf.process,eJ=function(){try{var t=Pd&&Pd.require&&Pd.require("util").types;return t||E0&&E0.binding&&E0.binding("util")}catch{}}(),es=eJ});var Hk,tJ,Uk,Bk=T(()=>{zk();Yf();Xf();Hk=es&&es.isTypedArray,tJ=Hk?hu(Hk):Fk,Uk=tJ});function nJ(t,e){var i=yo(t),r=!i&&Ak(t),n=!i&&!r&&Gf(t),o=!i&&!r&&!n&&Uk(t),l=i||r||n||o,u=l?Ek(t.length,String):[],c=u.length;for(var d in t)(e||rJ.call(t,d))&&!(l&&(d=="length"||n&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Dk(d,c)))&&u.push(d);return u}var iJ,rJ,Zf,C0=T(()=>{Ck();Tk();pu();S0();Lk();Bk();iJ=Object.prototype,rJ=iJ.hasOwnProperty;Zf=nJ});function sJ(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||oJ;return t===i}var oJ,fu,Jf=T(()=>{oJ=Object.prototype;fu=sJ});var aJ,Wk,Vk=T(()=>{c0();aJ=qf(Object.keys,Object),Wk=aJ});function cJ(t){if(!fu(t))return Wk(t);var e=[];for(var i in Object(t))uJ.call(t,i)&&i!="constructor"&&e.push(i);return e}var lJ,uJ,$k,jk=T(()=>{Jf();Vk();lJ=Object.prototype,uJ=lJ.hasOwnProperty;$k=cJ});function dJ(t){return t!=null&&Kf(t.length)&&!Bf(t)}var Qf,P0=T(()=>{f0();_0();Qf=dJ});function pJ(t){return Qf(t)?Zf(t):$k(t)}var mu,em=T(()=>{C0();jk();P0();mu=pJ});function hJ(t,e){return t&&Hs(e,mu(e),t)}var Gk,Kk=T(()=>{Cd();em();Gk=hJ});function fJ(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var Yk,Xk=T(()=>{Yk=fJ});function vJ(t){if(!vo(t))return Yk(t);var e=fu(t),i=[];for(var r in t)r=="constructor"&&(e||!gJ.call(t,r))||i.push(r);return i}var mJ,gJ,Zk,Jk=T(()=>{lu();Jf();Xk();mJ=Object.prototype,gJ=mJ.hasOwnProperty;Zk=vJ});function yJ(t){return Qf(t)?Zf(t,!0):Zk(t)}var gu,tm=T(()=>{C0();Jk();P0();gu=yJ});function bJ(t,e){return t&&Hs(e,gu(e),t)}var Qk,eO=T(()=>{Cd();tm();Qk=bJ});function xJ(t,e){if(e)return t.slice();var i=t.length,r=rO?rO(i):new t.constructor(i);return t.copy(r),r}var nO,tO,wJ,iO,rO,oO,sO=T(()=>{Wn();nO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,tO=nO&&typeof module=="object"&&module&&!module.nodeType&&module,wJ=tO&&tO.exports===nO,iO=wJ?Ci.Buffer:void 0,rO=iO?iO.allocUnsafe:void 0;oO=xJ});function SJ(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}var im,I0=T(()=>{im=SJ});function _J(t,e){for(var i=-1,r=t==null?0:t.length,n=0,o=[];++i<r;){var l=t[i];e(l,i,t)&&(o[n++]=l)}return o}var aO,lO=T(()=>{aO=_J});function EJ(){return[]}var rm,A0=T(()=>{rm=EJ});var CJ,PJ,uO,IJ,vu,nm=T(()=>{lO();A0();CJ=Object.prototype,PJ=CJ.propertyIsEnumerable,uO=Object.getOwnPropertySymbols,IJ=uO?function(t){return t==null?[]:(t=Object(t),aO(uO(t),function(e){return PJ.call(t,e)}))}:rm,vu=IJ});function AJ(t,e){return Hs(t,vu(t),e)}var cO,dO=T(()=>{Cd();nm();cO=AJ});function TJ(t,e){for(var i=-1,r=e.length,n=t.length;++i<r;)t[n+i]=e[i];return t}var om,T0=T(()=>{om=TJ});var MJ,RJ,sm,M0=T(()=>{T0();d0();nm();A0();MJ=Object.getOwnPropertySymbols,RJ=MJ?function(t){for(var e=[];t;)om(e,vu(t)),t=Hf(t);return e}:rm,sm=RJ});function NJ(t,e){return Hs(t,sm(t),e)}var pO,hO=T(()=>{Cd();M0();pO=NJ});function kJ(t,e,i){var r=e(t);return yo(t)?r:om(r,i(t))}var am,R0=T(()=>{T0();pu();am=kJ});function OJ(t){return am(t,mu,vu)}var fO,mO=T(()=>{R0();nm();em();fO=OJ});function DJ(t){return am(t,gu,sm)}var gO,vO=T(()=>{R0();M0();tm();gO=DJ});var LJ,lm,yO=T(()=>{Fs();Wn();LJ=Or(Ci,"DataView"),lm=LJ});var FJ,um,bO=T(()=>{Fs();Wn();FJ=Or(Ci,"Promise"),um=FJ});var zJ,cm,wO=T(()=>{Fs();Wn();zJ=Or(Ci,"Set"),cm=zJ});var qJ,dm,xO=T(()=>{Fs();Wn();qJ=Or(Ci,"WeakMap"),dm=qJ});var SO,HJ,_O,EO,CO,PO,UJ,BJ,WJ,VJ,$J,$a,yu,pm=T(()=>{yO();Vf();bO();wO();xO();su();m0();SO="[object Map]",HJ="[object Object]",_O="[object Promise]",EO="[object Set]",CO="[object WeakMap]",PO="[object DataView]",UJ=Jo(lm),BJ=Jo(zs),WJ=Jo(um),VJ=Jo(cm),$J=Jo(dm),$a=Vn;(lm&&$a(new lm(new ArrayBuffer(1)))!=PO||zs&&$a(new zs)!=SO||um&&$a(um.resolve())!=_O||cm&&$a(new cm)!=EO||dm&&$a(new dm)!=CO)&&($a=function(t){var e=Vn(t),i=e==HJ?t.constructor:void 0,r=i?Jo(i):"";if(r)switch(r){case UJ:return PO;case BJ:return SO;case WJ:return _O;case VJ:return EO;case $J:return CO}return e});yu=$a});function KJ(t){var e=t.length,i=new t.constructor(e);return e&&typeof t[0]=="string"&&GJ.call(t,"index")&&(i.index=t.index,i.input=t.input),i}var jJ,GJ,IO,AO=T(()=>{jJ=Object.prototype,GJ=jJ.hasOwnProperty;IO=KJ});var YJ,N0,TO=T(()=>{Wn();YJ=Ci.Uint8Array,N0=YJ});function XJ(t){var e=new t.constructor(t.byteLength);return new N0(e).set(new N0(t)),e}var bu,hm=T(()=>{TO();bu=XJ});function ZJ(t,e){var i=e?bu(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}var MO,RO=T(()=>{hm();MO=ZJ});function QJ(t){var e=new t.constructor(t.source,JJ.exec(t));return e.lastIndex=t.lastIndex,e}var JJ,NO,kO=T(()=>{JJ=/\w*$/;NO=QJ});function eQ(t){return DO?Object(DO.call(t)):{}}var OO,DO,LO,FO=T(()=>{yd();OO=bn?bn.prototype:void 0,DO=OO?OO.valueOf:void 0;LO=eQ});function tQ(t,e){var i=e?bu(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var zO,qO=T(()=>{hm();zO=tQ});function xQ(t,e,i){var r=t.constructor;switch(e){case cQ:return bu(t);case iQ:case rQ:return new r(+t);case dQ:return MO(t,i);case pQ:case hQ:case fQ:case mQ:case gQ:case vQ:case yQ:case bQ:case wQ:return zO(t,i);case nQ:return new r;case oQ:case lQ:return new r(t);case sQ:return NO(t);case aQ:return new r;case uQ:return LO(t)}}var iQ,rQ,nQ,oQ,sQ,aQ,lQ,uQ,cQ,dQ,pQ,hQ,fQ,mQ,gQ,vQ,yQ,bQ,wQ,HO,UO=T(()=>{hm();RO();kO();FO();qO();iQ="[object Boolean]",rQ="[object Date]",nQ="[object Map]",oQ="[object Number]",sQ="[object RegExp]",aQ="[object Set]",lQ="[object String]",uQ="[object Symbol]",cQ="[object ArrayBuffer]",dQ="[object DataView]",pQ="[object Float32Array]",hQ="[object Float64Array]",fQ="[object Int8Array]",mQ="[object Int16Array]",gQ="[object Int32Array]",vQ="[object Uint8Array]",yQ="[object Uint8ClampedArray]",bQ="[object Uint16Array]",wQ="[object Uint32Array]";HO=xQ});var BO,SQ,WO,VO=T(()=>{lu();BO=Object.create,SQ=function(){function t(){}return function(e){if(!vo(e))return{};if(BO)return BO(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}(),WO=SQ});function _Q(t){return typeof t.constructor=="function"&&!fu(t)?WO(Hf(t)):{}}var $O,jO=T(()=>{VO();d0();Jf();$O=_Q});function CQ(t){return wn(t)&&yu(t)==EQ}var EQ,GO,KO=T(()=>{pm();Va();EQ="[object Map]";GO=CQ});var YO,PQ,XO,ZO=T(()=>{KO();Yf();Xf();YO=es&&es.isMap,PQ=YO?hu(YO):GO,XO=PQ});function AQ(t){return wn(t)&&yu(t)==IQ}var IQ,JO,QO=T(()=>{pm();Va();IQ="[object Set]";JO=AQ});var eD,TQ,tD,iD=T(()=>{QO();Yf();Xf();eD=es&&es.isSet,TQ=eD?hu(eD):JO,tD=TQ});function fm(t,e,i,r,n,o){var l,u=e&MQ,c=e&RQ,d=e&NQ;if(i&&(l=n?i(t,r,n,o):i(t)),l!==void 0)return l;if(!vo(t))return t;var f=yo(t);if(f){if(l=IO(t),!u)return im(t,l)}else{var g=yu(t),v=g==nD||g==FQ;if(Gf(t))return oO(t,u);if(g==oD||g==rD||v&&!n){if(l=c||v?{}:$O(t),!u)return c?pO(t,Qk(l,t)):cO(t,Gk(l,t))}else{if(!Gt[g])return n?t:{};l=HO(t,g,u)}}o||(o=new bk);var S=o.get(t);if(S)return S;o.set(t,l),tD(t)?t.forEach(function(P){l.add(fm(P,e,i,P,t,o))}):XO(t)&&t.forEach(function(P,A){l.set(A,fm(P,e,i,A,t,o))});var E=d?c?gO:fO:c?gu:mu,_=f?void 0:E(t);return xk(_||t,function(P,A){_&&(A=P,P=t[A]),jf(l,A,fm(P,e,i,A,t,o))}),l}var MQ,RQ,NQ,rD,kQ,OQ,DQ,LQ,nD,FQ,zQ,qQ,oD,HQ,UQ,BQ,WQ,VQ,$Q,jQ,GQ,KQ,YQ,XQ,ZQ,JQ,QQ,eee,tee,Gt,mm,k0=T(()=>{wk();Sk();w0();Kk();eO();sO();I0();dO();hO();mO();vO();pm();AO();UO();jO();pu();S0();ZO();lu();iD();em();tm();MQ=1,RQ=2,NQ=4,rD="[object Arguments]",kQ="[object Array]",OQ="[object Boolean]",DQ="[object Date]",LQ="[object Error]",nD="[object Function]",FQ="[object GeneratorFunction]",zQ="[object Map]",qQ="[object Number]",oD="[object Object]",HQ="[object RegExp]",UQ="[object Set]",BQ="[object String]",WQ="[object Symbol]",VQ="[object WeakMap]",$Q="[object ArrayBuffer]",jQ="[object DataView]",GQ="[object Float32Array]",KQ="[object Float64Array]",YQ="[object Int8Array]",XQ="[object Int16Array]",ZQ="[object Int32Array]",JQ="[object Uint8Array]",QQ="[object Uint8ClampedArray]",eee="[object Uint16Array]",tee="[object Uint32Array]",Gt={};Gt[rD]=Gt[kQ]=Gt[$Q]=Gt[jQ]=Gt[OQ]=Gt[DQ]=Gt[GQ]=Gt[KQ]=Gt[YQ]=Gt[XQ]=Gt[ZQ]=Gt[zQ]=Gt[qQ]=Gt[oD]=Gt[HQ]=Gt[UQ]=Gt[BQ]=Gt[WQ]=Gt[JQ]=Gt[QQ]=Gt[eee]=Gt[tee]=!0;Gt[LQ]=Gt[nD]=Gt[VQ]=!1;mm=fm});function ree(t){return mm(t,iee)}var iee,O0,sD=T(()=>{k0();iee=4;O0=ree});function nee(t,e){for(var i=-1,r=t==null?0:t.length,n=Array(r);++i<r;)n[i]=e(t[i],i,t);return n}var gm,D0=T(()=>{gm=nee});function see(t){return typeof t=="symbol"||wn(t)&&Vn(t)==oee}var oee,wu,vm=T(()=>{su();Va();oee="[object Symbol]";wu=see});function L0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(aee);var i=function(){var r=arguments,n=e?e.apply(this,r):r[0],o=i.cache;if(o.has(n))return o.get(n);var l=t.apply(this,r);return i.cache=o.set(n,l)||o,l};return i.cache=new(L0.Cache||Ed),i}var aee,aD,lD=T(()=>{v0();aee="Expected a function";L0.Cache=Ed;aD=L0});function uee(t){var e=aD(t,function(r){return i.size===lee&&i.clear(),r}),i=e.cache;return e}var lee,uD,cD=T(()=>{lD();lee=500;uD=uee});var cee,dee,pee,dD,pD=T(()=>{cD();cee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dee=/\\(\\)?/g,pee=uD(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(cee,function(i,r,n,o){e.push(n?o.replace(dee,"$1"):r||i)}),e}),dD=pee});function fee(t){if(typeof t=="string"||wu(t))return t;var e=t+"";return e=="0"&&1/t==-hee?"-0":e}var hee,hD,fD=T(()=>{vm();hee=1/0;hD=fee});function vD(t){if(typeof t=="string")return t;if(yo(t))return gm(t,vD)+"";if(wu(t))return gD?gD.call(t):"";var e=t+"";return e=="0"&&1/t==-mee?"-0":e}var mee,mD,gD,yD,bD=T(()=>{yd();D0();pu();vm();mee=1/0,mD=bn?bn.prototype:void 0,gD=mD?mD.toString:void 0;yD=vD});function gee(t){return t==null?"":yD(t)}var wD,xD=T(()=>{bD();wD=gee});function vee(t){return yo(t)?gm(t,hD):wu(t)?[t]:im(dD(wD(t)))}var F0,SD=T(()=>{D0();I0();pu();vm();pD();fD();xD();F0=vee});function wee(t){return mm(t,yee|bee)}var yee,bee,_D,ED=T(()=>{k0();yee=1,bee=4;_D=wee});function ja(){return ja=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},ja.apply(this,arguments)}function xee(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function RD(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,o;for(o=0;o<r.length;o++)n=r[o],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function CD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _ee(){var t=hn(ym);return t||by(!1),t}function xu(t,e,i,r){r===void 0&&(r=0);for(var n=F0(e);t&&r<n.length;)t=t[n[r++]];return r!==n.length&&!t||t===void 0?i:t}function z0(t,e,i){for(var r=O0(t),n=r,o=0,l=F0(e);o<l.length-1;o++){var u=l[o],c=xu(t,l.slice(0,o+1));if(c&&(ND(c)||Array.isArray(c)))n=n[u]=O0(c);else{var d=l[o+1];n=n[u]=Eee(d)&&Number(d)>=0?[]:{}}}return(o===0?t:n)[l[o]]===i?t:(i===void 0?delete n[l[o]]:n[l[o]]=i,o===0&&i===void 0&&delete r[l[o]],r)}function kD(t){var e=function(n){return Pt(See,null,function(o){return o||by(!1),Pt(t,ja({},n,{formik:o}))})},i=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+i+")",(0,MD.default)(e,t)}var TD,MD,ym,sSe,See,PD,ID,ND,Eee,Cee,aSe,Pee,Iee,Aee,q0,Tee,Ga,AD,Mee,OD=T(()=>{dN();We();TD=he(xN());eC();sD();SD();MD=he(bh());ED();ym=pn(void 0);ym.displayName="FormikContext";sSe=ym.Provider,See=ym.Consumer;PD=function(e){return Array.isArray(e)&&e.length===0},ID=function(e){return typeof e=="function"},ND=function(e){return e!==null&&typeof e=="object"},Eee=function(e){return String(Math.floor(Number(e)))===e},Cee=function(e){return Ic.count(e)===0};aSe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?oo:Ko,Pee=fn(function(t,e){var i=t.action,r=RD(t,["action"]),n=i??"#",o=_ee(),l=o.handleReset,u=o.handleSubmit;return Pt("form",ja({onSubmit:u,ref:e,onReset:l,action:n},r))});Pee.displayName="Form";Iee=function(e,i,r){var n=Ga(e),o=n[i];return n.splice(i,1),n.splice(r,0,o),n},Aee=function(e,i,r){var n=Ga(e),o=n[i];return n[i]=n[r],n[r]=o,n},q0=function(e,i,r){var n=Ga(e);return n.splice(i,0,r),n},Tee=function(e,i,r){var n=Ga(e);return n[i]=r,n},Ga=function(e){if(e){if(Array.isArray(e))return[].concat(e);var i=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,n){return n>r?n:r},0);return Array.from(ja({},e,{length:i+1}))}else return[]},AD=function(e,i){var r=typeof e=="function"?e:i;return function(n){if(Array.isArray(n)||ND(n)){var o=Ga(n);return r(o)}return n}},Mee=function(t){xee(e,t);function e(r){var n;return n=t.call(this,r)||this,n.updateArrayField=function(o,l,u){var c=n.props,d=c.name,f=c.formik.setFormikState;f(function(g){var v=AD(u,o),S=AD(l,o),E=z0(g.values,d,o(xu(g.values,d))),_=u?v(xu(g.errors,d)):void 0,P=l?S(xu(g.touched,d)):void 0;return PD(_)&&(_=void 0),PD(P)&&(P=void 0),ja({},g,{values:E,errors:u?z0(g.errors,d,_):g.errors,touched:l?z0(g.touched,d,P):g.touched})})},n.push=function(o){return n.updateArrayField(function(l){return[].concat(Ga(l),[_D(o)])},!1,!1)},n.handlePush=function(o){return function(){return n.push(o)}},n.swap=function(o,l){return n.updateArrayField(function(u){return Aee(u,o,l)},!0,!0)},n.handleSwap=function(o,l){return function(){return n.swap(o,l)}},n.move=function(o,l){return n.updateArrayField(function(u){return Iee(u,o,l)},!0,!0)},n.handleMove=function(o,l){return function(){return n.move(o,l)}},n.insert=function(o,l){return n.updateArrayField(function(u){return q0(u,o,l)},function(u){return q0(u,o,null)},function(u){return q0(u,o,null)})},n.handleInsert=function(o,l){return function(){return n.insert(o,l)}},n.replace=function(o,l){return n.updateArrayField(function(u){return Tee(u,o,l)},!1,!1)},n.handleReplace=function(o,l){return function(){return n.replace(o,l)}},n.unshift=function(o){var l=-1;return n.updateArrayField(function(u){var c=u?[o].concat(u):[o];return l=c.length,c},function(u){return u?[null].concat(u):[null]},function(u){return u?[null].concat(u):[null]}),l},n.handleUnshift=function(o){return function(){return n.unshift(o)}},n.handleRemove=function(o){return function(){return n.remove(o)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(CD(n)),n.pop=n.pop.bind(CD(n)),n}var i=e.prototype;return i.componentDidUpdate=function(n){this.props.validateOnChange&&this.props.formik.validateOnChange&&!(0,TD.default)(xu(n.formik.values,n.name),xu(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},i.remove=function(n){var o;return this.updateArrayField(function(l){var u=l?Ga(l):[];return o||(o=u[n]),ID(u.splice)&&u.splice(n,1),ID(u.every)&&u.every(function(c){return c===void 0})?[]:u},!0,!0),o},i.pop=function(){var n;return this.updateArrayField(function(o){var l=o.slice();return n||(n=l&&l.pop&&l.pop()),l},!0,!0),n},i.render=function(){var n={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},o=this.props,l=o.component,u=o.render,c=o.children,d=o.name,f=o.formik,g=RD(f,["validate","validationSchema"]),v=ja({},n,{form:g,name:d});return l?Pt(l,v):u?u(v):c?typeof c=="function"?c(v):Cee(c)?null:Ic.only(c):null},e}(se);Mee.defaultProps={validateOnChange:!0}});var LD=W((uSe,DD)=>{var Ree="__lodash_hash_undefined__";function Nee(t){return this.__data__.set(t,Ree),this}DD.exports=Nee});var zD=W((cSe,FD)=>{function kee(t){return this.__data__.has(t)}FD.exports=kee});var HD=W((dSe,qD)=>{var Oee=Zh(),Dee=LD(),Lee=zD();function bm(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new Oee;++e<i;)this.add(t[e])}bm.prototype.add=bm.prototype.push=Dee;bm.prototype.has=Lee;qD.exports=bm});var BD=W((pSe,UD)=>{function Fee(t,e){for(var i=-1,r=t==null?0:t.length;++i<r;)if(e(t[i],i,t))return!0;return!1}UD.exports=Fee});var VD=W((hSe,WD)=>{function zee(t,e){return t.has(e)}WD.exports=zee});var H0=W((fSe,$D)=>{var qee=HD(),Hee=BD(),Uee=VD(),Bee=1,Wee=2;function Vee(t,e,i,r,n,o){var l=i&Bee,u=t.length,c=e.length;if(u!=c&&!(l&&c>u))return!1;var d=o.get(t),f=o.get(e);if(d&&f)return d==e&&f==t;var g=-1,v=!0,S=i&Wee?new qee:void 0;for(o.set(t,e),o.set(e,t);++g<u;){var E=t[g],_=e[g];if(r)var P=l?r(_,E,g,e,t,o):r(E,_,g,t,e,o);if(P!==void 0){if(P)continue;v=!1;break}if(S){if(!Hee(e,function(A,L){if(!Uee(S,L)&&(E===A||n(E,A,i,r,o)))return S.push(L)})){v=!1;break}}else if(!(E===_||n(E,_,i,r,o))){v=!1;break}}return o.delete(t),o.delete(e),v}$D.exports=Vee});var GD=W((mSe,jD)=>{function $ee(t){var e=-1,i=Array(t.size);return t.forEach(function(r,n){i[++e]=[n,r]}),i}jD.exports=$ee});var YD=W((gSe,KD)=>{function jee(t){var e=-1,i=Array(t.size);return t.forEach(function(r){i[++e]=r}),i}KD.exports=jee});var eL=W((vSe,QD)=>{var XD=ed(),ZD=vb(),Gee=Ul(),Kee=H0(),Yee=GD(),Xee=YD(),Zee=1,Jee=2,Qee="[object Boolean]",ete="[object Date]",tte="[object Error]",ite="[object Map]",rte="[object Number]",nte="[object RegExp]",ote="[object Set]",ste="[object String]",ate="[object Symbol]",lte="[object ArrayBuffer]",ute="[object DataView]",JD=XD?XD.prototype:void 0,U0=JD?JD.valueOf:void 0;function cte(t,e,i,r,n,o,l){switch(i){case ute:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case lte:return!(t.byteLength!=e.byteLength||!o(new ZD(t),new ZD(e)));case Qee:case ete:case rte:return Gee(+t,+e);case tte:return t.name==e.name&&t.message==e.message;case nte:case ste:return t==e+"";case ite:var u=Yee;case ote:var c=r&Zee;if(u||(u=Xee),t.size!=e.size&&!c)return!1;var d=l.get(t);if(d)return d==e;r|=Jee,l.set(t,e);var f=Kee(u(t),u(e),r,n,o,l);return l.delete(t),f;case ate:if(U0)return U0.call(t)==U0.call(e)}return!1}QD.exports=cte});var B0=W((ySe,tL)=>{function dte(t,e){for(var i=-1,r=e.length,n=t.length;++i<r;)t[n+i]=e[i];return t}tL.exports=dte});var W0=W((bSe,iL)=>{var pte=B0(),hte=uo();function fte(t,e,i){var r=e(t);return hte(t)?r:pte(r,i(t))}iL.exports=fte});var nL=W((wSe,rL)=>{function mte(t,e){for(var i=-1,r=t==null?0:t.length,n=0,o=[];++i<r;){var l=t[i];e(l,i,t)&&(o[n++]=l)}return o}rL.exports=mte});var V0=W((xSe,oL)=>{function gte(){return[]}oL.exports=gte});var $0=W((SSe,aL)=>{var vte=nL(),yte=V0(),bte=Object.prototype,wte=bte.propertyIsEnumerable,sL=Object.getOwnPropertySymbols,xte=sL?function(t){return t==null?[]:(t=Object(t),vte(sL(t),function(e){return wte.call(t,e)}))}:yte;aL.exports=xte});var uL=W((_Se,lL)=>{var Ste=yb(),_te=Ste(Object.keys,Object);lL.exports=_te});var dL=W((ESe,cL)=>{var Ete=tf(),Cte=uL(),Pte=Object.prototype,Ite=Pte.hasOwnProperty;function Ate(t){if(!Ete(t))return Cte(t);var e=[];for(var i in Object(t))Ite.call(t,i)&&i!="constructor"&&e.push(i);return e}cL.exports=Ate});var j0=W((CSe,pL)=>{var Tte=Sb(),Mte=dL(),Rte=od();function Nte(t){return Rte(t)?Tte(t):Mte(t)}pL.exports=Nte});var fL=W((PSe,hL)=>{var kte=W0(),Ote=$0(),Dte=j0();function Lte(t){return kte(t,Dte,Ote)}hL.exports=Lte});var vL=W((ISe,gL)=>{var mL=fL(),Fte=1,zte=Object.prototype,qte=zte.hasOwnProperty;function Hte(t,e,i,r,n,o){var l=i&Fte,u=mL(t),c=u.length,d=mL(e),f=d.length;if(c!=f&&!l)return!1;for(var g=c;g--;){var v=u[g];if(!(l?v in e:qte.call(e,v)))return!1}var S=o.get(t),E=o.get(e);if(S&&E)return S==e&&E==t;var _=!0;o.set(t,e),o.set(e,t);for(var P=l;++g<c;){v=u[g];var A=t[v],L=e[v];if(r)var z=l?r(L,A,v,e,t,o):r(A,L,v,t,e,o);if(!(z===void 0?A===L||n(A,L,i,r,o):z)){_=!1;break}P||(P=v=="constructor")}if(_&&!P){var q=t.constructor,H=e.constructor;q!=H&&"constructor"in t&&"constructor"in e&&!(typeof q=="function"&&q instanceof q&&typeof H=="function"&&H instanceof H)&&(_=!1)}return o.delete(t),o.delete(e),_}gL.exports=Hte});var bL=W((ASe,yL)=>{var Ute=Ts(),Bte=Hn(),Wte=Ute(Bte,"DataView");yL.exports=Wte});var xL=W((TSe,wL)=>{var Vte=Ts(),$te=Hn(),jte=Vte($te,"Promise");wL.exports=jte});var _L=W((MSe,SL)=>{var Gte=Ts(),Kte=Hn(),Yte=Gte(Kte,"Set");SL.exports=Yte});var CL=W((RSe,EL)=>{var Xte=Ts(),Zte=Hn(),Jte=Xte(Zte,"WeakMap");EL.exports=Jte});var kL=W((NSe,NL)=>{var G0=bL(),K0=Xh(),Y0=xL(),X0=_L(),Z0=CL(),RL=Oa(),Su=fb(),PL="[object Map]",Qte="[object Object]",IL="[object Promise]",AL="[object Set]",TL="[object WeakMap]",ML="[object DataView]",eie=Su(G0),tie=Su(K0),iie=Su(Y0),rie=Su(X0),nie=Su(Z0),Ka=RL;(G0&&Ka(new G0(new ArrayBuffer(1)))!=ML||K0&&Ka(new K0)!=PL||Y0&&Ka(Y0.resolve())!=IL||X0&&Ka(new X0)!=AL||Z0&&Ka(new Z0)!=TL)&&(Ka=function(t){var e=RL(t),i=e==Qte?t.constructor:void 0,r=i?Su(i):"";if(r)switch(r){case eie:return ML;case tie:return PL;case iie:return IL;case rie:return AL;case nie:return TL}return e});NL.exports=Ka});var UL=W((kSe,HL)=>{var J0=Jh(),oie=H0(),sie=eL(),aie=vL(),OL=kL(),DL=uo(),LL=of(),lie=sf(),uie=1,FL="[object Arguments]",zL="[object Array]",wm="[object Object]",cie=Object.prototype,qL=cie.hasOwnProperty;function die(t,e,i,r,n,o){var l=DL(t),u=DL(e),c=l?zL:OL(t),d=u?zL:OL(e);c=c==FL?wm:c,d=d==FL?wm:d;var f=c==wm,g=d==wm,v=c==d;if(v&&LL(t)){if(!LL(e))return!1;l=!0,f=!1}if(v&&!f)return o||(o=new J0),l||lie(t)?oie(t,e,i,r,n,o):sie(t,e,c,i,r,n,o);if(!(i&uie)){var S=f&&qL.call(t,"__wrapped__"),E=g&&qL.call(e,"__wrapped__");if(S||E){var _=S?t.value():t,P=E?e.value():e;return o||(o=new J0),n(_,P,i,r,o)}}return v?(o||(o=new J0),aie(t,e,i,r,n,o)):!1}HL.exports=die});var Q0=W((OSe,VL)=>{var pie=UL(),BL=Ms();function WL(t,e,i,r,n){return t===e?!0:t==null||e==null||!BL(t)&&!BL(e)?t!==t&&e!==e:pie(t,e,i,r,WL,n)}VL.exports=WL});var jL=W((DSe,$L)=>{var hie=Jh(),fie=Q0(),mie=1,gie=2;function vie(t,e,i,r){var n=i.length,o=n,l=!r;if(t==null)return!o;for(t=Object(t);n--;){var u=i[n];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++n<o;){u=i[n];var c=u[0],d=t[c],f=u[1];if(l&&u[2]){if(d===void 0&&!(c in t))return!1}else{var g=new hie;if(r)var v=r(d,f,c,t,e,g);if(!(v===void 0?fie(f,d,mie|gie,r,g):v))return!1}}return!0}$L.exports=vie});var ew=W((LSe,GL)=>{var yie=lo();function bie(t){return t===t&&!yie(t)}GL.exports=bie});var YL=W((FSe,KL)=>{var wie=ew(),xie=j0();function Sie(t){for(var e=xie(t),i=e.length;i--;){var r=e[i],n=t[r];e[i]=[r,n,wie(n)]}return e}KL.exports=Sie});var tw=W((zSe,XL)=>{function _ie(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==void 0||t in Object(i))}}XL.exports=_ie});var JL=W((qSe,ZL)=>{var Eie=jL(),Cie=YL(),Pie=tw();function Iie(t){var e=Cie(t);return e.length==1&&e[0][2]?Pie(e[0][0],e[0][1]):function(i){return i===t||Eie(i,t,e)}}ZL.exports=Iie});var xm=W((HSe,QL)=>{var Aie=Oa(),Tie=Ms(),Mie="[object Symbol]";function Rie(t){return typeof t=="symbol"||Tie(t)&&Aie(t)==Mie}QL.exports=Rie});var Sm=W((USe,eF)=>{var Nie=uo(),kie=xm(),Oie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Die=/^\w*$/;function Lie(t,e){if(Nie(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||kie(t)?!0:Die.test(t)||!Oie.test(t)||e!=null&&t in Object(e)}eF.exports=Lie});var rF=W((BSe,iF)=>{var tF=Zh(),Fie="Expected a function";function iw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Fie);var i=function(){var r=arguments,n=e?e.apply(this,r):r[0],o=i.cache;if(o.has(n))return o.get(n);var l=t.apply(this,r);return i.cache=o.set(n,l)||o,l};return i.cache=new(iw.Cache||tF),i}iw.Cache=tF;iF.exports=iw});var oF=W((WSe,nF)=>{var zie=rF(),qie=500;function Hie(t){var e=zie(t,function(r){return i.size===qie&&i.clear(),r}),i=e.cache;return e}nF.exports=Hie});var aF=W((VSe,sF)=>{var Uie=oF(),Bie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wie=/\\(\\)?/g,Vie=Uie(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Bie,function(i,r,n,o){e.push(n?o.replace(Wie,"$1"):r||i)}),e});sF.exports=Vie});var rw=W(($Se,lF)=>{function $ie(t,e){for(var i=-1,r=t==null?0:t.length,n=Array(r);++i<r;)n[i]=e(t[i],i,t);return n}lF.exports=$ie});var fF=W((jSe,hF)=>{var uF=ed(),jie=rw(),Gie=uo(),Kie=xm(),Yie=1/0,cF=uF?uF.prototype:void 0,dF=cF?cF.toString:void 0;function pF(t){if(typeof t=="string")return t;if(Gie(t))return jie(t,pF)+"";if(Kie(t))return dF?dF.call(t):"";var e=t+"";return e=="0"&&1/t==-Yie?"-0":e}hF.exports=pF});var gF=W((GSe,mF)=>{var Xie=fF();function Zie(t){return t==null?"":Xie(t)}mF.exports=Zie});var Id=W((KSe,vF)=>{var Jie=uo(),Qie=Sm(),ere=aF(),tre=gF();function ire(t,e){return Jie(t)?t:Qie(t,e)?[t]:ere(tre(t))}vF.exports=ire});var _u=W((YSe,yF)=>{var rre=xm(),nre=1/0;function ore(t){if(typeof t=="string"||rre(t))return t;var e=t+"";return e=="0"&&1/t==-nre?"-0":e}yF.exports=ore});var _m=W((XSe,bF)=>{var sre=Id(),are=_u();function lre(t,e){e=sre(e,t);for(var i=0,r=e.length;t!=null&&i<r;)t=t[are(e[i++])];return i&&i==r?t:void 0}bF.exports=lre});var xF=W((ZSe,wF)=>{var ure=_m();function cre(t,e,i){var r=t==null?void 0:ure(t,e);return r===void 0?i:r}wF.exports=cre});var _F=W((JSe,SF)=>{function dre(t,e){return t!=null&&e in Object(t)}SF.exports=dre});var CF=W((QSe,EF)=>{var pre=Id(),hre=rf(),fre=uo(),mre=ud(),gre=nf(),vre=_u();function yre(t,e,i){e=pre(e,t);for(var r=-1,n=e.length,o=!1;++r<n;){var l=vre(e[r]);if(!(o=t!=null&&i(t,l)))break;t=t[l]}return o||++r!=n?o:(n=t==null?0:t.length,!!n&&gre(n)&&mre(l,n)&&(fre(t)||hre(t)))}EF.exports=yre});var IF=W((e1e,PF)=>{var bre=_F(),wre=CF();function xre(t,e){return t!=null&&wre(t,e,bre)}PF.exports=xre});var TF=W((t1e,AF)=>{var Sre=Q0(),_re=xF(),Ere=IF(),Cre=Sm(),Pre=ew(),Ire=tw(),Are=_u(),Tre=1,Mre=2;function Rre(t,e){return Cre(t)&&Pre(e)?Ire(Are(t),e):function(i){var r=_re(i,t);return r===void 0&&r===e?Ere(i,t):Sre(e,r,Tre|Mre)}}AF.exports=Rre});var RF=W((i1e,MF)=>{function Nre(t){return function(e){return e?.[t]}}MF.exports=Nre});var kF=W((r1e,NF)=>{var kre=_m();function Ore(t){return function(e){return kre(e,t)}}NF.exports=Ore});var DF=W((n1e,OF)=>{var Dre=RF(),Lre=kF(),Fre=Sm(),zre=_u();function qre(t){return Fre(t)?Dre(zre(t)):Lre(t)}OF.exports=qre});var nw=W((o1e,LF)=>{var Hre=JL(),Ure=TF(),Bre=lf(),Wre=uo(),Vre=DF();function $re(t){return typeof t=="function"?t:t==null?Bre:typeof t=="object"?Wre(t)?Ure(t[0],t[1]):Hre(t):Vre(t)}LF.exports=$re});var zF=W((s1e,FF)=>{var jre="Expected a function";function Gre(t){if(typeof t!="function")throw new TypeError(jre);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}FF.exports=Gre});var UF=W((a1e,HF)=>{var Kre=xb(),Yre=Id(),Xre=ud(),qF=lo(),Zre=_u();function Jre(t,e,i,r){if(!qF(t))return t;e=Yre(e,t);for(var n=-1,o=e.length,l=o-1,u=t;u!=null&&++n<o;){var c=Zre(e[n]),d=i;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(n!=l){var f=u[c];d=r?r(f,c,u):void 0,d===void 0&&(d=qF(f)?f:Xre(e[n+1])?[]:{})}Kre(u,c,d),u=u[c]}return t}HF.exports=Jre});var WF=W((l1e,BF)=>{var Qre=_m(),ene=UF(),tne=Id();function ine(t,e,i){for(var r=-1,n=e.length,o={};++r<n;){var l=e[r],u=Qre(t,l);i(u,l)&&ene(o,tne(l,t),u)}return o}BF.exports=ine});var $F=W((u1e,VF)=>{var rne=B0(),nne=ef(),one=$0(),sne=V0(),ane=Object.getOwnPropertySymbols,lne=ane?function(t){for(var e=[];t;)rne(e,one(t)),t=nne(t);return e}:sne;VF.exports=lne});var GF=W((c1e,jF)=>{var une=W0(),cne=$F(),dne=af();function pne(t){return une(t,dne,cne)}jF.exports=pne});var YF=W((d1e,KF)=>{var hne=rw(),fne=nw(),mne=WF(),gne=GF();function vne(t,e){if(t==null)return{};var i=hne(gne(t),function(r){return[r]});return e=fne(e),mne(t,i,function(r,n){return e(r,n[0])})}KF.exports=vne});var ZF=W((p1e,XF)=>{var yne=nw(),bne=zF(),wne=YF();function xne(t,e){return wne(t,bne(yne(e)))}XF.exports=xne});var JF,QF,ow,Sne,e2=T(()=>{We();OD();JF=he(ZF()),QF=he(xe()),ow=class extends Be.Component{render(){return null}componentDidUpdate(e){if(!QF.default.isEqual(e.formik.initialValues,this.props.formik.initialValues))return;let i=(0,JF.default)(this.props.formik.values,function(r,n){return e.formik.values[n]===r});Object.keys(i).length>0&&this.props.onChange(i,this.props.formik)}},Sne=kD(ow)});var sw=T(()=>{e2();Ne();Rs()});var t2=W((b1e,aw)=>{(function(){function t(E,_){document.addEventListener?E.addEventListener("scroll",_,!1):E.attachEvent("scroll",_)}function e(E){document.body?E():document.addEventListener?document.addEventListener("DOMContentLoaded",function _(){document.removeEventListener("DOMContentLoaded",_),E()}):document.attachEvent("onreadystatechange",function _(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",_),E())})}function i(E){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(E)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function r(E,_){E.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+_+";"}function n(E){var _=E.g.offsetWidth,P=_+100;return E.j.style.width=P+"px",E.i.scrollLeft=P,E.h.scrollLeft=E.h.scrollWidth+100,E.l!==_?(E.l=_,!0):!1}function o(E,_){function P(){var L=A;n(L)&&L.g.parentNode!==null&&_(L.l)}var A=E;t(E.h,P),t(E.i,P),n(E)}function l(E,_,P){_=_||{},P=P||window,this.family=E,this.style=_.style||"normal",this.weight=_.weight||"normal",this.stretch=_.stretch||"normal",this.context=P}var u=null,c=null,d=null,f=null;function g(E){return c===null&&(v(E)&&/Apple/.test(window.navigator.vendor)?(E=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!E&&603>parseInt(E[1],10)):c=!1),c}function v(E){return f===null&&(f=!!E.document.fonts),f}function S(E,_){var P=E.style,A=E.weight;if(d===null){var L=document.createElement("div");try{L.style.font="condensed 100px sans-serif"}catch{}d=L.style.font!==""}return[P,A,d?E.stretch:"","100px",_].join(" ")}l.prototype.load=function(E,_){var P=this,A=E||"BESbswy",L=0,z=_||3e3,q=new Date().getTime();return new Promise(function(H,re){if(v(P.context)&&!g(P.context)){var Q=new Promise(function(ee,ue){function J(){new Date().getTime()-q>=z?ue(Error(""+z+"ms timeout exceeded")):P.context.document.fonts.load(S(P,'"'+P.family+'"'),A).then(function(G){1<=G.length?ee():setTimeout(J,25)},ue)}J()}),O=new Promise(function(ee,ue){L=setTimeout(function(){ue(Error(""+z+"ms timeout exceeded"))},z)});Promise.race([O,Q]).then(function(){clearTimeout(L),H(P)},re)}else e(function(){function ee(){var te;(te=V!=-1&&K!=-1||V!=-1&&Y!=-1||K!=-1&&Y!=-1)&&((te=V!=K&&V!=Y&&K!=Y)||(u===null&&(te=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),u=!!te&&(536>parseInt(te[1],10)||parseInt(te[1],10)===536&&11>=parseInt(te[2],10))),te=u&&(V==oe&&K==oe&&Y==oe||V==$&&K==$&&Y==$||V==U&&K==U&&Y==U)),te=!te),te&&(X.parentNode!==null&&X.parentNode.removeChild(X),clearTimeout(L),H(P))}function ue(){if(new Date().getTime()-q>=z)X.parentNode!==null&&X.parentNode.removeChild(X),re(Error(""+z+"ms timeout exceeded"));else{var te=P.context.document.hidden;(te===!0||te===void 0)&&(V=J.g.offsetWidth,K=G.g.offsetWidth,Y=D.g.offsetWidth,ee()),L=setTimeout(ue,50)}}var J=new i(A),G=new i(A),D=new i(A),V=-1,K=-1,Y=-1,oe=-1,$=-1,U=-1,X=document.createElement("div");X.dir="ltr",r(J,S(P,"sans-serif")),r(G,S(P,"serif")),r(D,S(P,"monospace")),X.appendChild(J.g),X.appendChild(G.g),X.appendChild(D.g),P.context.document.body.appendChild(X),oe=J.g.offsetWidth,$=G.g.offsetWidth,U=D.g.offsetWidth,ue(),o(J,function(te){V=te,ee()}),r(J,S(P,'"'+P.family+'",sans-serif')),o(G,function(te){K=te,ee()}),r(G,S(P,'"'+P.family+'",serif')),o(D,function(te){Y=te,ee()}),r(D,S(P,'"'+P.family+'",monospace'))})})},typeof aw=="object"?aw.exports=l:(window.FontFaceObserver=l,window.FontFaceObserver.prototype.load=l.prototype.load)})()});var i2,r2,lw,n2,o2=T(()=>{_e();i2=he(xe(),1);sw();r2=he(t2(),1);ne();lw=class extends se{constructor(e){super(e),this.state={parentWidth:{},width:{},scale:1,fontFamily:null}}render(e,i){let r=!!e.baseNode?.getAttribute("style")?.includes("line-height"),n=window.getComputedStyle(e.baseNode),o=n.letterSpacing,l=n.direction,u="0px";return o.includes("-")&&(u=o.replace("-","")),m(ie,{children:[m("span",{class:"fit-text",children:e.children}),m("style",{children:`
					:host { 
                        white-space: nowrap!important;
                        display: inline-block!important;
                        --font-scale: ${this.state.scale}!important;
                        ${r?"":"line-height: 1!important;"}
                        animation: none!important;
                        will-change: transform;
                    --rotate-transform: 0deg!important;
                    }
                    .fit-text {
                        padding${l==="ltr"?"-right":"-left"}: ${u}!important;
                    }
				`})]})}locateFitText=()=>{if(!this.props.baseNode||!this.props.baseNode.parentElement)return;let e=this.props.baseNode.parentElement.getBoundingClientRect().width,i=this.props.baseNode.getBoundingClientRect().width;this.setState({parentWidth:e,width:i})};handleResize=()=>{this.locateFitText()};handleFontLoad=()=>{setTimeout(()=>{this.locateFitText()},200)};refreshFontFamily=()=>{let i=window.getComputedStyle(this.props.baseNode).fontFamily.split(",");i=i.map(r=>r.trim()),i=i.map(r=>r.replace(/['"]+/g,"")),i[0]!==this.state.fontFamily&&this.setState({fontFamily:i[0]})};componentDidMount(){this.state.fontFamily||this.refreshFontFamily(),window.addEventListener("resize",this.handleResize),new MutationObserver(i=>{i2.default.find(i,r=>{if(r.target.contains(this.props.baseNode||r.target===this.props.baseNode)||r.type==="attributes"&&r.attributeName==="uses"&&r.target?.getAttribute("uses")?.includes("fit-text")===!0)return!0;if(r.target.tagName==="STYLE")return r.target.textContent.includes("font-family")&&this.refreshFontFamily(),!0})&&this.locateFitText()}).observe(document,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("keyup",()=>{let i=window.CargoEditor.getActiveRange();(i.startContainer===this.props.baseNode||i.startContainer.parentElement===this.props.baseNode)&&this.locateFitText()}),this.locateFitText()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(e,i){if(i.fontFamily!==this.state.fontFamily&&new r2.default(this.state.fontFamily).load().then(()=>{this.handleFontLoad()}).catch(()=>{this.handleFontLoad()}),i.scale!==this.state.scale){let r=this.state.scale-i.scale;if(r>.1||r<-.1){this.locateFitText();return}}if(i.parentWidth!==this.state.parentWidth||i.width!==this.state.width){let r=this.state.parentWidth/(this.state.width/this.state.scale);this.setState({scale:r});return}if(e.baseNode!==this.props.baseNode){this.locateFitText();return}}},n2=lw});var Ad,Em,xn,uw,Cm,Ya=T(()=>{_e();We();Ad=he(xe(),1);Ne();go();_r();UR();VR();YR();JR();eN();rN();oN();aN();cN();o2();ho();ne();Em=new Set,xn=class extends se{constructor(e){switch(super(e),le||(this.observer=new MutationObserver(this.onAttributeChange)),this.usesOrder=["blink","dropshadow","drag","fit-text","rotation","eye-roll","scroll-animate","flying-object","inline-part-styles"],this.state={attributes:this.getAttributes()},this.usesKeys={rotation:WR,"eye-roll":HR,drag:QR,"scroll-transition":ZR,"flying-object":KR,dropshadow:iN,background:nN,"inline-part-styles":sN,blink:uN,"fit-text":n2},this.props.baseNode.tagName){case"DIV":case"SPAN":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":case"H8":case"H9":this.displayInlineBlock=!0;break;default:this.displayInlineBlock=!1;break}}render(e,i){let r=e.customElementMode?this.props.children:m("slot",{});if(i.attributes.uses.length==0)return m(ie,{children:[m("style",{id:"uses-host",children:`
			:host {
				transform-origin: center center;
				transform: var(--base-translate, translate(0));
			}
			`}),r]},"uses-fragment");let n=[];i.attributes.uses.forEach((u,c)=>{this.usesKeys[u]&&this.usesKeys[u].transformSlot&&n.push(this.usesKeys[u].transformSlot)}),i.attributes.uses.forEach((u,c)=>{this.usesKeys[u]&&(r=Pt(this.props.customElementMode?this.usesKeys[u]:po(this.usesKeys[u]),{...this.state.attributes,...this.props,lowestLevel:c==0,baseNode:this.props.baseNode,children:r,transformSlots:n}))});let o=!!i.attributes.uses.includes("fit-text"),l=m(ie,{children:[this.props.adminMode&&!e.customElementMode&&o===!1&&m(qi,{baseNode:this.props.baseNode}),m("style",{id:"uses-host",children:`
			:host(span){
				display: inline-block;
			}

			:host {
				position: relative;
				transform-origin: center center;
				transform: var(--base-translate, translate(0)) ${n.map(u=>`var(${u}, translate(0))`).join(" ")};
				${this.displayInlineBlock?"display: inline-block;":""}
			}

			${this.props.adminMode&&!e.customElementMode&&o===!1?`:host::selection {
				background: none;
			}`:""}
			`}),r]},"uses-fragment");return e.customElementMode?l:Ke(l,this.props.baseNode.shadowRoot)}componentDidMount(){this.observer?.observe(this.props.baseNode,{attributes:!0})}componentDidUpdate(e,i){e.uses!==this.props.uses&&this.setState({attributes:this.getAttributes()})}componentWillUnmount(){this.observer?.disconnect()}getAttributes=()=>{let e={};for(let[r,n]of Object.entries(this.state?.attributes||{}))e[r]=void 0;let i=[...this.props.baseNode.attributes].reduce((r,n)=>(r[n.name]=n.value,r),{});for(let[r,n]of Object.entries(i))n==="false"?i[r]=!1:n==="true"&&(i[r]=!0);return this.props.customElementMode&&(i.uses=(i.uses||"")+" "+this.props.uses),i.uses=i.uses?.split(" ")||[],i.uses=Ad.default.uniq(i.uses),i.uses.sort((r,n)=>this.usesOrder.indexOf(r)<this.usesOrder.indexOf(n)?-1:1),{...e,...i}};onAttributeChange=e=>{if(!e.some(n=>n.attributeName!=="style"&&n.attributeName!=="class"))return;let r=this.getAttributes();if(r.uses.length===0){if(this.props.removeFromUseList&&!this.props.customElementMode){this.props.removeFromUseList(this.props.baseNode);return}}else Ad.default.isEqual(this.state.attributes,r)||this.setState({attributes:r})}};xn.defaultProps={uses:[]};uw=class extends se{constructor(e){super(e),this.mutationsList=[],this.hasRunFirstMutationSummary=!1,!le&&!this.props.customElementMode&&(this.observer=new MutationObserver(this.onMutation))}render(){return this.props.children}componentDidMount(){let e=Array.from(this.props.bodycopyRef.current.querySelectorAll("[uses]"));e=e.filter(i=>!window.customElements.get(i.tagName.toLowerCase())),e.forEach(this.addToUseList),this.observer?.observe(this.props.bodycopyRef.current,{attributes:!0,subtree:!0,childList:!0,attributeFilter:["uses"],attributeOldValue:!0})}componentWillUnmount(){this.observer?.disconnect(),Array.from(this.props.bodycopyRef.current.querySelectorAll("[uses]")).forEach(this.removeFromUseList)}onMutation=e=>{this.mutationsList.push(...e),cancelAnimationFrame(this.onSummaryAnimationFrame),this.hasRunFirstMutationSummary?this.onSummaryAnimationFrame=requestAnimationFrame(this.onSummary):(this.onSummary(),this.hasRunFirstMutationSummary=!0)};onSummary=()=>{let e=this.mutationsList,i=[],r=[];e.forEach(n=>{let o=Array.from(n.addedNodes),l=Array.from(n.removedNodes);o.forEach(u=>{u.nodeType===Node.ELEMENT_NODE&&(i=[...i,...Array.from(u.querySelectorAll("[uses]"))])}),l.forEach(u=>{u.nodeType===Node.ELEMENT_NODE&&(r=[...r,...Array.from(u.querySelectorAll("[uses]"))])}),i=[...i,...o.filter(u=>u.hasAttribute?.("uses"))],r=[...r,...l.filter(u=>u.hasAttribute?.("uses"))],n.type==="attributes"&&(n.oldValue===null?i.push(n.target):n.target.getAttribute("uses")===null&&r.push(n.target))}),i=Ad.default.uniq(i),r=Ad.default.uniq(r),i=i.filter(n=>!window.customElements.get(n.tagName.toLowerCase())),r=r.filter(n=>!window.customElements.get(n.tagName.toLowerCase())),i=i.filter(n=>n.hasAttribute("uses")),r=r.filter(n=>!n.hasAttribute("uses")),i.forEach(this.addToUseList),r.forEach(this.removeFromUseList),this.mutationsList=[]};addToUseList=e=>{if(e.nodeType!==Node.ELEMENT_NODE)return;if(!e.shadowRoot)try{e.attachShadow({mode:"open"})}catch{CargoEditor?.mutationManager?.execute(()=>{let n={};e.hasAttribute("uses")&&(n.uses=e.getAttribute("uses")),e.hasAttribute("rotation")&&(n.rotation=e.getAttribute("rotation")),e.hasAttribute("animate")&&(n.animate=e.getAttribute("animate")),e.hasAttribute("scroll-transition")&&(n["scroll-transition"]=e.getAttribute("scroll-transition"));let o=document.createElement("span");for(let u in n)o.setAttribute(u,n[u]);e.parentNode.insertBefore(o,e);let l=CargoEditor?.getActiveRange();CargoEditor.helpers.movePreservingRanges(e,o,-1,l),o.attachShadow({mode:"open"}),e.removeAttribute("scroll-transition"),e.removeAttribute("uses"),e.removeAttribute("animate"),e.removeAttribute("rotation"),e=o});return}Em.has(e)||Em.add(e);let i={component:m(xn,{customElementMode:!1,baseNode:e,adminMode:this.props.adminMode,removeFromUseList:this.removeFromUseList}),element:e,portalHost:null};Tt(e,"custom-element-connected",i),this.portalHost=i.portalHost};removeFromUseList=e=>{if(Tt(e,"custom-element-disconnected",{component:null,element:e,portalHost:this.portalHost}),Em.has(e)&&(Em.delete(e),e.shadowRoot&&document.body.contains(e)))if(CargoEditor?.mutationManager)CargoEditor?.mutationManager?.execute(()=>{let i=document.createElement("div");i.innerHTML=e.outerHTML,e.replaceWith(i.childNodes[0])});else{let i=document.createElement("div");i.innerHTML=e.outerHTML,e.replaceWith(i.childNodes[0])}}},Cm=uw});var Td={};ti(Td,{default:()=>_ne});var cw,_ne,s2=T(()=>{Ne();cw={name:"wallpaper",excludeFromShuffle:!0,options:[{labelName:"Image",name:"activeImage",type:"image",value:"default"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"image-fit",type:"radio",value:"fill",values:[{labelName:"Fill Window",value:"fill"},{labelName:"Fit Window",value:"fit"}]},{labelName:"Display as Slideshow",name:"cycle-group",type:"details-menu",toggle:{name:"cycle-images",type:"check-box",value:!1},children:[{labelName:void 0,name:"transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"}]},{labelName:"Autoplay",name:"autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"autoplay-delay",type:"range-input",value:3,min:0,max:20,step:.1},{labelName:"Transition Speed",name:"transition-speed",type:"range-input",value:.8,min:0,max:10,step:.1},{labelName:"Randomize Order",name:"shuffle",type:"check-box",value:!1},{labelName:"Navigation",name:"navigation",type:"check-box",value:!1}]},{labelName:"Opacity",name:"opacity",type:"range-input",value:1,min:0,max:1,step:.01,excludeFromShuffle:!0},{type:"color",labelName:"Background Color",name:"bg-color",value:"transparent",showField:!0},{labelName:"Margin",name:"margin",type:"scrubber",value:"0",addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",allowedUnits:["px","%","em","rem","vmin","vmax","vw","vh"],excludeFromShuffle:!0,min:0,max:{"%":50,vh:50,vw:50,vmin:100,vmax:50}},{name:"alignments",type:"custom",value:null}]};cw.defaults=lt(cw.options);_ne=cw});var Md={};ti(Md,{default:()=>Ene});var Pm,Ene,a2=T(()=>{Ne();Pm={name:"gradient",options:[{type:"custom",name:"gradient-preset"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{name:"gradient-type",type:"radio",value:"linear",values:[{labelName:"Linear",value:"linear"},{labelName:"Radial",value:"radial"}]},{type:"checkbox-color",checkbox:{labelName:"Color One",name:"color-one-active",type:"check-box",value:!0},color:{type:"color",labelName:"Color One",name:"color-one",value:"#f2c409",requirements:[{option:"color-one-active",shouldBe:!0}]}},{type:"checkbox-color",checkbox:{labelName:"Color Two",name:"color-two-active",type:"check-box",value:!1},color:{type:"color",labelName:"Color Two",name:"color-two",value:"#02ff00",requirements:[{option:"color-two-active",shouldBe:!0}]}},{type:"checkbox-color",checkbox:{labelName:"Color Three",name:"color-three-active",type:"check-box",value:!0},color:{type:"color",labelName:"Color Three",name:"color-three",value:"#fe2201",requirements:[{option:"color-three-active",shouldBe:!0}]}},{type:"spacer"},{type:"group",className:"grid-columns-even",requirements:[{option:"gradient-type",shouldBe:"radial"}],children:[{labelName:"X",name:"pos-x",type:"scrubber",numberOnlyMode:!0,suffix:"%",requirements:[{option:"gradient-type",shouldBe:"radial"}],value:0,min:-150,max:150,step:.5},{labelName:"Y",name:"pos-y",type:"scrubber",numberOnlyMode:!0,suffix:"%",requirements:[{option:"gradient-type",shouldBe:"radial"}],value:0,min:-150,max:150,step:.5}]},{labelName:"Rotation",name:"rotation",type:"scrubber",suffix:"\xB0",requirements:[{option:"gradient-type",shouldBe:"linear"}],loopValues:!0,numberOnlyMode:!0,value:0,min:0,max:360,step:1},{labelName:"Smoothness",name:"smoothness",type:"scrubber",numberOnlyMode:!0,suffix:"%",value:50,min:0,max:100,step:.1},{labelName:"Scale",name:"scale",type:"scrubber",numberOnlyMode:!0,suffix:"%",value:50,min:.1,max:100,step:.1},{type:"group",className:"grid-columns-even",children:[{labelName:"Repeat",name:"repeat",type:"check-box",value:!1},{labelName:"Animation",name:"animation-speed",type:"range-input",requirements:[{option:"repeat",shouldBe:!0}],renderWhenDisabled:!0,value:0,min:-100,max:100,step:1}]}]};Pm.defaults=lt(Pm.options);Pm.customShuffle=t=>{let e={...t},i=Math.floor(Math.random()*256),r=Math.floor(Math.random()*256),n=Math.floor(Math.random()*256);switch(Math.floor(Math.random()*20)){case 0:i=r=n=0;break;case 1:i=r=n=255;break;case 2:case 3:i=r=n;break}e["color-one"]="rgb("+i+", "+r+", "+n+")";let l=[];if(Math.random()>.3)for(var u=0;u<3;u++)l.push(Math.random()*240+-120);else l[0]=l[1]=l[2]=Math.random()*240+-120;let c=Math.floor(i+l[0]+1024)%256,d=Math.floor(r+l[1]+1024)%256,f=Math.floor(n+l[2]+1024)%256;e["color-two"]="rgb("+c+", "+d+", "+f+")";let g=Math.floor((i+l[0]+1024)*2)%256,v=Math.floor((r+l[1]+1024)*2)%256,S=Math.floor((n+l[2]+1024)*2)%256;return e["color-three"]="rgb("+g+", "+v+", "+S+")",e["color-one-active"]=!0,Math.random()>.4?(e["color-two-active"]=!0,e["color-three-active"]=!0):Math.random()>.4?(e["color-two-active"]=!0,e["color-three-active"]=!1):e["color-three-active"]=!0,Math.random()>.5&&(e["animation-speed"]=0),Math.random()>.5&&(e.rotation=Math.round(e.rotation/45)*45),Math.random()>.5&&(e["pos-x"]=0),Math.random()>.5&&(e["pos-y"]=0),Math.random()>.8&&(e.smoothness=100),e};Ene=Pm});var pw={};ti(pw,{default:()=>Pne,onChangeCustom:()=>Cne});var Y1e,Cne,dw,Pne,l2=T(()=>{Ne();Y1e=he(xe()),Cne=(t,e,i)=>{let r={};for(let[o,l]of Object.entries(e))t[o]!=l&&(r[o]=l);let n=JSON.parse(e.filters);for(let[o,l]of Object.entries(r))switch(o){case"filters":i.UpdateFilters(n);break;case"rgb":case"film":case"badtv":i.ToggleComponent(n);break;case"image":i.UpdateImage(l);break;default:i.UpdateSettings(e)}},dw={name:"badtv",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Bad TV",name:"badtv-group",type:"details-menu",toggle:{name:"badtv",type:"check-box",value:!0},children:[{name:"distortion",labelName:"Thick Distortion",type:"range-input",value:3,min:.1,max:10,step:.1,interactive:!0,noisePosn:1,randMin:2.8,randMax:3.2,randRange:"low"},{name:"distortion2",labelName:"Fine Distortion",type:"range-input",value:1,min:.1,max:10,step:.1,noisePosn:20,randMin:1,randMax:5,automate:!0},{name:"speed",labelName:"Distortion Speed",type:"range-input",value:.1,min:0,max:.3,step:.01,noisePosn:40,randMin:0,randMax:.1,randRange:"low"},{name:"rollSpeed",labelName:"Roll Speed",type:"range-input",value:.05,min:0,max:.2,step:.01,noisePosn:50,randMin:0,randMax:.6,randRange:"low"}]},{labelName:"RGB Shift",name:"rgb-group",type:"details-menu",toggle:{name:"rgb",type:"check-box",value:!0},children:[{name:"amount",labelName:"Amount",type:"range-input",value:.005,min:0,max:.1,step:.001,interactive:!0,noisePosn:60,randMin:0,randMax:.025,randRange:"low"},{name:"angle",labelName:"Angle",type:"range-input",value:0,min:0,max:6.28,step:.01,noisePosn:80,randMin:0,randMax:6.28,automate:!0}]},{labelName:"Scanlines",name:"film-group",type:"details-menu",toggle:{name:"film",type:"check-box",value:!0},children:[{name:"sCount",labelName:"Amount",value:800,type:"range-input",min:400,max:1e3,step:1,noisePosn:90,randMin:650,randMax:1e3,randRange:"high"},{name:"sIntensity",labelName:"Strength",value:.95,type:"range-input",min:0,max:2,step:.01},{name:"nIntensity",labelName:"Noise",value:.28,type:"range-input",min:0,max:2,step:.01}]},{type:"spacer"},{labelName:"Automate",name:"automate",type:"check-box",value:!1},{labelName:"Interactive",name:"interactive",type:"check-box",value:!1}]};dw.defaults=lt(dw.options);Pne=dw});function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function Me(t,e){if(t=t||"",e=e||{},t instanceof Me)return t;if(!(this instanceof Me))return new Me(t,e);var i=Tne(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||i.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}function Tne(t){var e={r:0,g:0,b:0},i=1,r=null,n=null,o=null,l=!1,u=!1;return typeof t=="string"&&(t=Yne(t)),Im(t)=="object"&&(ts(t.r)&&ts(t.g)&&ts(t.b)?(e=Mne(t.r,t.g,t.b),l=!0,u=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ts(t.h)&&ts(t.s)&&ts(t.v)?(r=Rd(t.s),n=Rd(t.v),e=Nne(t.h,r,n),l=!0,u="hsv"):ts(t.h)&&ts(t.s)&&ts(t.l)&&(r=Rd(t.s),o=Rd(t.l),e=Rne(t.h,r,o),l=!0,u="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=m2(i),{ok:l,format:t.format||u,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:i}}function Mne(t,e,i){return{r:ni(t,255)*255,g:ni(e,255)*255,b:ni(i,255)*255}}function u2(t,e,i){t=ni(t,255),e=ni(e,255),i=ni(i,255);var r=Math.max(t,e,i),n=Math.min(t,e,i),o,l,u=(r+n)/2;if(r==n)o=l=0;else{var c=r-n;switch(l=u>.5?c/(2-r-n):c/(r+n),r){case t:o=(e-i)/c+(e<i?6:0);break;case e:o=(i-t)/c+2;break;case i:o=(t-e)/c+4;break}o/=6}return{h:o,s:l,l:u}}function Rne(t,e,i){var r,n,o;t=ni(t,360),e=ni(e,100),i=ni(i,100);function l(d,f,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?d+(f-d)*6*g:g<1/2?f:g<2/3?d+(f-d)*(2/3-g)*6:d}if(e===0)r=n=o=i;else{var u=i<.5?i*(1+e):i+e-i*e,c=2*i-u;r=l(c,u,t+1/3),n=l(c,u,t),o=l(c,u,t-1/3)}return{r:r*255,g:n*255,b:o*255}}function c2(t,e,i){t=ni(t,255),e=ni(e,255),i=ni(i,255);var r=Math.max(t,e,i),n=Math.min(t,e,i),o,l,u=r,c=r-n;if(l=r===0?0:c/r,r==n)o=0;else{switch(r){case t:o=(e-i)/c+(e<i?6:0);break;case e:o=(i-t)/c+2;break;case i:o=(t-e)/c+4;break}o/=6}return{h:o,s:l,v:u}}function Nne(t,e,i){t=ni(t,360)*6,e=ni(e,100),i=ni(i,100);var r=Math.floor(t),n=t-r,o=i*(1-e),l=i*(1-n*e),u=i*(1-(1-n)*e),c=r%6,d=[i,l,o,o,u,i][c],f=[u,i,i,l,o,o][c],g=[o,o,u,i,i,l][c];return{r:d*255,g:f*255,b:g*255}}function d2(t,e,i,r){var n=[jn(Math.round(t).toString(16)),jn(Math.round(e).toString(16)),jn(Math.round(i).toString(16))];return r&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function kne(t,e,i,r,n){var o=[jn(Math.round(t).toString(16)),jn(Math.round(e).toString(16)),jn(Math.round(i).toString(16)),jn(g2(r))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function p2(t,e,i,r){var n=[jn(g2(r)),jn(Math.round(t).toString(16)),jn(Math.round(e).toString(16)),jn(Math.round(i).toString(16))];return n.join("")}function One(t,e){e=e===0?0:e||10;var i=Me(t).toHsl();return i.s-=e/100,i.s=Am(i.s),Me(i)}function Dne(t,e){e=e===0?0:e||10;var i=Me(t).toHsl();return i.s+=e/100,i.s=Am(i.s),Me(i)}function Lne(t){return Me(t).desaturate(100)}function Fne(t,e){e=e===0?0:e||10;var i=Me(t).toHsl();return i.l+=e/100,i.l=Am(i.l),Me(i)}function zne(t,e){e=e===0?0:e||10;var i=Me(t).toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(e/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(e/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(e/100)))),Me(i)}function qne(t,e){e=e===0?0:e||10;var i=Me(t).toHsl();return i.l-=e/100,i.l=Am(i.l),Me(i)}function Hne(t,e){var i=Me(t).toHsl(),r=(i.h+e)%360;return i.h=r<0?360+r:r,Me(i)}function Une(t){var e=Me(t).toHsl();return e.h=(e.h+180)%360,Me(e)}function h2(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var i=Me(t).toHsl(),r=[Me(t)],n=360/e,o=1;o<e;o++)r.push(Me({h:(i.h+o*n)%360,s:i.s,l:i.l}));return r}function Bne(t){var e=Me(t).toHsl(),i=e.h;return[Me(t),Me({h:(i+72)%360,s:e.s,l:e.l}),Me({h:(i+216)%360,s:e.s,l:e.l})]}function Wne(t,e,i){e=e||6,i=i||30;var r=Me(t).toHsl(),n=360/i,o=[Me(t)];for(r.h=(r.h-(n*e>>1)+720)%360;--e;)r.h=(r.h+n)%360,o.push(Me(r));return o}function Vne(t,e){e=e||6;for(var i=Me(t).toHsv(),r=i.h,n=i.s,o=i.v,l=[],u=1/e;e--;)l.push(Me({h:r,s:n,v:o})),o=(o+u)%1;return l}function jne(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}function m2(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function ni(t,e){Gne(t)&&(t="100%");var i=Kne(t);return t=Math.min(e,Math.max(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Am(t){return Math.min(1,Math.max(0,t))}function Qr(t){return parseInt(t,16)}function Gne(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function Kne(t){return typeof t=="string"&&t.indexOf("%")!=-1}function jn(t){return t.length==1?"0"+t:""+t}function Rd(t){return t<=1&&(t=t*100+"%"),t}function g2(t){return Math.round(parseFloat(t)*255).toString(16)}function f2(t){return Qr(t)/255}function ts(t){return!!$n.CSS_UNIT.exec(t)}function Yne(t){t=t.replace(Ine,"").replace(Ane,"").toLowerCase();var e=!1;if(hw[t])t=hw[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=$n.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=$n.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=$n.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=$n.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=$n.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=$n.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=$n.hex8.exec(t))?{r:Qr(i[1]),g:Qr(i[2]),b:Qr(i[3]),a:f2(i[4]),format:e?"name":"hex8"}:(i=$n.hex6.exec(t))?{r:Qr(i[1]),g:Qr(i[2]),b:Qr(i[3]),format:e?"name":"hex"}:(i=$n.hex4.exec(t))?{r:Qr(i[1]+""+i[1]),g:Qr(i[2]+""+i[2]),b:Qr(i[3]+""+i[3]),a:f2(i[4]+""+i[4]),format:e?"name":"hex8"}:(i=$n.hex3.exec(t))?{r:Qr(i[1]+""+i[1]),g:Qr(i[2]+""+i[2]),b:Qr(i[3]+""+i[3]),format:e?"name":"hex"}:!1}function Xne(t){var e,i;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),i=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),i!=="small"&&i!=="large"&&(i="small"),{level:e,size:i}}var Ine,Ane,hw,$ne,$n,bo=T(()=>{Ine=/^\s+/,Ane=/\s+$/;Me.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),i,r,n,o,l,u;return i=e.r/255,r=e.g/255,n=e.b/255,i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),r<=.03928?l=r/12.92:l=Math.pow((r+.055)/1.055,2.4),n<=.03928?u=n/12.92:u=Math.pow((n+.055)/1.055,2.4),.2126*o+.7152*l+.0722*u},setAlpha:function(e){return this._a=m2(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=c2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=c2(this._r,this._g,this._b),i=Math.round(e.h*360),r=Math.round(e.s*100),n=Math.round(e.v*100);return this._a==1?"hsv("+i+", "+r+"%, "+n+"%)":"hsva("+i+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=u2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=u2(this._r,this._g,this._b),i=Math.round(e.h*360),r=Math.round(e.s*100),n=Math.round(e.l*100);return this._a==1?"hsl("+i+", "+r+"%, "+n+"%)":"hsla("+i+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return d2(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return kne(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ni(this._r,255)*100)+"%",g:Math.round(ni(this._g,255)*100)+"%",b:Math.round(ni(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ni(this._r,255)*100)+"%, "+Math.round(ni(this._g,255)*100)+"%, "+Math.round(ni(this._b,255)*100)+"%)":"rgba("+Math.round(ni(this._r,255)*100)+"%, "+Math.round(ni(this._g,255)*100)+"%, "+Math.round(ni(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:$ne[d2(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var i="#"+p2(this._r,this._g,this._b,this._a),r=i,n=this._gradientType?"GradientType = 1, ":"";if(e){var o=Me(e);r="#"+p2(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+i+",endColorstr="+r+")"},toString:function(e){var i=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0,o=!i&&n&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Me(this.toString())},_applyModification:function(e,i){var r=e.apply(null,[this].concat([].slice.call(i)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Fne,arguments)},brighten:function(){return this._applyModification(zne,arguments)},darken:function(){return this._applyModification(qne,arguments)},desaturate:function(){return this._applyModification(One,arguments)},saturate:function(){return this._applyModification(Dne,arguments)},greyscale:function(){return this._applyModification(Lne,arguments)},spin:function(){return this._applyModification(Hne,arguments)},_applyCombination:function(e,i){return e.apply(null,[this].concat([].slice.call(i)))},analogous:function(){return this._applyCombination(Wne,arguments)},complement:function(){return this._applyCombination(Une,arguments)},monochromatic:function(){return this._applyCombination(Vne,arguments)},splitcomplement:function(){return this._applyCombination(Bne,arguments)},triad:function(){return this._applyCombination(h2,[3])},tetrad:function(){return this._applyCombination(h2,[4])}};Me.fromRatio=function(t,e){if(Im(t)=="object"){var i={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?i[r]=t[r]:i[r]=Rd(t[r]));t=i}return Me(t,e)};Me.equals=function(t,e){return!t||!e?!1:Me(t).toRgbString()==Me(e).toRgbString()};Me.random=function(){return Me.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};Me.mix=function(t,e,i){i=i===0?0:i||50;var r=Me(t).toRgb(),n=Me(e).toRgb(),o=i/100,l={r:(n.r-r.r)*o+r.r,g:(n.g-r.g)*o+r.g,b:(n.b-r.b)*o+r.b,a:(n.a-r.a)*o+r.a};return Me(l)};Me.readability=function(t,e){var i=Me(t),r=Me(e);return(Math.max(i.getLuminance(),r.getLuminance())+.05)/(Math.min(i.getLuminance(),r.getLuminance())+.05)};Me.isReadable=function(t,e,i){var r=Me.readability(t,e),n,o;switch(o=!1,n=Xne(i),n.level+n.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};Me.mostReadable=function(t,e,i){var r=null,n=0,o,l,u,c;i=i||{},l=i.includeFallbackColors,u=i.level,c=i.size;for(var d=0;d<e.length;d++)o=Me.readability(t,e[d]),o>n&&(n=o,r=Me(e[d]));return Me.isReadable(t,r,{level:u,size:c})||!l?r:(i.includeFallbackColors=!1,Me.mostReadable(t,["#fff","#000"],i))};hw=Me.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},$ne=Me.hexNames=jne(hw);$n=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",i="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",n="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{CSS_UNIT:new RegExp(i),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}()});var fw={};ti(fw,{default:()=>Jne,onChangeCustom:()=>Zne});var Q1e,Zne,Nd,Jne,v2=T(()=>{Ne();Q1e=he(xe());bo();Zne=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);r.hasOwnProperty("color_r")&&(i.Update("color_r",r.color_r),delete r.color_r),r.hasOwnProperty("color_g")&&(i.Update("color_g",r.color_g),delete r.color_g),r.hasOwnProperty("color_b")&&(i.Update("color_b",r.color_b),delete r.color_b);for(let[n,o]of Object.entries(r))i.Update(n,o)},Nd={name:"parallax",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Knockout Mask",name:"knockout_shape",type:"radio",value:"triangle",values:[{customLabel:"RectangleIcon",value:"rectangle"},{customLabel:"SquareIcon",value:"square"},{customLabel:"TriangleIcon",value:"triangle"},{customLabel:"CircleIcon",value:"circle"}]},{labelName:"Knockout Blur",name:"knockout_blur",type:"range-input",value:0,suffix:"%",min:0,max:100,step:1},{labelName:"Knockout Size",name:"knockout",type:"range-input",value:85,suffix:"%",min:0,max:100,step:1},{labelName:"Knockout Rotation",name:"knockout_rotation",type:"range-input",loopValues:!0,value:171,suffix:"\xB0",min:0,max:360,step:1},{type:"spacer"},{labelName:void 0,name:"movement_direction",type:"radio",value:"xy",values:[{labelName:"X/Y Axes",value:"xy"},{labelName:"Z Axis",value:"z"}]},{labelName:"Movement Direction",name:"xy_direction",type:"range-input",loopValues:!0,value:285,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"movement_direction",shouldBe:"xy"}]},{labelName:"Layers",name:"layers",type:"range-input",value:3,min:2,max:15,step:1,requirements:[{option:"movement_direction",shouldBe:"xy"}]},{labelName:void 0,name:"z_direction",type:"radio",value:"inwards",values:[{labelName:"Inwards",value:"inwards"},{labelName:"Outwards",value:"outwards"}],requirements:[{option:"movement_direction",shouldBe:"z"}]},{labelName:"Layers",name:"z_layers",type:"range-input",value:4,min:4,max:15,step:1,requirements:[{option:"movement_direction",shouldBe:"z"}]},{labelName:"Speed",name:"speed",type:"range-input",value:30,suffix:"%",min:0,max:100,step:1},{labelName:"Depth",name:"depth",type:"range-input",value:35,suffix:"%",min:0,max:100,step:.5},{labelName:"Base Rotation",name:"base_rotation",type:"range-input",loopValues:!0,value:50,suffix:"\xB0",min:0,max:360,step:1},{labelName:"Skew",name:"skew",type:"range-input",loopValues:!0,value:-50,suffix:"\xB0",min:-1080,max:1080,step:1},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Sensitivity",name:"mouse_speed",type:"range-input",value:68,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Scroll Interaction",name:"scroll_interaction",type:"check-box",value:!1},{type:"spacer"},{labelName:"Background Color",name:"background_color",type:"color",value:"#FFFFFF00"},{labelName:"See-Through",name:"see_through",type:"check-box",value:!1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#FFFFFF00",excludeFromShuffle:!0}]};Nd.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.hasOwnProperty("background_color")&&e?.background_color===null&&(e.background_color="rgba(0,0,0,0)"),e.color){let i=Me(e.color);e.overlay_hex=i.toHexString(),e.overlay_alpha=i.getAlpha()}if(e.background_color){let i=Me(e.background_color),r=i.toRgb();e.color_r=r.r,e.color_g=r.g,e.color_b=r.b,e.alpha=r.a,e.hex_color=i.toHexString()}return e};Nd.defaults=lt(Nd.options);Nd.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Jne=Nd});var mw={};ti(mw,{default:()=>eoe,onChangeCustom:()=>Qne});var r_e,Qne,Eu,eoe,y2=T(()=>{Ne();r_e=he(xe());bo();Qne=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Eu={name:"refraction",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"reflection_type",type:"radio",value:"reflection",values:[{labelName:"Reflection",value:"reflection"},{labelName:"Refraction",value:"refraction"}]},{labelName:"Flip Image",name:"flip",type:"check-box",value:!0},{labelName:"Refraction Ratio",name:"refraction_ratio",type:"range-input",requirements:[{option:"reflection_type",shouldBe:"refraction"}],value:19,min:0,max:100,step:.1},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Movement Range",name:"mouse_speed",type:"range-input",value:63,min:0,max:100,step:.1},{labelName:"Dynamic Image Refraction",name:"refract_interaction",type:"check-box",value:!1,requirements:[{option:"reflection_type",shouldBe:"refraction"}]},{labelName:null,name:"refract_motion",type:"radio",value:"speed",requirements:[{option:"reflection_type",shouldBe:"refraction"},{option:"refract_interaction",shouldBe:!0}],values:[{labelName:"Gather",value:"gather"},{labelName:"Disperse",value:"disperse"},{labelName:"Speed",value:"speed"}]},{type:"spacer"},{labelName:"Geometry: ",name:"geometry",type:"select",values:[{labelName:"Fullerene",value:"buckyball_3"},{labelName:"Compound Eye",value:"compoundeye_2"},{labelName:"Shattered Glass",value:"shattered"},{labelName:"Shard",value:"shard"},{labelName:"Warped Glass",value:"warped_glass_3"},{labelName:"Tube",value:"tube"},{labelName:"Cubic",value:"cubic"},{labelName:"Turbine",value:"turbine"},{labelName:"Icosahedron",value:"icosahedron_small"},{labelName:"Geodesic",value:"icosahedron_2"}]},{labelName:"Geometry Zoom",name:"zoom",type:"range-input",value:100,min:100,max:300,step:1},{labelName:"Rotation X",name:"rot_x",type:"range-input",value:145,min:0,max:360,step:1},{labelName:"Rotation Y",name:"rot_y",type:"range-input",value:195,min:0,max:360,step:1},{labelName:"Rotation Z",name:"rot_z",type:"range-input",value:115,min:0,max:360,step:1},{labelName:"Rotation Speed X",name:"rot_speed_x",type:"range-input",value:3.5,min:-20,max:20,step:.1},{labelName:"Rotation Speed Y",name:"rot_speed_y",type:"range-input",value:-1.5,min:-20,max:20,step:.1},{labelName:"Rotation Speed Z",name:"rot_speed_z",type:"range-input",value:2,min:-20,max:20,step:.1},{type:"spacer"},{labelName:"Color Overlay",name:"color",type:"color",value:"#ffffff00"},{labelName:void 0,name:"overlay_type",type:"radio",value:"multiply_color",values:[{labelName:"Multiply",value:"multiply_color"},{labelName:"Screen",value:"screen_color"}]}]};Eu.defaults=lt(Eu.options);Eu.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Eu.defaults.rgb={value:"rgb(255,255,255)"};Eu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgb(255,255,255)"),e.color){let i=Me(e.color);e.rgb=i.toRgbString(),e.color=i.toRgbString(),e.alpha=i.getAlpha()}return e};eoe=Eu});var gw={};ti(gw,{default:()=>ioe,onChangeCustom:()=>toe});var a_e,toe,Cu,ioe,b2=T(()=>{Ne();a_e=he(xe());bo();toe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Cu={name:"ripples",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Distortion X",name:"scaleX",type:"range-input",value:20,min:0,max:100,step:1},{labelName:"Distortion Y",name:"scaleY",type:"range-input",value:20,min:0,max:100,step:1},{labelName:"Scale",name:"scale",type:"range-input",value:1,min:1,max:10,step:.01},{labelName:"Speed",name:"target_speed",type:"range-input",value:9,min:0,max:100,step:.1},{labelName:"Direction",name:"direction",type:"scrubber",numberOnlyMode:!0,value:245,min:0,max:360,loopValues:!0,suffix:"\xB0",step:1},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Sensitivity",requires:"mouse_sensitivity",name:"mouse_sensitivity",type:"range-input",value:100,min:0,max:100,step:1},{labelName:"Overlay Color",name:"color",type:"color",value:"#ffffff00",excludeFromShuffle:!0}]};Cu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Me(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Cu.defaults=lt(Cu.options);Cu.defaults.alpha={value:0};Cu.defaults.hex={value:"#fff"};ioe=Cu});var vw={};ti(vw,{default:()=>noe,onChangeCustom:()=>roe});var d_e,roe,Pu,noe,w2=T(()=>{Ne();d_e=he(xe());bo();roe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Pu={name:"slitscan",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"orientation",type:"radio",value:"horizontal",values:[{labelName:"Horizontal",value:"horizontal"},{labelName:"Vertical",value:"vertical"}]},{labelName:"Scan Size",name:"scan_size",type:"range-input",value:90,min:0,max:100,step:.1},{labelName:"Short Wave",name:"scan_cycles",type:"range-input",value:1,min:0,max:20,step:.1},{labelName:"Wiggle",name:"wiggle",type:"range-input",value:20,min:0,max:100,step:.1},{labelName:"Speed",name:"target_speed",type:"range-input",value:17,min:-100,max:100,step:1},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Scroll Interaction",name:"scroll_interaction",type:"check-box",value:!1},{labelName:"Overlay Color",name:"color",type:"color",value:"transparent",excludeFromShuffle:!0}]};Pu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Me(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Pu.defaults=lt(Pu.options);Pu.defaults.alpha={value:0};Pu.defaults.hex={value:"#000000"};noe=Pu});var yw={};ti(yw,{default:()=>soe,onChangeCustom:()=>ooe});var m_e,ooe,Xa,soe,x2=T(()=>{Ne();m_e=he(xe());bo();ooe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Xa={name:"pixelation",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"layout_mode",type:"radio",value:"grid_mode",values:[{labelName:"Grid",value:"grid_mode"},{labelName:"Rows",value:"row_mode"},{labelName:"Columns",value:"column_mode"}]},{labelName:"Rows",name:"rows",type:"range-input",value:44,min:1,max:64,step:1,requirements:[{option:"layout_mode",shouldBe:"row_mode"}]},{labelName:"Columns",name:"columns",type:"range-input",value:44,min:1,max:64,step:1,requirements:[{option:"layout_mode",shouldBe:"column_mode"}]},{labelName:"Subdivisions",name:"grid_size",type:"range-input",value:44,min:1,max:100,step:1,requirements:[{option:"layout_mode",shouldBe:"grid_mode"}]},{labelName:"Cell Image Zoom",name:"zoom",type:"range-input",value:100,suffix:"%",min:1,max:100,step:1},{labelName:"Flip Alternate Cells",name:"flip_it",type:"check-box",value:!1},{type:"spacer"},{labelName:"Turbulence",name:"stir_grid",type:"check-box",value:!0},{labelName:"Stir Frequency",name:"stir_freq",type:"range-input",value:74,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Stir Strength",name:"stir_strength",type:"range-input",value:4,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Disorder",name:"stir_disorder",type:"range-input",value:4,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Motion Elasticity",name:"elasticity",type:"range-input",value:35,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#ffffff00",excludeFromShuffle:!0},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Movement Force",name:"mouse_sensitivity",type:"range-input",value:6,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Mouse Radius",name:"tolerance",type:"range-input",value:50,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Mouseover Zoom",name:"mouse_zoom",type:"range-input",value:0,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]}]};Xa.defaults=lt(Xa.options);Xa.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Xa.defaults.rgb={value:"rgb(255,255,255)"};Xa.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Me(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Xa.customShuffle=t=>(Math.random()>.5&&(t.zoom=100),t);soe=Xa});var bw={};ti(bw,{default:()=>loe,onChangeCustom:()=>aoe});var b_e,aoe,kd,loe,S2=T(()=>{Ne();b_e=he(xe());bo();aoe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r)){let l=!0;if(n==="image"&&(o!==void 0&&o?i.obj.loadImage(o):l=!1),n!==void 0&&l===!0){let u={};u[n]=o,i.Update(n,o),i.obj.updateSettings(u)}}},kd={name:"kaleidoscope",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Slices",name:"slices",type:"range-input",value:18,min:2,max:256,step:1},{labelName:"Zoom",name:"zoom",type:"range-input",value:217,suffix:"%",min:1,max:500,step:1},{labelName:"Rotation",name:"baseRotation1",type:"range-input",value:61,suffix:"\xB0",min:-180,max:180,step:1},{labelName:"Rotation Speed",name:"rotationSpeed1",type:"range-input",value:-8,suffix:"\xB0/sec",min:-100,max:100,step:1},{labelName:"Image Rotation",name:"baseRotation2",type:"range-input",value:-148,suffix:"\xB0",min:-180,max:180,step:1},{labelName:"Image Rotation Speed",name:"rotationSpeed2",type:"range-input",value:-8,suffix:"\xB0/sec",min:-100,max:100,step:1},{labelName:"Image Rotation Anchor X",name:"rotationCenterX",type:"range-input",value:21,suffix:"\xB0/sec",min:-300,max:300,step:1},{labelName:"Image Rotation Anchor Y",name:"rotationCenterY",type:"range-input",value:66,suffix:"\xB0/sec",min:-300,max:300,step:1},{type:"spacer"},{labelName:"Mirror Slices",name:"mirrorSlices",type:"check-box",value:!0},{labelName:"Mouse Interaction",name:"hasMouseInteraction",type:"check-box",value:!0}]};kd.transformChanges=(t,e)=>{if(e.color){let i=Me(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};kd.defaults=lt(kd.options);kd.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";loe=kd});var ww={};ti(ww,{default:()=>coe,onChangeCustom:()=>uoe});var __e,uoe,Od,coe,_2=T(()=>{Ne();__e=he(xe());bo();uoe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Od={name:"polygon_engine",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{labelName:"Style:",name:"style",type:"select",value:"delaunay",values:[{labelName:"Random 1",value:"random1"},{labelName:"Random 2",value:"random2"},{labelName:"Iso",value:"iso"},{labelName:"Rectangular 1",value:"straight1"},{labelName:"Rectangular 2",value:"straight2"},{labelName:"Voronoi",value:"voronoi"},{labelName:"Delaunay",value:"delaunay"}]},{labelName:"Cuts",name:"subdivisionCount",type:"range-input",value:421,min:3,max:500,step:1},{labelName:"Animation Speed",name:"animationSpeed",type:"range-input",value:1,min:0,max:20,step:.1},{type:"spacer"},{labelName:"Mouse Interaction",name:"hasMouseInteraction",type:"check-box",value:!0},{labelName:"Interaction Speed",name:"interactionSpeed",type:"range-input",value:15,min:0,max:20,step:.1,requirements:[{option:"hasMouseInteraction",shouldBe:!0}]},{labelName:"Interaction Radius",name:"interactionRadius",type:"range-input",value:300,suffix:"px",min:0,max:500,step:1,requirements:[{option:"hasMouseInteraction",shouldBe:!0}]},{type:"spacer"},{excludeFromShuffle:!0,labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"}]};Od.defaults=lt(Od.options);Od.defaults.image_url="//static.cargo.site/assets/backdrop/default_256.jpg";Od.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Me(e.color);e.overlay_hex=i.toHexString(),e.overlay_alpha=i.getAlpha()}return e};coe=Od});var xw={};ti(xw,{default:()=>poe,onChangeCustom:()=>doe});var I_e,doe,Dd,poe,E2=T(()=>{Ne();I_e=he(xe());bo();doe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Dd={name:"morphovision",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Transition Duration",name:"transition_time",type:"range-input",value:4,suffix:" sec",min:.5,max:10,step:.1},{labelName:"Intensity",name:"transition_alpha",type:"range-input",value:76,suffix:"%",min:10,max:100,step:1},{labelName:"Zoom",name:"zoom",type:"range-input",value:14,suffix:"%",min:-100,max:100,step:1},{labelName:"Cycle Images",name:"cycle_images",type:"check-box",value:!0},{labelName:"Randomize Order",name:"shuffle",type:"check-box",value:!0,renderWhenDisabled:!0,requirements:[{option:"cycle_images",shouldBe:!0}]},{type:"spacer"},{labelName:"Morph Size",name:"morph_size",type:"range-input",value:85,suffix:"%",min:0,max:100,step:1},{labelName:"Morph Movement",name:"morph_speed",type:"range-input",value:15,suffix:"%",min:0,max:100,step:1},{labelName:"Morph Amplitude",name:"amplitude",type:"range-input",value:22,suffix:"%",min:0,max:100,step:1},{labelName:"Phase Shift",name:"phase",type:"range-input",value:95,suffix:"%",min:0,max:100,step:1},{labelName:"Movement Jitter",name:"jitter",type:"range-input",value:18,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Image Warp",name:"small_warp",type:"range-input",value:40,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"},{labelName:void 0,name:"blend",type:"radio",value:"MULTIPLY",values:[{labelName:"Normal",value:"NORMAL"},{labelName:"Screen",value:"SCREEN"},{labelName:"Multiply",value:"MULTIPLY"}]}]};Dd.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Me(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Dd.defaults=lt(Dd.options);Dd.defaults.image_url="/_jsapps/backdrop/morphovision/morph_default.jpeg";poe=Dd});var Sw={};ti(Sw,{default:()=>foe,onChangeCustom:()=>hoe});var R_e,hoe,Tm,foe,C2=T(()=>{Ne();R_e=he(xe()),hoe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);for(let[n,o]of Object.entries(r))i.Update(n,o)},Tm={name:"wave",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Waves",name:"ripples.on",type:"check-box",value:!0},{labelName:"Wave Speed",name:"ripples.noiseSpeed",type:"range-input",value:15,min:0,max:20,step:.1,requirements:[{option:"ripples.on",shouldBe:!0}]}]};Tm.defaults=lt(Tm.options);Tm.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";foe=Tm});var _w={};ti(_w,{default:()=>goe,onChangeCustom:()=>moe});var O_e,moe,Iu,goe,P2=T(()=>{Ne();O_e=he(xe());bo();moe=(t,e,i)=>{let r={};for(let[o,l]of Object.entries(e))t[o]!=l&&(r[o]=l);let n=[];for(let[o,l]of Object.entries(r))i.Update(o,l)},Iu={name:"halftone",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Screen Size",name:"dot_scale",type:"range-input",value:53,suffix:"%",min:0,max:100,step:.5},{labelName:"Dot Gain",name:"dot_gain",type:"range-input",value:48,suffix:"%",min:-100,max:200,step:1},{labelName:"Under-Color Removal",name:"dot_gain",type:"range-input",value:95,suffix:"%",min:0,max:100,step:1},{labelName:"Registration Accuracy",name:"color_offset",type:"range-input",value:94,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Cyan",name:"cyan",type:"check-box",value:!0},{labelName:"Halftone",name:"cyan_halftone",type:"check-box",value:!0,requirements:[{option:"cyan",shouldBe:!0}]},{labelName:"Opacity",name:"c_opacity",type:"range-input",value:70,suffix:"%",min:0,max:100,step:1,requirements:[{option:"cyan",shouldBe:!0}]},{labelName:"Rotation",name:"c_rotation",type:"range-input",value:140,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"cyan",shouldBe:!0},{option:"cyan_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"c_rot_speed",type:"range-input",value:-1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"cyan",shouldBe:!0},{option:"cyan_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Magenta",name:"magenta",type:"check-box",value:!0},{labelName:"Halftone",name:"magenta_halftone",type:"check-box",value:!0,requirements:[{option:"magenta",shouldBe:!0}]},{labelName:"Opacity",name:"m_opacity",type:"range-input",value:69,suffix:"%",min:0,max:100,step:1,requirements:[{option:"magenta",shouldBe:!0}]},{labelName:"Rotation",name:"m_rotation",type:"range-input",value:42,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"magenta",shouldBe:!0},{option:"magenta_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"m_rot_speed",type:"range-input",value:1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"magenta",shouldBe:!0},{option:"magenta_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Yellow",name:"yellow",type:"check-box",value:!0},{labelName:"Halftone",name:"yellow_halftone",type:"check-box",value:!0,requirements:[{option:"yellow",shouldBe:!0}]},{labelName:"Opacity",name:"y_opacity",type:"range-input",value:99,suffix:"%",min:0,max:100,step:1,requirements:[{option:"yellow",shouldBe:!0}]},{labelName:"Rotation",name:"y_rotation",type:"range-input",value:59,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"yellow",shouldBe:!0},{option:"yellow_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"y_rot_speed",type:"range-input",value:-1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"yellow",shouldBe:!0},{option:"yellow_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Black",name:"black",type:"check-box",value:!0},{labelName:"Halftone",name:"black_halftone",type:"check-box",value:!0,requirements:[{option:"black",shouldBe:!0}]},{labelName:"Opacity",name:"k_opacity",type:"range-input",value:100,suffix:"%",min:0,max:100,step:1,requirements:[{option:"black",shouldBe:!0}]},{labelName:"Rotation",name:"k_rotation",type:"range-input",value:45,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"black",shouldBe:!0},{option:"black_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"k_rot_speed",type:"range-input",value:0,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"black",shouldBe:!0},{option:"black_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"},{labelName:void 0,name:"overlay_type",type:"radio",value:"multiply_color",values:[{labelName:"Normal",value:"normal_color"},{labelName:"Screen",value:"screen_color"},{labelName:"Multiply",value:"multiply_color"}]},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0}]};Iu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let i=Me(e.color);e.hex=i.toHexString(),e.alpha=i.getAlpha()}return e};Iu.customShuffle=t=>{switch(t.overlay_type=Math.random()>.5?"multiply_color":"screen_color",Math.floor(Math.random()*4)){case 0:t.black=!0,t.c_opacity=Math.max(75,t.c_opacity);break;case 1:t.cyan=!0,t.c_opacity=Math.max(75,t.c_opacity);break;case 2:t.yellow=!0,t.y_opacity=Math.max(100,t.y_opacity),t.black=!0,t.c_opacity=Math.max(50,t.c_opacity);break;case 3:t.magenta=!0,t.m_opacity=Math.max(75,t.m_opacity);break}return t};Iu.defaults=lt(Iu.options);Iu.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";goe=Iu});var Ew={};ti(Ew,{default:()=>yoe,onChangeCustom:()=>voe});var z_e,I2,voe,Ld,yoe,A2=T(()=>{Ne();z_e=he(xe()),I2={checkerboard:{preset_image:"https://static.cargo.site/assets/backdrop/video/checkerboard_64.png",preset_width:"16px",preset_height:"16px"},hexed:{preset_image:"https://static.cargo.site/assets/backdrop/video/hexed_16.png",preset_width:"8px",preset_height:"8px"},noise:{preset_image:"https://static.cargo.site/assets/backdrop/video/noise.png",preset_width:"512px",preset_height:"512px"},interlace:{preset_image:"https://static.cargo.site/assets/backdrop/video/interlace.png",preset_width:"1px",preset_height:"3px"}},voe=(t,e,i)=>{let r={};for(let[n,o]of Object.entries(e))t[n]!=o&&(r[n]=o);r.hasOwnProperty("color")&&r?.color===null&&(r.color="rgba(0,0,0,0)");for(let[n,o]of Object.entries(r))i.Update(n,o)},Ld={name:"video",excludeFromShuffle:!0,options:[{labelName:"Video URL:",name:"video_url",type:"text-input",value:"",className:"hover",config:"noBars"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"scale_option",type:"radio",value:"cover",values:[{labelName:"Fill Window",value:"cover"},{labelName:"Fit Window",value:"contain"}]},{labelName:"Margin",name:"margin",type:"scrubber",value:"0",addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",allowedUnits:["px","%","em","rem","vmin","vmax","vw","vh"],excludeFromShuffle:!0,min:0,max:{"%":50,vh:50,vw:50,vmin:100,vmax:50}},{type:"spacer"},{labelName:"Overlay",name:"preset_pattern",type:"radio",value:"blank",values:[{labelName:void 0,value:"checkerboard"},{labelName:void 0,value:"hexed"},{labelName:void 0,value:"noise"},{labelName:void 0,value:"interlace"},{labelName:void 0,value:"blank"}]},{labelName:"Video Opacity",name:"alpha",type:"range-input",value:100,min:0,max:100,step:1,excludeFromShuffle:!0},{labelName:"Background Color",name:"color",type:"color",value:"#FFFFFF00"},{type:"spacer"},{labelName:"Display Still Image In Mobile Devices",name:"use_mobile_image",type:"check-box",value:!1},{name:"image",type:"custom",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc",renderWhenDisabled:!1,requirements:[{option:"use_mobile_image",shouldBe:!0}]}]};Ld.transformChanges=(t,e)=>(e.preset_pattern&&(I2[e.preset_pattern]?(e.using_preset=!0,e.image_active=!0,e={...e,...I2[e.preset_pattern]}):(e.using_preset=!1,e.image_active=!1)),e);Ld.defaults=lt(Ld.options);Ld.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";yoe=Ld});var Fd={};ti(Fd,{badtv:()=>pw,gradient:()=>Md,halftone:()=>_w,kaleidoscope:()=>bw,morphovision:()=>xw,parallax:()=>fw,pixelation:()=>yw,polygon_engine:()=>ww,refraction:()=>mw,ripple:()=>gw,slitscan:()=>vw,video:()=>Ew,wallpaper:()=>Td,wave:()=>Sw});var Mm=T(()=>{s2();a2();l2();v2();y2();b2();w2();x2();S2();_2();E2();C2();P2();A2()});var Gn,boe,T2,Cw,M2,woe,R2=T(()=>{_e();Ei();Ti();Mm();Ne();Gn=he(xe(),1);ne();boe={"legacy/slitscan":()=>import("https://build.cargo.site/frontend/4ae1a0/_jsapps/backdrop/slitscan/main.js"),"legacy/refraction":()=>import("https://build.cargo.site/frontend/4ae1a0/_jsapps/backdrop/refraction/main.js"),"legacy/badtv":()=>import("https://build.cargo.site/frontend/4ae1a0/_jsapps/backdrop/badtv/main.js"),"legacy/gmaps":()=>import("https://build.cargo.site/frontend/4ae1a0/_jsapps/backdrop/gmaps/main.js"),"legacy/halftone":()=>import("https://build.cargo.site/frontend/4ae1a0/_jsapps/backdrop/halftone/main.js"),"legacy/kaleidoscope":()=>import("https://build.cargo.site/frontend/4ae1a0/_jsapps/backdrop/kaleidoscope/main.js"),"legacy/morphovision":()=>import("https://build.cargo.site/frontend/4ae1a0/_jsapps/backdrop/morphovision/main.js"),"legacy/parallax":()=>import("https://build.cargo.site/frontend/4ae1a0/_jsapps/backdrop/parallax/main.js"),"legacy/pixelation":()=>import("https://build.cargo.site/frontend/4ae1a0/_jsapps/backdrop/pixelation/main.js"),"legacy/polygon_engine":()=>import("https://build.cargo.site/frontend/4ae1a0/_jsapps/backdrop/polygon_engine/main.js"),"legacy/ripple":()=>import("https://build.cargo.site/frontend/4ae1a0/_jsapps/backdrop/ripple/main.js"),"legacy/video":()=>import("https://build.cargo.site/frontend/4ae1a0/_jsapps/backdrop/video/main.js"),"legacy/wave":()=>import("https://build.cargo.site/frontend/4ae1a0/_jsapps/backdrop/wave/main.js")},T2=Gn.default.memoize(t=>new Promise(async(e,i)=>{if(le)return i();await woe();let{default:r}=await boe[t]();e(r)})),Cw=class extends se{constructor(e){super(e),this.ref=ge(),T2(this.props.path).catch(i=>{})}componentDidMount(){this.initView()}initView=async()=>{delete this.backboneView;let e=await T2(this.props.path).catch(n=>{});if(!this.ref.current){console.log("No element to render backbone view to...");return}let i=Fd[this.props.path.replace("legacy/","")],r={page_id:this.props.id};Gn.default.each(i?.default.defaults,(n,o)=>{r[o]=n.value}),this.onChangeCustom=i?.onChangeCustom?i.onChangeCustom.bind(this):null,this.ref.current.innerHTML="",this.backboneView=new e({el:this.ref.current,model:new Backbone.Model({data:{...r,...this.props.settings}}),...this.props.viewOptions||{}}),this.backboneView.id&&(this.ref.current.id=this.backboneView.id),this.backboneView.className&&(this.ref.current.className=this.backboneView.className),this.backboneView.defaults={...this.backboneView.defaults,...this.props.defaults},this.backboneView.deferredLoadEventName&&(this.backboneView.deferredLoadEventName+="_"+Gn.default.uniqueId(),Cargo.Event.once(this.backboneView.deferredLoadEventName,()=>{this.ref.current&&this.ref.current.dispatchEvent(new CustomEvent("legacy-backdrop-loaded",{bubbles:!0,composed:!0,detail:{}}))})),this.backboneView.render(),typeof this.backboneView.Init=="function"&&this.backboneView.Init(),this.backboneView.SetSizeFromMainView?.(this.props.dimensions.width,this.props.dimensions.height),this.props.visibility.visible?(this.backboneView.in_viewport=!0,this.backboneView.Resume?.()):this.backboneView.in_viewport=!1};destroyView=()=>{this.backboneView&&(typeof this.backboneView.destroy=="function"&&this.backboneView.destroy(),this.backboneView.undelegateEvents(),this.backboneView.$el.removeData().unbind(),this.backboneView.remove(),delete this.backboneView)};componentWillUnmount(){this.destroyView()}componentDidUpdate(e){if(this.backboneView&&!Gn.default.isEqual(e.settings,this.props.settings)&&(this.onChangeCustom?this.onChangeCustom(e.settings,this.props.settings,this.backboneView):console.log("custom backdrop update failed")),this.props.path!=e.path){this.destroyView(),this.initView();return}this.backboneView&&((e.dimensions.width!=this.props.dimensions.width||e.dimensions.height!=this.props.dimensions.height)&&this.backboneView.SetSizeFromMainView?.(this.props.dimensions.width,this.props.dimensions.height),this.props.visibility.visible!=e.visibility.visible&&(this.props.visibility.visible?(this.backboneView.in_viewport=!0,this.backboneView.Resume?.()):(this.backboneView.in_viewport=!1,this.backboneView.Pause?.())))}render(){let e=this.props.path?.replace("legacy/","")||"";return m("div",{"data-backdrop":e,ref:this.ref,dangerouslySetInnerHTML:{__html:""}})}},M2=Cw,woe=Gn.default.once(async()=>{if(le)return;let{Backbone:t,underscore:e,jQuery:i}=await import("https://static.cargo.site/assets/C3/legacy/backbone-packaged.min.js");window.$=i,window.Backbone=t,window._=e,window.Cargo={o:{collection:{},model:{}},Collection:{},Helper:{isMobile:()=>et.data.mobile.active,IsAdminEdit:()=>Ai},Event:Gn.default.extend({},t.Events),Core:{Handlebars:{Render:()=>""}}},window.Backdrop={Data:{}},Cargo.o.collection.images=t.Collection.extend({model:function(r,n){return r&&r.type==="local"?new Cargo.o.model.localImage(r,n):new Cargo.o.model.image(r,n)},fetchImage:function(r,n){let o=window.store.getState(),l=Qe.getMediaByHash(o)[r],u=new Cargo.o.model.image({...l});if(l&&u)return u.getImageWithOptions({w:n})},fetchWebGLImage:function(r,n){let o=window.store.getState(),l=Qe.getMediaByHash(o)[r];return l?{w:l.width,h:l.height,url:"https://freight.cargo.site/w/"+n+"/t/webgl/i/"+l.hash+"/"+l.name,id:r}:null}}),Cargo.o.model.image=t.Model.extend({initialize:function(){Gn.default.bindAll(this,"getImageByWidth")},urlRoot:function(){return"/_api/v0/image"},getImageByWidth:function(r){var n={};return r>this.get("width")&&(r=this.get("width")),n.w=r,this.getImageWithOptions(n).url},getImageByWidth2x:function(r){return this.getImageByWidth(r*2)},getImageWithOptions:function(r){var n={retina:window.devicePixelRatio?window.devicePixelRatio>=1.2:!1,square:!1,url:"",webgl:r.hasOwnProperty("t")&&r.t=="webgl"};if(Gn.default.extend(n,r),n.t==="original"&&(n.retina=!1),n.retina===!0&&!n.webgl&&(n.q==null&&(n.q=75),n.hasOwnProperty("w")&&(n.w=Math.min(n.w*2,this.get("width"))),n.hasOwnProperty("h")&&(n.h=Math.min(n.h*2,this.get("height")))),n.w&&n.w>this.get("width")&&(n.webgl?n.w=this.getValidWebGLSize(n.w):n.w=this.get("width")),n.h&&n.h>this.get("height")&&(n.h=this.get("height")),n.square===!0){var o=this.getSquareCrop();n.c={x:o.x,y:o.y,w:o.w,h:o.h}}var l=["t","w","h","q","c"],u=[],c=!1,d=!1;Gn.default.each(n,function(g,v){l.indexOf(v)===-1||g===""||(v==="c"?u.push("c/"+g.x+"/"+g.y+"/"+g.w+"/"+g.h):u.push(v+"/"+g),c=v=="w"?g:v=="c"&&g.w?g.w:c,d=v=="h"?g:v=="c"&&g.h?g.h:d)},this);var f=this.getScaleSize(c,d);return n.w=f.w,n.h=f.h,this.get("hash")!==void 0&&this.get("name")!==void 0?n.url="https://freight.cargo.site/"+u.join("/")+"/i/"+this.get("hash")+"/"+this.get("name"):n.url="",n},getSquareCrop:function(){var r=y=w=h=diff=0;return this.get("height")>this.get("width")?(w=h=this.get("width"),diff=this.get("height")-this.get("width"),y=Math.floor(diff/2),r=0):this.get("width")>this.get("height")?(w=h=this.get("height"),diff=this.get("width")-this.get("height"),r=Math.floor(diff/2),y=0):(w=this.get("width"),h=this.get("height"),r=y=0),{w,h,x:r,y}},getOriginalImage:function(){return this.getImageWithOptions({t:"original",retina:!1})},urlBelongsToImage:function(r){return typeof r!="string"?!1:r.indexOf(this.get("hash")+"/"+this.get("name"))!==-1},getValidWebGLSize:function(r){var n=[128,256,512,1024,2048,4096];return r>this.get("width")&&Gn.default.each(n,function(o){o<1e3&&(r=o)}),r},getScaleSize:function(r,n){var o,l,u=r,c=n;if(o=parseInt(this.get("width")),l=parseInt(this.get("height")),!(r&&n)){if(o==l)u=r||n||o,c=u;else if(r)var d=o/r,c=Math.floor(l/d),u=r;else if(n)var d=l/n,u=Math.floor(o/d),c=n}return{w:u,h:c}},getFitSize:function(r,n,o,l){if(r=parseInt(r),n=parseInt(n),n>r)var u=r/o,c=Math.floor(n/u),d=o;else if(r>n)var u=n/l,d=Math.floor(r/u),c=l;else var d=r,c=n;return[d,c]}}),Cargo.Collection.Images=new Cargo.o.collection.images})});var Au,Rm=T(()=>{_e();Au=function(t,e,i={}){if(t.nodeType===3)return t.data;if(t.nodeType!==1)return null;let r={},n=[],o=0,l=t.attributes,u=t.childNodes;for(o=l.length;o--;)r[l[o].name]=l[o].value;for(i={...r,...i},o=u.length;o--;){let c=Au(u[o],null);n[o]=c}return Pt(e||t.nodeName,i,n)}});var K_e,Pw,Nm,Dr,Us=T(()=>{_e();Ne();K_e=he(xe(),1);_r();ne();le||(Pw=new ResizeObserver(function(t){t.forEach(function(e){Tt(e.target,"reference-resize",{target:e.target,width:e.contentRect.width},{bubbles:!1,cancelable:!0,composed:!0})})}));Nm=class extends se{constructor(e){super(e),this.elementRef=ge(),this.elementRef.current={},this.saveRef=i=>r=>{this.elementRef.current[i]=r}}render(){let{values:e={elWidth:"100%"}}=this.props;return m("div",{tabIndex:"-1","data-nosnippet":!0,style:{height:0,width:"100%",minWidth:"100%",overflow:"hidden",display:"block",alignSelf:"flex-start",visibility:"hidden",pointerEvents:"none",boxSizing:"border-box",zIndex:-1,...this.props.style},children:Object.keys(e).map(i=>{let r=e[i];return m("div",{tabIndex:"-1",ref:this.saveRef(i),style:typeof r=="object"?r:{width:r}})})})}componentDidUpdate(e,i){}onResize=e=>{let i=Object.keys(this.elementRef.current).find(r=>this.elementRef.current[r]===e.target);this.props.onResize&&this.props.onResize(i,e.width)};componentDidMount(){Object.keys(this.elementRef.current).forEach(e=>{let i=this.elementRef.current[e];Xt(i,"reference-resize",this.onResize),Pw?.observe(i)})}componentWillUnmount(){Object.keys(this.elementRef.current).forEach(e=>{let i=this.elementRef.current[e];Pw?.unobserve(i),ii(i,"reference-resize",this.onResize)})}};Nm.defaultProps={values:{elWidth:"100%"}};Dr=Nm});var sEe,km,Lr,Bs=T(()=>{_e();We();ho();zi();sEe=he(xe(),1);ne();km=class extends se{constructor(e){super(e),this.state={scrollIncrement:0,pointerAttention:!1,shiftButtonX:0,shifted:!1,overlayPosition:{x:0,y:0,width:0,height:0}},this.attachToBaseNode()}render(e,i){return this.renderElement?Ke(m(ie,{children:e.render({...i,...e})}),this.renderElement):null}pointerIn=e=>{this.requestTick(),this.setState(i=>({pointerAttention:!0,scrollIncrement:i.scrollIncrement+1})),this.props.onPointerIn&&this.props.onPointerIn()};pointerOut=()=>{this.setState({pointerAttention:!1}),this.props.onPointerOut&&this.props.onPointerOut()};updatePosition=e=>{let i=this.props.buttonHeight||0,r=0,n=e.height,o=e.top;this.props.buttonMode=="inside",n=e.height,this.setState({overlayPosition:{x:e.left,y:o,width:e.width,height:n}})};componentWillUnmount(){this.props.baseNode._wasFocused=this.state.pointerAttention,this.props.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),qe.removePortal(this.props.baseNode,this.renderElement)}requestTick=()=>{this.ticking||(qe.updateElementRect(this.props.baseNode),this.ticking=!0,requestAnimationFrame(()=>{this.ticking=!1}))};attachToBaseNode(){this.props.baseNode&&(this.renderElement=qe.getPortal(this.props.baseNode,{noPointerEvents:this.props.noPointerEvents||!1,trackResize:this.props.trackResize||!1,extraMargins:this.props.buttonMode=="inside"?[0,0,0,0]:[0,0,0,0],component:this}))}onScroll=e=>{this.requestTick();let i=this.props.scrollContext.getScrollPosition().y,r=i-this.scrollPos;this.scrollPos=i,this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(r)};componentDidMount(){this.props.baseNode&&this.props.baseNode._wasFocused&&(this.setState({pointerAttention:!0}),this.requestTick()),qe.testHover()}componentDidUpdate(e,i){this.props.baseNode&&e.baseNode!==this.props.baseNode&&this.attachToBaseNode(),(this.state.pointerAttention!==i.pointerAttention||this.state.noPointerEvents!==i.noPointerEvents||this.props.hasFocus!==e.hasFocus||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&(this.props.hasFocus||this.state.pointerAttention||this.state.noPointerEvents)?(this.scrollPos=this.props.scrollContext.getScrollPosition().y,this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),qe.testHover(),this.requestTick())}};km.defaultProps={buttonMode:"inside",buttonHeight:0};Lr=po(km)});var Fr,Om,wo,Tu=T(()=>{_e();We();Ft();Bs();zi();go();ht();Fr=he(xe(),1);Ei();ne();Om=class extends se{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,galleryIsEmpty:!1,showInsertionIndicator:!1,adjacentIndexes:{above:-1,below:-1,left:-1,right:-1}},this.dragMap=new Map,this.onDragOver=Fr.default.throttle(this.onDragOver,80)}mutationObserverOptions={attributes:!0,childList:!0,subtree:!0,characterData:!0};render(e,i){let{galleryInstance:r}=e,{initialShowOutlines:n,showTransition:o,draggingOver:l,adjacentIndexes:u,showInsertionIndicator:c,galleryIsEmpty:d,buttonHovered:f,UIWindow:g}=i,v=this.props["thumbnail-index"]!==void 0,S=23;return m(ie,{children:[m(qi,{onlyAllowCollapsedRange:!0,baseNode:r}),m("style",{children:c&&`
					::slotted(media-item) {
						--base-translate: translate(0, 0);						
						transition: .08s transform cubic-bezier(0, 0, 0.01, 1);
					}

					::slotted(media-item:nth-child(${u.left+1})) {
						z-index: 1001;
						--base-translate: translateX(-15px);
					}

					::slotted(media-item:nth-child(${u.right+1})) {
						z-index: 1001;
						--base-translate: translateX(15px);
					}

					::slotted(media-item:nth-child(${u.above+1})) {
						z-index: 1001;
						--base-translate: translateY(-15px);
					}

					::slotted(media-item:nth-child(${u.below+1})) {
						z-index: 1001;
						--base-translate: translateY(15px);
					}
				`}),m(Lr,{...this.props,hasFocus:!!g,onScrollWhileHovered:this.onScrollWhileHovered,trackResize:!0,buttonHeight:S,buttonMode:"inside",baseNode:this.props.galleryInstance,render:E=>{let{pointerAttention:_,overlayPosition:P}=E,A=0;return P.y<=1&&(A=Math.min(-P.y+1,P.height+-S+1)),m(ie,{children:m("div",{className:`editor-overlay editor-outline${_||g?" hover":""}${_||g?" button-hover":""}${g?" focus":""}`,style:{transform:`translate3d(${P.x}px, ${P.y}px, 0)`,width:P.width+"px",height:P.height+"px",display:_||g?"block":"none",minHeight:"27px",zIndex:10},children:[m("div",{className:"in-editor-buttons gallery",style:{transform:`translateY(${A}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:m("button",{onMouseDown:L=>{this.launchUIWindow(L)},ref:this.galleryButtonRef,className:"text",children:v?"Thumbnail Index":"Gallery"})}),e.otherUI]})})}})]})}launchUIWindow=(e,i)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.galleryInstance.getBoundingClientRect(),n={x:r.x+-10,y:r.y,left:r.right+-10,right:r.right+-10,top:r.top+0,bottom:r.top+27,width:r.width,height:10};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"imagegallery-ineditor",windowAlias:"imagegallery",positionRect:n,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!0,props:{activeGallery:this.props.galleryInstance}})};onMutate=e=>{if(this.props.suppressMutation)return;this.observer.disconnect();let i=[],r=[],n=[],o=!1,l=!1,u=this.props["thumbnail-index"],c=!1;e.forEach(f=>{if(f.target.tagName=="MEDIA-ITEM"){if(i.indexOf(f.target)>-1||f.type!=="attributes"||f.attributeName==="slot"||this.props.disabledMediaItemOptions.indexOf(f.attributeName)>-1)return;u&&i.push(f.target),!(f.attributeName==="style"||f.attributeName==="class")&&this.props.gallerySpecificAttributes&&this.props.gallerySpecificAttributes.includes(f.attributeName)&&i.push(f.target)}else f.target==this.props.galleryInstance&&(f.removedNodes.length>0||f.addedNodes.length>0)?(this.props.allowedElements&&(l=[...Array.from(f.addedNodes),...Array.from(f.removedNodes)].some(this.props.allowedElements)),o=f.addedNodes.length>0||o,r=[...r,...Array.from(f.addedNodes).filter(g=>g.tagName==="MEDIA-ITEM")],n=[...n,...Array.from(f.removedNodes).filter(g=>g.tagName==="MEDIA-ITEM")]):f.type==="characterData"&&(c=f.target)}),r=Fr.default.uniq(r),n=Fr.default.uniq(n),i=Fr.default.uniq(i),n.forEach(f=>{f.itemResize=null,f.itemDragStart=null});let d=Array.from(this.props.galleryInstance.childNodes).filter(f=>f?.nodeName!=="MEDIA-ITEM");this.props.allowedElements&&Fr.default.remove(d,this.props.allowedElements),d.forEach(f=>{f.remove()}),(r.length>0||n.length>0)&&(Array.from(this.props.galleryInstance.children).some(f=>f.tagName==="MEDIA-ITEM")||this.removeEmptyGallery()),(r.length>0||n.length>0||i.length>0||l||this.props["thumbnail-index"]&&c)&&this.props.onCleanUp&&this.props.onCleanUp(r,n,i,c),this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions)};removeEmptyGallery=Fr.default.debounce(()=>{if(!Array.from(this.props.galleryInstance.children).some(e=>e.tagName==="MEDIA-ITEM")){if(this.state.isDraggingInEditor)this.setState({galleryIsEmpty:!0});else if(this.props["thumbnail-index"]===void 0){this.props.galleryInstance.remove();return}}},0);scrollIntoView=()=>{let e=this.props.galleryInstance.getBoundingClientRect();this.props.galleryInstance.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:120,lazyScroll:!0}}))};onDragOver=(e,i,r)=>{if(!this.props.disableDragOver)if((!r.customDropTarget||r.customDropTarget===this.props.galleryInstance)&&(r.draggedMediaItems.length>0||r.fromOutside)&&!r.inAdmin&&this.props.galleryInstance.contains(r.dropTarget)){this.state.showInsertionIndicator||this.dragMap.clear();let o=this.props.galleryInstance.getBoundingClientRect(),l=60,u=1.033,c=2.399827721492203,d=Array.from(this.props.galleryInstance.children),f=[],g=i.clientX+-o.left,v=i.clientY+-o.top,S=15,E,_=0,P,A=0,L=null;for(E=0;E<l;E++)if(L=null,_=_+c,S=S*u+2,P=i.clientX+Math.cos(_)*S,A=i.clientY+Math.sin(_)*S,L=document.elementFromPoint(P,A),L&&(L=L.closest("MEDIA-ITEM")||null),this.props.galleryInstance.contains(L)||(L=null),L&&f.indexOf(L)===-1)if(this.dragMap.has(L)){let K=this.dragMap.get(L);P<=K.x2+o.left&&P>=K.x1+o.left&&A<=K.y2+o.top&&A>=K.y1+o.top&&f.push(L)}else f.push(L);let z=f.map(K=>{let Y;if(this.dragMap.has(K))Y=this.dragMap.get(K);else{let $e=K.getBoundingClientRect();Y={w:$e.width+-(15*2),h:$e.height+-(15*2),x1:$e.left+-o.left+15,x2:$e.left+$e.width+-o.left+-15,y1:$e.top+-o.top+15,y2:$e.top+$e.height+-o.top+-15},this.dragMap.set(K,Y)}let oe=!1,$=!1,U=!1,X=!1,te=!1,ce=!1,fe=0,me=0,Ae=0;g>=Y.x1&&g<=Y.x2?($=!0,g<Y.x1+Y.w*.5?ce=!0:te=!0,Ae=0):Y.x1>g?(ce=!0,Ae=Y.x1-g):g>Y.x2&&(Ae=Y.x2-g,te=!0),v>=Y.y1&&v<=Y.y2?(oe=!0,v<Y.y1+Y.h*.5?X=!0:U=!0,me=0):Y.y1>v?(X=!0,me=Y.y1-v):v>Y.y2&&(U=!0,me=Y.y2-v),fe=Math.sqrt(me*me+Ae*Ae);let Ie=d.indexOf(K),Oe=K.getAttribute("slot"),ze=0,at=0;return this.props.dragIndicationType==="columns"&&(ze=Array.from(K.assignedSlot.parentElement.children).indexOf(K.assignedSlot)),{inX:$,inY:oe,distance:fe,rise:me,run:Ae,above:U,below:X,toRight:ce,toLeft:te,index:Ie,slotIndex:ze,el:K,rect:Y}}),q={el:null,index:-1},H=q,re=q,Q=q,O=q,ee=[],ue=[],J=[],G=[];z.forEach(K=>{K.above&&J.push(K),K.below&&G.push(K),K.toRight&&ue.push(K),K.toLeft&&ee.push(K)});let D=null,V=!1;if(this.props.dragIndicationType==="columns"){let K=Fr.default.minBy(J,U=>Math.abs(U.distance)),Y=Fr.default.minBy(G,U=>Math.abs(U.distance)),oe=Fr.default.minBy(ee.filter(U=>U.inY),U=>Math.abs(U.distance)),$=Fr.default.minBy(ue?.filter(U=>U.inY),U=>Math.abs(U.distance));K&&Y?Math.abs(Y.run)<Math.abs(K.run)?(O=Y,Q=J.find(U=>U.rect.x1<O.rect.x2&&U.rect.x2>O.rect.x1)||q):(Q=K,O=G.find(U=>U.rect.x1<Q.rect.x2&&U.rect.x2>Q.rect.x1)||q):K?Q=K:Y&&(O=Y),oe&&$?V=$.rect.y1!==oe.rect.y1:(oe?.rect?.y1>15||$?.rect?.y1>15||Q?.index>-1)&&(V=!0)}if(V){if(H=q,re=q,Q=Q,O=O,O?.el)D=O.el;else for(D=Q.el?.nextElementSibling?.assignedElements?.()[0]||null;D&&D.tagName!=="MEDIA-ITEM";)D=D?.nextElementSibling||null;r.draggedMediaItems.length===1&&d.indexOf(r.draggedMediaItems[0])>-1&&d.indexOf(D)>d.indexOf(r.draggedMediaItems[0])&&(D=D.nextElementSibling)}else{let K=Fr.default.minBy(ee,oe=>Math.abs(oe.distance)),Y=Fr.default.minBy(ue,oe=>Math.abs(oe.distance));if(K&&Y?Math.abs(Y.rise)<Math.abs(K.rise)?(re=Y,H=ee.find(oe=>oe.index==re.index+-1)):(H=K,re=ue.find(oe=>oe.index==H.index+1)):K?H=K:Y&&(re=Y),Q=q,O=q,re=re||q,H=H||q,re?.el)D=re.el;else for(D=H.el?.nextElementSibling;D&&D.tagName!=="MEDIA-ITEM";)D=D.nextElementSibling}this.setState({adjacentIndexes:{left:H.index,right:re.index,above:Q.index,below:O.index},insertBeforeTarget:D,showInsertionIndicator:!0}),be.globalDragEventController.setCustomDropTarget(this.props.galleryInstance)}else this.state.showInsertionIndicator&&this.props.onDragOut&&this.props.onDragOut(),this.setState({showInsertionIndicator:!1}),be.globalDragEventController.releaseCustomDropTarget(this.props.galleryInstance)};onDragStart=(e,i,r)=>{if(!(this.props["thumbnail-index"]&&(!r.draggedMediaItems?.[0]||!this.props.galleryInstance.contains(r.draggedMediaItems[0])))&&(qe.activateHoverElement(this.props.galleryInstance),this.props.disableDragStart)){i.preventDefault();return}};onAfterDragStart=(e,i,r)=>{this.props.disableDragStart||this.setState({isDraggingInEditor:!0})};onDragEnd=(e,i,r)=>{this.onDragOver.cancel(),this.props.onDragEnd&&this.props.onDragEnd(),this.setState({showInsertionIndicator:!1,isDraggingInEditor:!1},()=>{this.onDragFinish()})};onDragDrop=(e,i,r)=>{if(this.onDragOver.cancel(),this.props.onDragDrop&&this.props.onDragDrop(),!this.props.disableDrop&&!r.inAdmin){if(r.customDropTarget===this.props.galleryInstance){CargoEditor.mutationManager.execute(()=>{r.draggedMediaItems.forEach((l,u)=>{this.props["thumbnail-index"]&&l.setSaveable(!1),this.props.galleryInstance.insertBefore(l,this.state.insertBeforeTarget)}),this.props.onAfterDrop&&this.props.onAfterDrop(r.draggedMediaItems,this.state.insertBeforeTarget,this.state.adjacentIndexes)});let n=r.draggedMediaItems[0],o=r.draggedMediaItems[0]?.getAttribute("href");clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(()=>{let l=CargoEditor.rangy.createRange();this.props["thumbnail-index"]&&(n=Array.from(this.props.galleryInstance.children).find(u=>u.getAttribute("href")==o)),n&&(l.selectNode(n),CargoEditor.helpers.setActiveRange(l))},120)}this.setState({showInsertionIndicator:!1,isDraggingInEditor:!1,insertBeforeTarget:null},()=>{this.onDragFinish()})}};onBeforeDrop=(e,i,r)=>{this.props.disableBeforeDrop};onDragFinish=()=>{qe.testHover(),this.state.galleryIsEmpty&&(Array.from(this.props.galleryInstance.children).filter(i=>i?.tagName=="MEDIA-ITEM").length==0&&this.props["thumbnail-index"]===void 0?CargoEditor.mutationManager.execute(()=>{this.props.galleryInstance.remove()}):this.setState({galleryIsEmpty:!1}))};setUIWindow=e=>{this.setState({UIWindow:e}),e?typeof this.props.onUIWindowSet=="function"&&this.props.onUIWindowSet(e):typeof this.props.onUIWindowRelease=="function"&&this.props.onUIWindowRelease(e)};onScrollWhileHovered=e=>{this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidUpdate(e){e.suppressMutation!==this.props.suppressMutation&&(this.observer.disconnect(),this.props.suppressMutation||this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions)),Fr.default.isEqual(e.mediaItemEditorInfo,this.props.mediaItemEditorInfo)||this.setMediaItemEditorInfo()}setMediaItemEditorInfo=()=>{this.props.galleryInstance._mediaItemEditorInfo=this.props.mediaItemEditorInfo||{disableResize:!1,disableButton:!1},Array.from(this.props.galleryInstance.children).filter(i=>i.tagName==="MEDIA-ITEM").forEach(i=>{i._editorInterface?.setState?.({mediaItemEditorInfo:{...this.props.mediaItemEditorInfo}})}),this.props.mediaItemEditorInfo?.afterScaleChange&&(this.props.galleryInstance._mediaItemEditorInfo.afterScaleChange=this.props.mediaItemEditorInfo.afterScaleChange)};flushMutationQueue=()=>{let e=this.observer.takeRecords();e.length>0&&this.onMutate(e)};componentDidMount(){if(this.props.galleryInstance.children.length===0&&this.props["thumbnail-index"]===void 0){this.props.galleryInstance.remove();return}this.setMediaItemEditorInfo(),this.observer=new MutationObserver(this.onMutate),this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions),this.props.galleryInstance._editorInterface=this,be.globalDragEventController.on("dragstart",this.onDragStart),be.globalDragEventController.on("dragover",this.onDragOver),be.globalDragEventController.on("dragend",this.onDragEnd),be.globalDragEventController.on("before-drop",this.onBeforeDrop),be.globalDragEventController.on("drop",this.onDragDrop),be.globalDragEventController.on("after-dragstart",this.onAfterDragStart)}componentWillUnmount(){this.state.UIWindow&&this.state.UIWindow.changingLayout,this.removeEmptyGallery.cancel(),this.onDragOver.cancel(),this.observer?.disconnect(),this.observer=null,clearTimeout(this.showOutlinesTimeout),clearTimeout(this.bindTimeout),be.globalDragEventController.off("dragstart",this.onDragStart),be.globalDragEventController.off("dragover",this.onDragOver),be.globalDragEventController.off("dragend",this.onDragEnd),be.globalDragEventController.off("before-drop",this.onBeforeDrop),be.globalDragEventController.off("drop",this.onDragDrop),be.globalDragEventController.off("after-dragstart",this.onAfterDragStart),this.props.galleryInstance._editorInterface===this&&(this.props.galleryInstance._mediaItemEditorInfo=null,delete this.props.galleryInstance._editorInterface)}};Om.defaultProps={disabledMediaItemOptions:[],dragIndicationType:"grid"};wo=De((t,e)=>({Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}))(Om)});var Iw,Aw,N2,k2=T(()=>{_e();Iw=he(xe(),1);Ft();zi();Tu();ne();Aw=class extends se{constructor(e){super(e),this.state={isDragging:!1,thumbnailsVisible:!1,thumbnailsVisibleWhileDragging:!1,hasUIWindow:!1,pointerAttention:!1},this.debouncedCheckRange=Iw.default.debounce(this.checkRange,120)}render(e,i){let{isDragging:r,thumbnailsVisible:n}=i,{galleryInstance:o,dragContext:l}=e;return m(ie,{children:[m("style",{children:`
			media-item figcaption.caption {
				${this.state.thumbnailsVisible?"display: block":""}
			}	
		`}),m(wo,{...e,mediaItemEditorInfo:{disableResize:!0,disableButton:!1},gallerySpecificAttributes:this.props.gallerySpecificAttributes||[],suppressMutation:this.props.suppressMutation,galleryInstance:o,disableDragOver:!n,disableDrop:!n,allowedElements:u=>u.part=="previous-button"||u.part=="next-button",onUIWindowRelease:this.onUIWindowRelease,onPointerIn:this.onPointerIn,onPointerOut:this.onPointerOut})]})}onCleanUp=(e,i,r,n,o,l)=>{this.props.galleryInstance.updateNavigation(),this.props.onCleanUp&&this.props.onCleanUp(e,i,r,n,o,l)};onPointerIn=()=>{this.setState({pointerAttention:!0})};onPointerOut=()=>{this.setState({pointerAttention:!1})};onDragOver=(e,i,r)=>{this.props.galleryInstance.contains(r.dropTarget)&&!this.state.thumbnailsVisible&&(this.setState({thumbnailsVisibleWhileDragging:!0}),this.props.galleryInstance.showThumbnails())};onDragDrop=(e,i,r)=>{this.props.galleryInstance.contains(r.dropTarget)&&this.state.thumbnailsVisible?setTimeout(()=>{this.state.thumbnailsVisibleWhileDragging&&(this.setState({thumbnailsVisibleWhileDragging:!1}),this.debouncedCheckRange())},500):this.state.thumbnailsVisibleWhileDragging&&(this.setState({thumbnailsVisibleWhileDragging:!1}),this.props.galleryInstance?.hideThumbnails?.())};updateThumbStatus=e=>{let i=this.props.galleryInstance.thumbnailsVisible;this.setState({thumbnailsVisible:i}),i&&requestAnimationFrame(()=>{let r=CargoEditor?.rangy?.createRange(),n=this.props.galleryInstance.querySelector(".sizing-frame");n&&r&&(r.setStartBefore(n),r.setEndAfter(n),CargoEditor.helpers.setActiveRange(r),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor()))})};onUIWindowRelease=()=>{this.props.galleryInstance.thumbnailsVisible&&this.debouncedCheckRange(),this.setState({hasUIWindow:!1})};onUIWindowSet=e=>{this.setState({hasUIWindow:e})};checkRange=()=>{let e=CargoEditor.getActiveRange();CargoEditor.events.off("cursor-activity",this.debouncedCheckRange),this.state.hasUIWindow||this.props.childArray.some(i=>i._editorInterface?.state?.UIWindow)||e&&this.props.galleryInstance.contains(e.commonAncestorContainer)||!e?CargoEditor.events.on("cursor-activity",this.debouncedCheckRange):this.props.galleryInstance?.hideThumbnails?.()};onClick=e=>{this.props.galleryInstance.thumbnailsVisible};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),CargoEditor.events.on("cursor-activity",this.captionCursorActivity)};captionCursorActivity=Iw.default.throttle(()=>{var e=CargoEditor.getActiveRange();e&&this.props.galleryInstance.contains(e.commonAncestorContainer)&&Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM").forEach((r,n)=>{r.contains(e.commonAncestorContainer)&&this.props.onItemResize(null,r,n)})},120);componentDidUpdate(e){if(e.inTransition!==this.props.inTransition){let i=Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM");if(this.props.inTransition)i.forEach(r=>{qe.deactivateHoverElement(r),qe.lockItem(r)});else if(this.state.pointerAttention){i.forEach(n=>{qe.deactivateHoverElement(n),qe.unlockItem(n)});let r=Array.from(this.props.galleryInstance.children).find(n=>n.nodeName==="MEDIA-ITEM"&&n.assignedSlot?.parentElement?.hasAttribute("data-active-slide"));r&&qe.activateHoverElement(r)}}}componentDidMount(){CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents),be.globalDragEventController.on("dragover",this.onDragOver),be.globalDragEventController.on("drop",this.onDragDrop),this.props.galleryInstance.addEventListener("click",this.onClick),this.props.galleryInstance.addEventListener("show-thumbnails",this.updateThumbStatus),this.props.galleryInstance.addEventListener("hide-thumbnails",this.updateThumbStatus),this.updateThumbStatus()}componentWillUnmount(){window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.captionCursorActivity.cancel(),CargoEditor&&Object.keys(CargoEditor||{}).length>0&&CargoEditor.events.off("cursor-activity",this.captionCursorActivity),this.props.galleryInstance.removeEventListener("click",this.onClick),this.props.galleryInstance.removeEventListener("show-thumbnails",this.updateThumbStatus),this.props.galleryInstance.removeEventListener("hide-thumbnails",this.updateThumbStatus),be.globalDragEventController.off("drop",this.onDragDrop),be.globalDragEventController.off("dragover",this.onDragOver)}},N2=Aw});var O2,D2=T(()=>{O2=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i});function L2(t,e,i,r){let n,o,l;for(;e=e._parent;)if((n=e._component)&&!n._processingException)try{if(o=n.constructor,o&&o.getDerivedStateFromError!=null&&(n.setState(o.getDerivedStateFromError(t)),l=n._dirty),n.componentDidCatch!=null&&(n.componentDidCatch(t,r||{}),l=n._dirty),l)return n._pendingError=n}catch(u){t=u}throw t}var F2=T(()=>{});var xoe,zd,z2=T(()=>{F2();xoe={_catchError:L2},zd=xoe});function xo(t,e,i,r,n){let o;for(o in i)o!=="children"&&o!=="key"&&!(o in e)&&H2(t,o,null,i[o],r);for(o in e)(!n||typeof e[o]=="function")&&o!=="children"&&o!=="key"&&o!=="value"&&o!=="checked"&&i[o]!==e[o]&&H2(t,o,e[o],i[o],r)}function q2(t,e,i){e[0]==="-"?t.setProperty(e,i??""):i==null?t[e]="":typeof i!="number"||O2.test(e)?t[e]=i:t[e]=i+"px"}function H2(t,e,i,r,n){let o;e:if(e==="style")if(typeof i=="string")t.style.cssText=i;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)i&&e in i||q2(t.style,e,"");if(i)for(e in i)(!r||i[e]!==r[e])&&q2(t.style,e,i[e])}else if(e[0]==="o"&&e[1]==="n")if(o=e!==(e=e.replace(/Capture$/,"")),e.toLowerCase()in t?e=e.toLowerCase().slice(2):e=e.slice(2),t._listeners||(t._listeners={}),t._listeners[e+o]=i,i){if(!r){let l=o?B2:U2;t.addEventListener(e,l,o)}}else{let l=o?B2:U2;t.removeEventListener(e,l,o)}else if(e!=="dangerouslySetInnerHTML"){if(n)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=i??"";break e}catch{}typeof i=="function"||(i!=null&&(i!==!1||e.indexOf("-")!=-1)?t.setAttribute(e,i):t.removeAttribute(e))}}function U2(t){return this._listeners[t.type+!1](zd.event?zd.event(t):t)}function B2(t){return this._listeners[t.type+!0](zd.event?zd.event(t):t)}var Ws=T(()=>{D2();z2()});var W2,V2=T(()=>{W2=(t,e={})=>{let i=t.replace(/["#$%<>&=\?\\\/]/g,"").replace(/(\s|\.)/g,"-").replace(/-{2,}/g,"-").toLowerCase(),r=i.length>0?i:"_";if(e.inUse){let n=r,o=1;for(;e.inUse.includes(n);)n=r+`-${o++}`;return n}return r}});function $2(t){let e=t.split(":"),i=e[0],r="all";switch(i){case"set":r=Za.default.tail(e).map(n=>n).join(":");break;case"tag":r=Za.default.tail(e)[0]?.split(",").map(n=>W2(n.trim()));break;case"img":r="all";break;case"all":r="all";break}return{type:i,value:r}}function _oe(t){class e extends _i{constructor(r){super(r),this.fixBadNullValue(),this.state={layoutIncrement:0,initialLoad:!1,attributeMap:this.getMapFromAttribute(),thumbnails:[],renderLimit:150}}getMapFromAttribute=()=>{let r={};try{let n=unescape(this.props["thumbnail-index-metadata"]||"{}");r=JSON.parse(n)}catch(n){r={},console.error("failed to load saved thumbnail map: ",n)}return r};fixBadNullValue=()=>{this.props["thumbnail-index"]==="null"&&this.props.baseNode&&this.props.baseNode.removeAttribute("thumbnail-index"),this.props.baseNode&&this.props.baseNode.hasAttribute("tag")&&this.props.baseNode.removeAttribute("tag")};isActiveLink=r=>r.purl===this.props.activePURL||r.id===this.props.PIDBeingEdited;render(r){if(!r["thumbnail-index"]||r["thumbnail-index"]==="null"){let c={...r,"thumbnail-index":void 0};return m(t,{...c})}let n=this.state.thumbnails.length>0,o=n&&r["show-tags"],l=n&&r["show-title"],u=n||!this.state.initialLoad?this.state.thumbnails:this.props.adminMode?[null,null,null].fill({attributes:{href:null,hash:"placeholder"},purl:null,thumbnail:null,tags:[],title:null}):[];return this.props.baseNode.tagName==="GALLERY-FREEFORM"&&(u=Za.default.sortBy(u,c=>{let d=this.state.attributeMap?.[c.id];return d!=null?d.sort+1:0})),u=u.slice(0,this.state.renderLimit),this.renderedItemCount=u.length,m(t,{...r,onCleanUp:this.onCleanUp,disableDragOver:!0,children:u.map((c,d)=>{let f=c.thumbnail?.is_video||c.thumbnail?.is_url||null;return Pt("media-item",{...this.state.attributeMap[c.id]?.attributes,saveable:!1,model:c.thumbnail,autoplay:f,loop:f,muted:f,href:c.purl,rel:"history",itemDragStart:this.onDragStart,key:"thumb id"+c.id,"disable-zoom":!0,className:`thumbnail linked ${c.tags.map(g=>"tag-"+g.url).join(" ").toLowerCase()}${this.isActiveLink(c)?" active":""}`,...c.attributes},m("figcaption",{class:`caption${!l&&!o?" empty":""}`,slot:"caption",children:[l?m("div",{className:"page-title",children:c.title},"title-"+c.url+"-"+c.title+"-"+this.state.layoutIncrement):null,c.tags.length>0&&o?m("div",{className:"tags",children:c.tags.map((g,v)=>m(ie,{children:[m("a",{href:g.url,className:"tag-link",rel:r["links-filter-index"]?"filter-index":"history","data-tag":g.tag,children:g.tag+""}),v<c.tags.length-1?m("span",{className:"tag-separator"}):null]},"tag-link-"+g.url+"-"+this.state.layoutIncrement))}):null]}))})})}onDragStart=r=>{!this.props["thumbnail-index"]||this.props["thumbnail-index"]==="null"||this.props.adminMode&&this.props.baseNode.tagName!=="GALLERY-FREEFORM"&&(r.preventDefault(),r.stopPropagation())};componentDidUpdate(r,n){this.fixBadNullValue(),this.props["thumbnail-index"]&&(r["thumbnail-index"]!==this.props["thumbnail-index"]||this.props.thumbCollection!==r.thumbCollection||this.props.sort!==r.sort||this.props.lastPublishedAt!==r.lastPublishedAt)&&this.setThumbnails(),this.props["thumbnail-index-metadata"]!==r["thumbnail-index-metadata"]&&this.setState({attributeMap:this.getMapFromAttribute()}),this.ticking||(this.ticking=!0,setTimeout(()=>{this.renderedItemCount>=this.state.renderLimit&&this.setState({renderLimit:this.state.renderLimit+250}),delete this.ticking},200)),this.props["thumbnail-index"]!==r["thumbnail-index"]&&this.props["thumbnail-index"]&&this.props["thumbnail-index"]!=="null"&&(this.props.pageInfo.setPageData({filter:this.props["thumbnail-index"]},this.props.baseNode),this.emitFilterEvent())}emitFilterEvent=()=>{this.props["thumbnail-index"]&&!this.props.adminMode&&(this.emitFilterDebounce=requestAnimationFrame(()=>{var r=new CustomEvent("filter-thumbnail-index",{bubbles:!0,cancelable:!0,composed:!0,detail:{filter:this.props["thumbnail-index"]}});this.props.baseNode.dispatchEvent(r)}))};updateOldThumbMetaData=Za.default.debounce(()=>{let r=this.props.baseNode.querySelector('script[type="text/thumbnail-metadata"]');if(r){try{CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("thumbnail-index-metadata",escape(r.textContent))},{preventDraft:!0})}catch{}CargoEditor?.mutationManager?.execute?.(()=>{r.remove()},{preventDraft:!0})}},2e3);componentDidMount(){this.fixBadNullValue(),this.updateOldThumbMetaData(),this.setThumbnails(),this.props["thumbnail-index"]&&this.props["thumbnail-index"]!=="null"&&this.emitFilterEvent(),this.props.baseNode.addEventListener("keydown",this.onKeyDown),this.props.baseNode.addEventListener("filter-thumbnail-index",this.setThumbnails),document.addEventListener("filter-thumbnail-index",this.setThumbnails),this.props.baseNode.addEventListener("refresh-thumbnail-index",this.setThumbnails)}componentWillUnmount(){cancelAnimationFrame(this.emitFilterDebounce),this.props.baseNode.removeEventListener("refresh-thumbnail-index",this.setThumbnails),this.props.baseNode.removeEventListener("keydown",this.onKeyDown),this.props.baseNode.removeEventListener("filter-thumbnail-index",this.setThumbnails),document.removeEventListener("filter-thumbnail-index",this.setThumbnails)}onKeyDown=r=>{r.metaKey||r.ctrlKey||!this.props["thumbnail-index"]||(/^.$/u.test(r.key)||r.key==="Enter"||r.key==="Delete"||r.key==="Backspace")&&(r.preventDefault(),r.stopPropagation())};setThumbnails=async()=>{if(!this.props["thumbnail-index"])return;let r=$2(this.props["thumbnail-index"]),n=this.props.lastPublishedAt,o=[];switch(r.type){case"set":try{({data:o}=await qd.default.get(`${pi}/pages/${this.props.siteId}/thumbs/set/${r.value}?limit=999&timestamp=${n}`,{use_cache:!0}))}catch{}break;case"tag":try{({data:o}=await qd.default.get(`${pi}/pages/${this.props.siteId}/thumbs/tag/${r.value.join(",")}?limit=999&timestamp=${n}`,{use_cache:!0}))}catch{}break;case"img":try{({data:o}=await qd.default.get(`${pi}/sites/${this.props.siteId}/media/images?with-pages=true`,{use_cache:!0}))}catch{}o=o.filter(c=>c.media.length>0&&c.password_enabled==!1),o=Za.default.flatMap(o,c=>c.media.map(d=>({display:!0,id:d.id,purl:c.purl,url:c.purl,sort:0,tags:[],thumbnail:d,title:m(ie,{children:[m("a",{href:c.purl,rel:"noopener nofollow",target:"_blank",className:"page-link",children:c.title}),m("br",{}),m("a",{target:"_blank",rel:"noopener nofollow",href:"https://freight.cargo.site/o/i/"+d.hash+"/"+d.name,children:d.name})]}),attributes:{"disable-scroll-animation":!0,href:null,"force-quick-view":!0,hash:d.hash}})));break;default:try{({data:o}=await qd.default.get(`${pi}/pages/${this.props.siteId}/thumbs/all?limit=999`,{use_cache:!0}))}catch{}break}let l=store.getState();o=o.filter(c=>{let d=l.pages.byId[c.id];return!(d&&d.crdt_state!==qt.Published||d&&r.type==="set"&&l.structure.byParent[r.value]&&!l.structure.byParent[r.value].some(f=>f===d.id))});let u=Za.default.unionBy(this.props.thumbCollection,o,"id");switch(u=u.filter(c=>c.pin!==!0&&c.display!==!1&&c.id!==this.props.homepageID&&c.id!==this.props.mobileHomepageID&&c.crdt_state!==qt.Deleted&&c.thumb_meta?.hide_from_index!==!0&&this.props.pageInfo.pid!==c.id),this.props.sort){case"reverse":u.sort((c,d)=>d.sort-c.sort);break;case"shuffle":u.sort(c=>Math.random()-.5);break;default:u.sort((c,d)=>c.sort-d.sort);break}this.setState({initialLoad:!0,thumbnails:u})};onCleanUp=(r,n,o,l)=>{if(!this.props["thumbnail-index"]||!this.props.adminMode)return;let u={},c="",d=store.getState();if(Array.from(this.props.baseNode.children).filter(g=>g.tagName==="MEDIA-ITEM").forEach((g,v)=>{let S=g.getAttribute("href"),E={},_=g.attributes,P=0;for(P=_.length;P--;)_[P].name==="saveable"||_[P].name==="limit-by"||_[P].name==="class"||_[P].name==="hash"||_[P].name==="href"||_[P].name==="rel"||_[P].name==="slot"||_[P].name==="width"||_[P].name==="height"||_[P].name==="disable-zoom"||(E[_[P].name]=_[P].value);let A=Qe.getContentByPurl(d,S)?.id||null;A&&(u[A]={sort:v,attributes:E})}),u={...this.state.attributeMap,...u},c=JSON.stringify(u),c=escape(c),c!==this.props["thumbnail-index-metadata"])CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("thumbnail-index-metadata",c)},{preventDraft:!0}),this.setState({attributeMap:u||{}});else if(l){if(CargoEditor&&CargoEditor?.getActiveEditor?.()){let g=CargoEditor.rangy.createRange();g.selectNode(this.props.baseNode),g.collapse(),CargoEditor.helpers.setActiveRange(g)}this.setState({layoutIncrement:this.state.layoutIncrement+1})}}}return Ut(De((i,r)=>{let n=Soe(r["thumbnail-index"],i.structure,i.pages),o=(i.pages.byId[i.frontendState.activePID]||i.sets.byId[i.frontendState.activePID])?.purl;return!le&&!o&&(o=window.location.pathname.replace(/^\//,"")),typeof o=="string"&&(o=o.toLowerCase()),{lastPublishedAt:i.adminState?.crdt?.publishedAt??"000",thumbCollection:n,activePURL:o,adminMode:i.frontendState.adminMode,PIDBeingEdited:i.frontendState.PIDBeingEdited,inAdminFrame:i.frontendState.inAdminFrame,siteId:i.site.id,homepageID:i.site.homepage_id,mobileHomepageID:i.site.mobile_homepage_id}})(e))}var qd,Za,Soe,So,Mu=T(()=>{_e();We();ht();Ft();Ne();Rs();qd=he(vn(),1);Fi();Sr();Ei();V2();Za=he(xe(),1);ne();_e();Soe=Un((t,e,i)=>{let r=[];if(!t)return r;let n=$2(t);switch(n.type){case"set":r=(e.byParent[n.value]||[]).map(o=>i.byId[o]).filter(o=>o!==void 0);break;case"tag":r=Object.values(i.byId).filter(o=>o.tags&&o.tags.find(l=>n.value?.includes(l.url)));break;case"img":r=[];break;default:r=Object.values(i.byId);break}return r.map(o=>{let l=null;return o.thumb_media_id&&o.media?l=o.media.find(u=>u.id===o.thumb_media_id)||null:o.thumbnail&&(l=o.thumbnail),{id:o.id,title:o.title,purl:o.purl,thumb_meta:o.thumb_meta||{},display:o.display,sort:e.bySort[o.id],tags:o.tags||[],pin:o.pin,crdt_state:o.crdt_state,thumbnail:l}})});So=_oe});var Y2,li,j2,Tw,G2,K2,Eoe,Coe,Poe,Ioe,Ja,Mw,Rw,Dm,Aoe,Lm=T(()=>{_e();We();Rm();ht();Ti();Us();k2();Ws();Ji();Mu();_r();ho();Fi();Ne();Ya();Y2=he(xe(),1);ne();_e();li={name:"slideshow",displayName:"Slideshow",tagName:"GALLERY-SLIDESHOW",disabledMediaItemOptions:["scale","sticker","limit-by"],mobileOptions:[{labelName:"",name:"mobile-transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"},{labelName:"Scrub",value:"scrub"}]},{labelName:"Transition Speed",name:"mobile-transition-speed",type:"scrubber",numberOnlyMode:!0,value:.8,min:0,max:10,step:.1,requirements:[{option:"transition-type",shouldBe:t=>t==="slide"||t==="fade"}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Navigation",name:"mobile-navigation",type:"check-box",value:!0},{labelName:"Captions",name:"mobile-show-captions",type:"check-box",value:!0}]},{labelName:"Autoplay",name:"mobile-autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"mobile-autoplay-delay",type:"scrubber",value:3,step:.1,min:.1,max:30,numberOnlyMode:!0,requirements:[{option:"autoplay",shouldBe:!0}]},{type:"spacer"},{type:"group",className:"slideshow-size-group grid-columns-template-1-auto",children:[{type:"custom",name:"widthTextLabel",requirements:[{option:"mobile-limit-by",shouldBe:"width"}]},{name:"mobile-scale",value:"50rem",allowCalc:!0,allowVar:!0,type:"scrubber",allowOutOfRangeTextInput:!1,labelName:"Scale: Height",allowedUnits:["px","%","rem","em","vmin","vmax","vw","vh"],min:{px:8,rem:.5,em:.5,etc:1},max:{"%":100,vmin:100,vmax:100,vh:100,vw:100,etc:void 0},addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",requirements:[{option:"mobile-limit-by",shouldBe:"height"}]},{type:"custom",name:"fitTextLabel",requirements:[{option:"mobile-limit-by",shouldBe:"fit"}]},{name:"mobile-limit-by",type:"radio",value:"width",values:[{name:"width",customLabel:"widthLabel",value:"width"},{name:"height",customLabel:"heightLabel",value:"height"},{name:"fit",customLabel:"fitLabel",value:"fit"}]}]},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"center",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"center",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Shuffle",name:"mobile-shuffle",type:"check-box",value:!1},{type:"more-actions",children:[{labelName:"Slides",name:"toggle-thumbs",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),this.state.activeGallery.thumbnailsVisible?this.state.activeGallery.hideThumbnails():this.state.activeGallery.showThumbnails()}}]}],options:[{labelName:"",name:"transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"},{labelName:"Scrub",value:"scrub"}]},{labelName:"Transition Speed",name:"transition-speed",type:"scrubber",numberOnlyMode:!0,value:.8,min:0,max:10,step:.1,requirements:[{option:"transition-type",shouldBe:t=>t==="slide"||t==="fade"}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Navigation",name:"navigation",type:"check-box",value:!0},{labelName:"Captions",name:"show-captions",type:"check-box",value:!0}]},{labelName:"Autoplay",name:"autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"autoplay-delay",type:"scrubber",value:3,step:.1,min:.1,max:30,numberOnlyMode:!0,requirements:[{option:"autoplay",shouldBe:!0}]},{labelName:"Pause On Hover",name:"pause-on-hover",type:"check-box",value:!1,requirements:[{option:"autoplay",shouldBe:!0}]},{type:"spacer"},{type:"group",className:"slideshow-size-group grid-columns-template-1-auto",children:[{type:"custom",name:"widthTextLabel",requirements:[{option:"limit-by",shouldBe:"width"}]},{name:"scale",value:"50rem",allowCalc:!0,allowVar:!0,type:"scrubber",allowOutOfRangeTextInput:!1,labelName:"Scale: Height",allowedUnits:["px","%","rem","em","vmin","vmax","vw","vh"],min:{px:8,rem:.5,em:.5,etc:1},max:{"%":100,vmin:100,vmax:100,vh:100,vw:100,etc:void 0},addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",requirements:[{option:"limit-by",shouldBe:"height"}]},{type:"custom",name:"fitTextLabel",requirements:[{option:"limit-by",shouldBe:"fit"}]},{name:"limit-by",type:"radio",value:"width",values:[{name:"width",customLabel:"widthLabel",value:"width"},{name:"height",customLabel:"heightLabel",value:"height"},{name:"fit",customLabel:"fitLabel",value:"fit"}]}]},{labelName:"Horizontal Align",name:"horizontal-align",type:"radio",value:"center",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]},{labelName:"Vertical Align",name:"vertical-align",type:"radio",value:"center",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{type:"group",className:"grid-columns-even",children:[{type:"group",className:"grid-columns-even",children:[{labelName:"Disable Zoom",name:"disable-zoom",type:"check-box",value:!1},{labelName:"Shuffle",name:"shuffle",type:"check-box",value:!1}]}]},{labelName:"Disable Scroll Transition",name:"disable-scroll-animation",type:"check-box",value:!1,requirements:[{option:"imageSettingsScrollAnimation",shouldBe:!0}]},{name:"auto-height",value:"custom"},{name:"height-limit",value:"60%"},{name:"adjust-for-captions",value:!1},{type:"more-actions",children:[{labelName:"Slides",name:"toggle-thumbs",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),this.state.activeGallery.thumbnailsVisible?this.state.activeGallery.hideThumbnails():this.state.activeGallery.showThumbnails()}}]}]};li.defaults=lt(li.options);li.mobileDefaults=lt(li.mobileOptions);j2=.04,Tw=.25,G2=.085,K2=.1,Eoe=.08,Coe=2,Poe=3,Ioe=15,Ja=0,Mw=1,Rw=2,Dm=class extends _i{constructor(e){super(e);let i=le?{hasLayout:!1,visible:!1,position:"unknown"}:{hasLayout:!0,visible:!0,position:"inside"};this.state={captionHeightMap:[],showThumbnails:this.props.thumbnails===!0||this.props.thumbnails==="true",hasLoaded:le,visible:!1,viewportIntersection:i,layoutIncrement:0,pointerOver:!1,initialShowNavigation:!0,destinationIndex:0,activeIndex:0,initialActiveIndex:0,inTransition:!1,elWidth:0,hasSizes:{slideHeightPx:!1,elWidth:!1},slideHeightPx:0,tallestSlide:{index:0,height:0},...this.getNavigation(),isDragging:!1,isPointerDown:!1,scrubAnimating:!1,scrubStatus:Ja},this.loadedItems=new Set,this.shuffleSeed=Math.random()*100,this.lastPointerFrameDeltaX=0,this.pointerFrameDeltaX=0,this.scrubCounter=0,this.lastPointerX=0,this.firstPointerX=0,this.pointerX=0,this.xTransform=0,this.slideListRef=ge(),this.scrubAnimationRequest=null,this.autoplayInterval=null,this.updateOptions(),this.lastTimestamp=0,this.styleRef=ge(),Object.defineProperty(this.props.baseNode,"thumbnailsVisible",{get:()=>this.state.showThumbnails,set:r=>this.setState({showThumbnails:!!r}),configurable:!0}),this.props.baseNode.pause=this.pause,this.props.baseNode.resume=this.startAutoplay,this.props.baseNode.nextSlide=this.nextSlide,this.props.baseNode.prevSlide=this.prevSlide,this.props.baseNode.showThumbnails=this.showThumbnails,this.props.baseNode.hideThumbnails=this.hideThumbnails,this.props.baseNode.goToSlide=this.goToSlide,this.props.baseNode.getActiveSlide=this.getActiveSlide,this.props.baseNode.updateNavigation=()=>{let{prevNavigation:r,nextNavigation:n}=this.getNavigation();(this.state.prevNavigation!==r||this.state.nextNavigation!==n)&&this.setState({nextNavigation:n,prevNavigation:r})}}render(e,i){this.updateOptions();let{baseNode:r,adminMode:n,pageInfo:o,usesScrollAnimation:l}=e,{showThumbnails:u,activeIndex:c,destinationIndex:d,inTransition:f,isPointerDown:g,scrubAnimating:v,hasLoaded:S,pointerOver:E,hasSizes:_,initialShowNavigation:P,captionHeightMap:A,viewportIntersection:L}=i,{showCaptions:z,autoPlayDelay:q,limitBy:H,adjustForCaptions:re}=this.options,{elWidth:Q}=i;_.elWidth||(this.cachedElWidth=this.props.baseNode.offsetWidth,Q=this.cachedElWidth);let O=H==="fit"?"var(--fit-height)":Kt(this.options.scale,H=="width"?"%":"rem").join(""),ee=this.renderSlides(),ue=this.getSlideListStyles(),J=m("div",{ref:this.slideListRef,style:{transform:ue.transform},className:"slide-list",draggable:!1,tabIndex:0,children:ee}),G={};u||(G.onKeyDown=this.handleKeyDown,G.onClickCapture=this.onClickCapture,G.className="slideshow-wrapper",f&&(G.className+=" in-transition"),g&&(G.className+=" pointer-down"),v&&this.isScrub&&(G.className+=" scrubbing"));let D=H==="width"?this.state.tallestSlide.height:this.state.slideHeightPx,V=this.makeMediaItemAttributes(),K=this.mediaItems.map((U,X)=>{let te=V[X].slot,ce=U._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},fe="100%",me=ce.width,Ae=ce.height,Ie=null,Oe=this.options.showCaptions&&this.state.captionHeightMap[X]||0;if(u)fe=null;else if(typeof me=="string"&&me.indexOf("%")>-1)fe=me;else if(H!=="width"){re?Ie=D+-Oe:Ie=D;let ze=Ae/me,at=Ie+-ce.mediaItemSize.padSize+-ce.mediaSize.padSize,$e=at*(1/ze),ot=(at+ce.mediaSize.padSize)/($e+ce.mediaSize.padSize),Ee=(Ie+-ce.mediaItemSize.padSize)*(1/ot);Math.abs(Ee+ce.mediaItemSize.padSize-Q)<1?fe="100%":fe=`${Math.min(100,100*(Ee+ce.mediaItemSize.padSize)/Q)}%`}return{captionHeight:Oe,customSlideHeight:Ie,figureWidth:fe,slot:te}}),Y=Math.min(this.options.speed/2,.1),oe=Math.max(Math.floor(Q/200),2);this.setMediaElementProperties(V);let $=l&&!this.props["disable-scroll-animation"]?" scroll-transition":"";return m(ie,{children:[Ke(m(ie,{children:m(xn,{uses:$,visibility:L,onLazyLoadChange:null,adminMode:n,customElementMode:!0,baseNode:r,children:[this.options.showCaptions?m("style",{id:"gallery-slideshow-captions",ref:this.styleRef,children:`
					::slotted(media-item) {
						--slideshow-caption-transform: ${ue["--slideshow-caption-transform"]||"translateX(0px)"};
						z-index: 9;
					}
				`}):null,m("style",{id:"gallery-slideshow",children:`
* {
	box-sizing: border-box;
}

:host([hidden]) {
	display: none;
}

:host {
	position: relative;
	transition-timing-function: ease-in-out;
    transition-property: opacity;
    transition-duration: .2s;
	opacity: ${S||u?1:0};

	width: var(--resize-parent-width, 100%);
	max-width: 100%;
    --navigation-opacity: ${E||P?1:0};
    --slide-height: ${D}px;

	--slideshow-horizontal-align: ${this.options.hAlign==="left"?"flex-start":this.options.hAlign==="right"?"flex-end":"center"};

	--slideshow-caption-align: ${this.options.hAlign==="left"?"left":this.options.hAlign==="right"?"right":"center"};	

	--slideshow-vertical-align: ${this.options.vAlign==="top"?"flex-start":this.options.vAlign==="bottom"?"flex-end":"center"};

    ${u?`
	    display: grid;
		grid-template-columns: repeat(${oe}, 1fr);
		column-gap: 2rem;
		row-gap: 2rem;
		align-items: start;
		overflow:hidden;
		--display-slideshow-captions: block;
		--slideshow-caption-opacity: 1;	

	`:`
		--slideshow-caption-transition-duration: ${Y}s;	
		--display-slideshow-captions: ${z?"block":"none"}!important;
	    display: flex;
    	flex-direction: column;
	`}
}

${u?"":K.map((U,X)=>`
::slotted(media-item[slot="${U.slot}"]){
	--item-width: ${U.figureWidth};
	--slide-height: ${U.customSlideHeight||D}px; 
	--caption-height: ${U.captionHeight}px;
}`).join("")}

${u?`
::slotted(media-item){
	min-width: 0;
	max-width: 100%;
	--item-width: 100%;	
	--resize-parent-width: 100%;
	--slide-height: auto;
}`:`
::slotted(media-item) {
    transition: none!important;
    display:block;
	min-width: ${Q}px;
	flex-shrink: 0;
}


	`}

.slide { 
    -webkit-user-select:none;
    user-select:none;
    flex-shrink: 0;
    width: ${Q}px;
}

.navigation-wrapper {

	order: 1;
	position: relative;
}

.slideshow-wrapper {
	--resize-parent-width: ${Q}px;
	order: 3;
	margin-bottom: ${Math.max(...this.state.captionHeightMap.filter(U=>U!==void 0))}px;
}


.slide-list {
	-webkit-backface-visibility: hidden;
	backface-visibility: hidden;
	transform:translateX(0);
    height: var(--slide-height, auto);		
    touch-action: manipulation;
    position: relative;
    display: flex;
    flex-wrap: nowrap;
    flex-direction: row;
    justify-content: flex-start;
}

.slide-list:focus {
    outline: 0;
}


/*
slide transition type 
default transition is slide
*/
${this.isSlide?`
.slide {
    visibility:hidden;
	--base-translate: none!important;    
}

.pointer-down .adjacent-slide.slide,
.in-transition .adjacent-slide.slide,
.active-slide.slide {
    visibility: visible;
}

.slideshow-wrapper {
	overflow-y: visible;
	overflow-x: clip;
}


`:""}

${this.isFade?`


.slide {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    display: flex;
    z-index: 0;

    ${this.state.cancelFadeTransition?`
	  -webkit-transition: none !important;
	  -moz-transition: none !important;
	  -o-transition: none !important;
	  transition: none !important;
    `:`
		transition-timing-function: var(--slideshow-fade-transition-out, cubic-bezier(0.68, 0, 0.68, 0.19));
	    transition-property: opacity;
		transition-duration: ${this.options.speed}s;	
    `}
}

.adjacent-slide.slide {
    display: flex;
}

.active-slide.slide {
    position: relative;
    z-index: 3;
}

.destination-slide.slide {
    ${this.state.cancelFadeTransition?"":"transition-timing-function: var(--slideshow-fade-transition-in, cubic-bezier(0.3, 0, 0.4, 1));"}
	opacity: 1!important;
}

	`:""}


${this.isScrub?`
.slide {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    display: flex;
    z-index: 0;
	transition: opacity .08s cubic-bezier(0.5, 0, 1, 0.5);						


    visibility: hidden;
}

.adjacent-slide.slide {
    visibility: visible;
}

.active-slide.slide {
    position: relative;
    z-index: 3;
}

.destination-slide.slide {
	transition: opacity .08s cubic-bezier(0, 0.5, 0.5, 1);
    opacity: 1!important;
}

.slide {
    cursor: ew-resize;
}
	`:""}

/* captions */

.slide {
	--slideshow-caption-opacity: 0;	
}

.in-transition .slide{
    --slideshow-caption-opacity: 0;
}

${this.state.hideCaptionDuringTransition?"":`
.destination-slide.active-slide.slide {
    --slideshow-caption-opacity: 1;
}
`}

${Y==0?`
.destination-slide.slide,
.active-slide.slide {
    --slideshow-caption-opacity: 1;
}	
`:""}

.scrubbing .slide {
    --slideshow-caption-opacity: 0;
}

/** default navigation **/
.navigation-wrapper {

    position: absolute;
    left:0;
    right: 0;
    
    z-index: 2;
    height: var(--slide-height, auto);
    opacity: var(--navigation-opacity, 1);

}


 				`}),n&&o.isEditing&&!le&&m(N2,{...e,onItemResize:this.onItemResize,inTransition:this.state.inTransition||this.state.isDragging,suppressMutation:this.state.isDragging,gallerySpecificAttributes:l?["disable-scroll-animation"]:[],galleryInstance:r}),!u&&this.options.navigation&&this.len>1&&m("div",{className:"navigation-wrapper",part:`slideshow-nav ${E||P?"navigation-active":""}`,children:[this.state.prevNavigation,this.state.nextNavigation]}),u?m("slot",{name:"thumbnails",onClick:this.onThumbnailClick}):m("div",{part:"slides",...G,onPointerDown:this.onPointerDown,children:J}),m(Dr,{values:{slideHeightPx:O,elWidth:"100%"},style:u?{gridColumn:`1 / span ${oe}`}:null,onResize:this.onResize})]},"slideshow-host")},"slideshow-fragment"),this.props.baseNode.shadowRoot),this.props.children]})}getNavigation=()=>{let e=Array.from(this.props.baseNode.children),i=e.find(n=>n.getAttribute("part")=="previous-button"),r=e.find(n=>n.getAttribute("part")=="next-button");return i?i=Au(i,null,{onClick:this.prevSlide,onPointerDown:n=>this.startScrubDelta(n,Rw),key:"previous-button",part:"previous-button"}):i=m("div",{part:"slideshow-nav-previous-button",class:"slideshow-navigation previous-button",onClick:this.prevSlide,onPointerDown:n=>this.startScrubDelta(n,Rw),children:m("svg",{part:"slideshow-nav-prev",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),r?r=Au(r,null,{onClick:this.nextSlide,onPointerDown:n=>this.startScrubDelta(n,Mw),key:"next-button",part:"next-button"}):r=m("div",{part:"slideshow-nav-next-button",class:"slideshow-navigation next-button",onClick:this.nextSlide,onPointerDown:n=>this.startScrubDelta(n,Mw),children:m("svg",{part:"slideshow-nav-next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),{prevNavigation:i,nextNavigation:r}};updateOptions(){let{"adjust-for-captions":e=li.defaults["adjust-for-captions"].value,"limit-by":i=li.defaults["limit-by"].value,scale:r=li.defaults.scale.value,autoplay:n=li.defaults.autoplay.value,"autoplay-delay":o=li.defaults["autoplay-delay"].value,"transition-speed":l=li.defaults["transition-speed"].value,"transition-type":u=li.defaults["transition-type"].value,navigation:c=li.defaults.navigation.value,"vertical-align":d=li.defaults["vertical-align"].value,"horizontal-align":f=li.defaults["horizontal-align"].value,shuffle:g=li.defaults.shuffle.value,"show-captions":v=li.defaults["show-captions"].value,"disable-zoom":S=li.defaults["disable-zoom"].value,"disable-scroll-animation":E=li.defaults["disable-scroll-animation"].value,"pause-on-hover":_=li.defaults["pause-on-hover"].value,"mobile-limit-by":P,"mobile-scale":A,"mobile-adjust-for-captions":L,"mobile-autoplay":z,"mobile-autoplay-delay":q,"mobile-transition-speed":H,"mobile-transition-type":re,"mobile-navigation":Q,"mobile-vertical-align":O,"mobile-horizontal-align":ee,"mobile-shuffle":ue,"mobile-show-captions":J,"mobile-pause-on-hover":G,"auto-height":D=li.defaults["auto-height"].value,"height-limit":V=li.defaults["height-limit"].value,"mobile-auto-height":K,"mobile-height-limit":Y}=this.props;this.props["limit-by"]===void 0&&this.props["auto-height"]!==void 0&&(D==="custom"?(i="height",this.props.scale==null&&this.props["height-limit"]!==void 0&&(r=V)):D==="fit"?(i="fit",this.props.scale==null&&(r=100)):(i="width",this.props.scale==null&&(r=100))),u=u=="fade"||u=="scrub"?u:"slide";let oe=this.props.isMobile,$={adjustForCaptions:oe&&L!==void 0?L:e,shuffle:oe&&ue!==void 0?ue:g,autoplay:oe&&z!==void 0?z:n,autoPlayDelay:oe&&q!==void 0?q:o,speed:oe&&H!==void 0?H:l,type:oe&&re!==void 0?re:u,navigation:oe&&Q!==void 0?Q:c,disableScrollAnimation:E,disableZoom:S,limitBy:oe&&P!==void 0?P:i,scale:oe&&A!==void 0?A:r,vAlign:oe&&O!==void 0?O:d,hAlign:oe&&ee!==void 0?ee:f,showCaptions:oe&&J!==void 0?J:v,pauseOnHover:oe&&G!==void 0?G:_};$.speed==0&&$.type==="slide"&&($.type="fade"),this.options=$,this.isScrub=$.type==="scrub",this.isSlide=$.type==="slide",this.isFade=$.type==="fade";let U=Array.from(this.props.baseNode.children);if(this.mediaItems=Array.from(this.props.baseNode.children).filter(ce=>ce.tagName=="MEDIA-ITEM"),this.len=this.mediaItems.length,this.len>0){if(this.shuffleList=[],this.options.shuffle){for(let me=0;me<this.len;me++)this.shuffleList.push(me);let ce=this.shuffleSeed,fe=0;this.shuffleList=this.shuffleList.sort(me=>(fe++,ce=(ce+9)%10,(Math.sin(fe+2.4)*5+5)%10>ce?-1:1))}}else this.shuffleList=[];let X=this.isScrub?Math.min(Ioe,(this.len-1)/2):Math.min(Poe,(this.len-1)/2),te=X;te=Math.max(1,Math.floor(te)),X=Math.max(1,Math.ceil(X)),this.len==3?(te=1,X=1):this.len==2?te=0:this.len==1&&(te=0,X=0),this.lazyloadPrev=te,this.lazyloadNext=X}setMediaElementProperties=e=>{if(this.len==0)return;[...this.mediaItems].forEach((r,n)=>{let o=e[n]||{},l=o.visibility||!1;delete o.isAdjacent,delete o.visibility,this.state.hasLoaded?o.itemLoad=null:o.itemLoad=this.onMediaLoad;let u=r._props||{};xo(r,{...u,...o},u,!1,!1),r._setZoomStatus?.(this.options.disableZoom),this.props.usesScrollAnimation&&!this.props["disable-scroll-animation"]&&!this.options.disableScrollAnimation&&r._setScrollTransitionStatus?.(!0);let c=this.state.viewportIntersection.position!=="inside"?this.state.viewportIntersection.position:"outside";r.assignedSlot&&!this.state.inTransition?!this.state.visible&&this.state.lazyloadable&&r.slot.replace("slot-","")==this.state.activeIndex?Tt(r,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}):this.state.visible?(Tt(r,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),Tt(r,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1})):Tt(r,"viewportIntersectionChange",{visible:!1,position:c},{bubbles:!1}):Tt(r,"viewportIntersectionChange",{visible:!1,position:c},{bubbles:!1})})};componentDidMount(){Array.from(this.props.baseNode.children).filter(r=>{let n=r.assignedSlot;return r.tagName==="MEDIA-ITEM"&&n!==null&&r.getAttribute("hash")==="placeholder"}).forEach(this.onMediaLoad);let i=this.props.pageInfo.getPageData(this.props.baseNode);i.activeSlide!==void 0&&(this.waitingToGoToSlide=void 0,i.activeSlide>=this.len?this.waitingToGoToSlide=i.activeSlide:this.goToSlide(i.activeSlide)),le||(Xt(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyLoadIntersectionChange),Xt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),this.props.baseNode.addEventListener("pointerenter",this.onPointerEnter),this.props.baseNode.addEventListener("pointerleave",this.onPointerLeave))}componentWillUnmount(){this.loadedItems.clear(),clearTimeout(this.scrollRestore),le||(cancelAnimationFrame(this.updateSlideTransformAnimationFrame),ii(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyLoadIntersectionChange),ii(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),this.props.baseNode.removeEventListener("pointerenter",this.onPointerEnter),this.props.baseNode.removeEventListener("pointerleave",this.onPointerLeave))}onViewportIntersectionChange=e=>{this.setState({visible:e.visible,viewportIntersection:e})};onLazyLoadIntersectionChange=e=>{this.setState(i=>({lazyloadable:i.lazyloadable||e.visible}))};componentDidUpdate(e,i){e.childArray.length!==this.props.childArray.length&&this.waitingToGoToSlide!==void 0&&this.props.childArray.length>=this.len&&(this.goToSlide(this.waitingToGoToSlide),this.waitingToGoToSlide=void 0),e.slideshowLoad!==this.props.slideshowLoad&&this.state.hasLoaded&&this.props.slideshowLoad&&this.props.slideshowLoad(),(i.layoutIncrement!==this.state.layoutIncrement||i.elWidth!==this.state.elWidth||i.slideHeightPx!==this.state.slideHeightPx||i.hasSizes.elWidth!==this.state.hasSizes.elWidth||i.hasSizes.slideHeightPx!==this.state.hasSizes.slideHeightPx)&&this.updateSlideSizes(),i.cancelFadeTransition!==this.state.cancelFadeTransition&&this.state.cancelFadeTransition&&requestAnimationFrame(()=>{this.slideListRef.current&&Array.from(this.slideListRef.current.querySelectorAll(".slide")).forEach(n=>{n.offsetHeight}),this.setState({cancelFadeTransition:!1})});let r=!1;this.props.thumbnails!=e.thumbnails&&(r=!0,this.onPointerUp(),this.onSlideEnd()),this.props["transition-type"]!==e["transition-type"]&&(this.setState(n=>({destinationIndex:n.activeIndex,cancelFadeTransition:!0})),r=!0,this.onPointerUp(),this.onSlideEnd()),(this.props["show-captions"]!==e["show-captions"]||this.props["mobile-show-captions"]!==e["mobile-show-captions"]&&this.props.isMobile)&&(this.options.showCaptions?(this.onSlideEnd(),this.setState(n=>({...n,layoutIncrement:n.layoutIncrement+1}))):this.setState({captionHeightMap:[]})),(e.isMobile!=this.props.isMobile||e.autoplay!=this.props.autoplay||e["mobile-autoplay"]!=this.props["mobile-autoplay"]&&this.props.isMobile)&&(r=!0),i.pointerOver!==this.state.pointerOver&&this.options.pauseOnHover&&(r=!0),i.visible!=this.state.visible&&(r=!0),i.hasLoaded!==this.state.hasLoaded&&(r=!0),r&&clearTimeout(this.autoplayInterval),r&&this.startAutoplay(),this.isScrub&&(!i.isDragging&&this.state.isDragging?document.body.classList.add("slideshow-scrub-dragging"):!this.state.isDragging&&i.isDragging&&document.body.classList.remove("slideshow-scrub-dragging")),e.adminMode!==this.props.adminMode&&(this.state.inTransition&&this.onSlideEnd(),this.setState({showThumbnails:!1})),this.state.activeIndex!==i.activeIndex&&(this.props.pageInfo.setPageData({activeSlide:this.state.activeIndex},this.props.baseNode),this.state.activeIndex==this.state.destinationIndex&&(clearTimeout(this.showCaptionsAfterTransitionTimeout),this.showCaptionsAfterTransitionTimeout=setTimeout(()=>{this.setState({hideCaptionDuringTransition:!1})},80))),(this.state.inTransition!==i.inTransition||this.state.isPointerDown!==i.isPointerDown||this.state.isDragging!==i.isDragging)&&((this.state.inTransition||this.state.isDragging)&&!this.state.hideCaptionDuringTransition&&(clearTimeout(this.showCaptionsAfterTransitionTimeout),this.setState({hideCaptionDuringTransition:!0})),this.progress=0,cancelAnimationFrame(this.updateSlideTransformAnimationFrame),this.updateSlideTransform())}pause=()=>{this.setState(e=>({inTransition:!1,destinationIndex:e.activeIndex}),()=>{this.onSlideEnd(),clearTimeout(this.autoplayInterval)})};startAutoplay=()=>{this.options.autoplay&&this.state.visible&&this.state.hasLoaded&&!this.options.showThumbnails&&(this.options.pauseOnHover&&!this.state.pointerOver||!this.options.pauseOnHover)&&(clearInterval(this.autoplayInterval),this.autoplayInterval=setTimeout(this.nextSlide,this.options.autoPlayDelay*1e3))};onItemResize=(e,i,r)=>{this.setState(n=>{let o=Array.from(i.children).find(d=>d.getAttribute("slot")==="caption"),l=[...n.captionHeightMap],u=n.captionHeightMap[r],c=0;if(o&&this.options.showCaptions){let d=window.getComputedStyle(o),f=d.getPropertyValue("position");f==="fixed"||f==="absolute"?c=0:d.getPropertyValue("box-sizing")==="content-box"?(c=parseFloat(d.getPropertyValue("height"))||0,c+=parseFloat(d.getPropertyValue("margin-top"))||0,c+=parseFloat(d.getPropertyValue("margin-bottom"))||0,c+=parseFloat(d.getPropertyValue("padding-top"))||0,c+=parseFloat(d.getPropertyValue("padding-bottom"))||0,c+=parseFloat(d.getPropertyValue("border-top"))||0,c+=parseFloat(d.getPropertyValue("border-bottom"))||0):(c=parseFloat(d.getPropertyValue("height"))||0,c+=parseFloat(d.getPropertyValue("margin-top"))||0,c+=parseFloat(d.getPropertyValue("margin-bottom"))||0)}else c=0;return c!==u?(l[r]=c,{captionHeightMap:l,layoutIncrement:n.layoutIncrement+1}):{layoutIncrement:n.layoutIncrement+1}})};updateSlideSizes=()=>{if(this.len==0)return;let{hasSizes:e}=this.state,{elWidth:i}=this.state;!e.elWidth&&this.cachedElWidth&&(i=this.cachedElWidth);let r=this.mediaItems.map((l,u)=>{let c=l._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},d=c.width,f=c.height,g=f;if(typeof d=="string"&&d.indexOf("%")>-1)g=parseFloat(f)+c.mediaItemSize.padSize+c.mediaSize.padSize||150+c.mediaItemSize.padSize+c.mediaSize.padSize;else{let v=f/d;if(c.mediaSize.padSize>0){let S=((i-c.mediaSize.padSize)*v+c.mediaSize.padSize)/i;g=(i-c.mediaItemSize.padSize)*S+c.mediaItemSize.padSize}else g=(i-c.mediaItemSize.padSize)*v+c.mediaItemSize.padSize}return g}),n=Y2.default.maxBy(r,l=>l||0)||0,o={index:r.indexOf(n),height:n};this.setState({tallestSlide:o})};onResize=(e,i)=>{this.setState(r=>({hasSizes:{...r.hasSizes,[e]:!0},[e]:i}))};handleKeyDown=e=>{switch(e.keyCode){case 39:e.preventDefault(),this.nextSlide();break;case 37:e.preventDefault(),this.prevSlide();break}};onPointerEnter=e=>{this.setState({pointerOver:!0})};onPointerLeave=e=>{this.setState({pointerOver:!1})};scrubAnimate=()=>{let{elWidth:e}=this.state,i=j2===0?1/this.len:j2,r=this.pointerX;if(this.state.isPointerDown){this.scrubCounter=0;let o=this.lastPointerX-this.pointerX;this.pointerFrameDeltaX!=0&&(this.lastPointerFrameDeltaX=this.pointerFrameDeltaX),this.pointerFrameDeltaX=o,this.lastPointerFrameDeltaX>0&&this.pointerFrameDeltaX<0?this.firstPointerX=this.pointerX:this.lastPointerFrameDeltaX<0&&this.pointerFrameDeltaX>0&&(this.firstPointerX=this.pointerX)}else this.state.scrubStatus===Rw?(this.scrubCounter=0,this.pointerFrameDeltaX=this.pointerFrameDeltaX+-K2):this.state.scrubStatus===Mw?(this.scrubCounter=0,this.pointerFrameDeltaX=this.pointerFrameDeltaX+K2):this.state.scrubStatus===Ja&&(this.pointerFrameDeltaX<0?this.pointerFrameDeltaX=Math.min(0,this.pointerFrameDeltaX+G2):this.pointerFrameDeltaX=Math.max(0,this.pointerFrameDeltaX+-G2));if(Math.abs(this.pointerFrameDeltaX)>Tw*i*e&&(this.pointerFrameDeltaX>0?this.pointerFrameDeltaX=Tw*i*e:this.pointerFrameDeltaX=-(Tw*i)*e),this.state.isPointerDown){let o=this.lastPointerX-this.pointerX,l=this.lastPointerX-(this.lastPointerX+this.pointerFrameDeltaX);this.firstPointerX=this.firstPointerX-(o-l)}else this.pointerX=this.lastPointerX+this.pointerFrameDeltaX,r=this.pointerX;if(this.lastPointerX=this.pointerX,this.xDrag=r-this.firstPointerX,Math.abs(this.xDrag/e)>i&&this.len>1){let o=this.xDrag>0?(this.state.activeIndex+1)%this.len:(this.state.activeIndex+-1+this.len)%this.len;this.setState({destinationIndex:o,activeIndex:o}),this.xDrag=9e9,this.scrubCounter=0,this.firstPointerX=this.pointerX}clearTimeout(this.autoplayInterval),this.state.scrubStatus==Ja&&this.scrubCounter>=30&&!this.state.isPointerDown?(this.setState({scrubAnimating:!1}),this.scrubCounter=0,this.options.autoplay&&(this.autoplayInterval=setTimeout(this.nextSlide,Math.max(100,this.options.autoPlayDelay*1e3-1e3)))):(this.scrubCounter++,this.scrubAnimationRequest=requestAnimationFrame(this.scrubAnimate))};startScrubDelta=(e,i)=>{if(e){if(e.button==2)return;e.preventDefault()}!this.isScrub||this.len<2||(this.setState({scrubStatus:i}),this.scrubCounter=0,this.firstPointerX=this.lastPointerX=this.pointerX=0,this.lastPointerFrameDeltaX=this.pointerFrameDeltaX=0,this.xDrag=0,this.setState({scrubAnimating:!0}),cancelAnimationFrame(this.scrubAnimationRequest),this.scrubAnimationRequest=requestAnimationFrame(this.scrubAnimate),window.addEventListener("pointerup",this.onScrubPointerUp),window.addEventListener("pointercancel",this.onScrubPointerUp))};onScrubPointerUp=e=>{this.setState({scrubStatus:Ja}),window.removeEventListener("pointerup",this.onScrubPointerUp),window.removeEventListener("pointercancel",this.onScrubPointerUp)};onClickCapture=e=>{this.cancelClick&&e.preventDefault()};onPointerDown=e=>{e.defaultPrevented||e.target.closest(".caption")||!this.slideListRef.current||e.button==2||(this.cancelClick=!1,clearTimeout(this.autoplayInterval),this.firstPointerX=this.lastPointerX=this.pointerX=e.clientX,this.pointerFrameDeltaX=0,this.xDrag=0,this.initialXTransform=this.isSlide?this.xTransform:0,this.setState(i=>({isPointerDown:!0,initialActiveIndex:i.activeIndex})),window.cancelAnimationFrame(this.scrubAnimationRequest),this.isScrub&&(this.scrubAnimationRequest=window.requestAnimationFrame(this.scrubAnimate)),window.addEventListener("pointermove",this.onWindowPointerMove),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointercancel",this.onPointerUp))};getSlideListStyles=()=>{let e="translateX(0)",i="translateX(0)";return this.isSlide&&(e=`translateX(${Math.round((this.state.elWidth*(-1+(1-this.lazyloadPrev))+this.xTransform)*2)/2}px)`,i=`translateX(${-Math.round(this.xTransform*2)/2}px)`),{"--slideshow-caption-transform":i,transform:e}};updateSlideTransform=e=>{let{destinationIndex:i,activeIndex:r,elWidth:n}=this.state,o="";if(this.progress===void 0&&(this.progress=0),this.isSlide&&(this.state.inTransition||this.state.isPointerDown||this.state.isDragging)){o="transform";let u=this.xDrag+this.initialXTransform,c=0,d=u,f=n;i>r?f=-n:i<r?f=n:f=0;let g=0;if((!e||e==0)&&(e=0,this.lastTimestamp=0,g=0),this.lastTimestamp==0&&(this.lastTimestamp=e||0),g=e-this.lastTimestamp,this.lastTimestamp=e,this.state.isDragging||this.state.isPointerDown){if(this.state.isDragging){this.dragPxPerSecond===void 0&&(this.dragPxPerSecond=0),this.lastDragX===void 0&&(this.lastDragX=this.pointerX);let v=(this.pointerX-this.lastDragX)*g;v!=0&&(v>0&&this.dragPxPerSecond>0?v<this.dragPxPerSecond&&(v=this.dragPxPerSecond*.95+v*.05):v<0&this.dragPxPerSecond<0&&v>this.dragPxPerSecond&&(v=this.dragPxPerSecond*.95+v*.05),this.dragPxPerSecond=v),this.lastDragX=this.pointerX}this.progress=0}else{if(this.state.isPointerDown||(this.progress=this.progress+g),this.dragPxPerSecond!==void 0&&this.dragPxPerSecond!==0){this.dragPxPerSecond<0?this.dragPxPerSecond=Math.min(-800,this.dragPxPerSecond):this.dragPxPerSecond=Math.max(800,this.dragPxPerSecond);let v=n/Math.abs(this.dragPxPerSecond);c=Oy(this.progress/(Math.min(v,this.options.speed)*1e3))}else c=Dy(this.progress/(this.options.speed*1e3));u=c*f+(1-c)*d}u=Math.min(Math.max(-n,u),n),this.xTransform=u,c>=1&&!(this.state.isPointerDown||this.state.isDragging)?(this.dragPxPerSecond=void 0,this.lastDragX=void 0,this.onSlideEnd()):this.updateSlideTransformAnimationFrame=requestAnimationFrame(this.updateSlideTransform)}else this.isScrub?(this.xTransform=0,this.progress=0):this.isFade&&(this.xTransform=0,this.progress=0);let l=this.getSlideListStyles();this.slideListRef.current&&l.transform!==this.slideListRef.current.style.transform&&(this.slideListRef.current.style.transform=l.transform,this.styleRef.current&&(this.styleRef.current.sheet?.cssRules?.[0]?.style.setProperty("--slideshow-caption-transform",l["--slideshow-caption-transform"]||"translateX(0px)"),Ps()&&Array.from(this.props.baseNode.children).forEach(u=>{u.nodeName==="MEDIA-ITEM"&&u.assignedSlot&&u._forceRedraw?.()})),this.slideListRef.current.style.willChange=o)};onPointerUp=e=>{window.removeEventListener("pointercancel",this.onPointerUp),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointermove",this.onWindowPointerMove),clearTimeout(this.autoplayInterval),cancelAnimationFrame(this.scrubPointerAnimationRequest);let i=!1,r=!1,n=!1;if(e){let u=Array.from(e.composedPath()).some(c=>c.getAttribute?.("part")?.includes("media"));if(u&&e.target.tagName==="MEDIA-ITEM"&&e.target.getAttribute("browser-default")=="true"){let c=e.target.getFileType?.()??"";(c.startsWith("vimeo")||c.startsWith("youtube")||c=="video")&&(n=!0)}e.target?.closest("a, [href]")&&(i=!0),e.target?.closest("media-item.zoomable")&&u&&(r=!0),!i&&!r&&e?.preventDefault()}e?.pointerType==="touch"&&!i&&e.type!=="pointercancel"&&e.target.nodeName==="MEDIA-ITEM"&&e.target?.shadowRoot?.querySelector(".sizing-frame")?.click();let o=!1,l=!1;this.setState(u=>{let{elWidth:c,scrubStatus:d,isPointerDown:f,isDragging:g,inTransition:v,finishingTransition:S,scrubAnimating:E,activeIndex:_,destinationIndex:P}=u;return!u.isDragging&&(i||r||n)?o=!1:this.isScrub?(v=!1,S=!1,u.isDragging?E=!0:Math.abs(this.xDrag)<8&&(E=!1,o=!0)):this.isSlide&&this.options.speed!=0?u.isDragging?(S=!0,v=!0,o=!1):u.inTransition||u.finishingTransition?(o=!1,S=!0,v=!0):(o=!0,S=!1,v=!1):this.isFade&&this.options.speed!=0?u.isDragging?o=!1:o=!0:this.options.speed==0&&(u.isDragging?(v=!1,o=!1):(v=!1,o=!0),_=P),{elWidth:c,scrubStatus:Ja,isPointerDown:!1,isDragging:!1,inTransition:v,destinationIndex:P,activeIndex:_,scrubAnimating:E}},()=>{this.isFade&&l&&this.setState({cancelFadeTransition:!0}),o&&(this.onSlideEnd(),this.nextSlide())})};onWindowPointerMove=e=>{this.pointerX=e.clientX,this.xDrag=this.pointerX-this.firstPointerX,this.setState(i=>{let{activeIndex:r,destinationIndex:n,isDragging:o,initialActiveIndex:l}=i,u=Math.abs(this.xDrag/i.elWidth),c=i.elWidth*(-2+(1-this.lazyloadNext)),d=i.elWidth*(1-this.lazyloadPrev);if(!i.isDragging&&i.isPointerDown&&Math.abs(this.xDrag)>Coe&&(o=!0,this.isSlide&&i.inTransition&&this.len>1&&(i.destinationIndex>i.activeIndex&&this.xDrag<0?(l++,r++,n++,this.xTransform=this.xTransform+i.elWidth,this.initialXTransform=this.initialXTransform+i.elWidth):i.destinationIndex<i.activeIndex&&this.xDrag>0&&(l--,r--,n--,this.xTransform=this.xTransform-i.elWidth,this.initialXTransform=this.initialXTransform-i.elWidth),l=(r+this.len*3)%this.len,r=(r+this.len*3)%this.len,n=(n+this.len*3)%this.len),this.cancelClick=!0),o){let f=this.xDrag<0?r+1:r-1;u>Eoe&&this.len>1?(Math.abs(f-i.initialActiveIndex)<2||this.isScrub)&&(n=f):this.isScrub||(n=i.initialActiveIndex),n<-1&&(n=n+this.len)}if(i.activeIndex!==r||i.destinationIndex!==n||i.isDragging!==o||i.initialActiveIndex!==l)return{...i,activeIndex:r,destinationIndex:n,initialActiveIndex:l,isDragging:o};{let f=this.getSlideListStyles();return this.slideListRef.current&&(this.slideListRef.current.style.transform=f.transform,this.styleRef.current&&this.styleRef.current.sheet?.cssRules?.[0]?.style.setProperty("--slideshow-caption-transform",f["--slideshow-caption-transform"]||"translateX(0px)")),null}})};nextSlide=e=>{if(e){if(e.defaultPrevented||e.button==2)return;e.stopPropagation(),e.preventDefault()}if(!(this.len<2)){if(this.state.inTransition){this.onSlideEnd();return}cancelAnimationFrame(this.scrubAnimate),this.setState(i=>{let r={...i},n=i.activeIndex+1;return r.inTransition=!(this.isScrub||this.options.speed==0),this.xTransform=0,this.initialXTransform=0,this.isScrub?(r.destinationIndex=n,r.scrubStatus=Ja):r.destinationIndex=n,this.xDrag=0,r}),(this.options.speed==0||this.isScrub)&&this.onSlideEnd()}};prevSlide=e=>{if(e){if(e.defaultPrevented||e.button==2)return;e.stopPropagation(),e.preventDefault()}if(!(this.len<2)){if(this.state.inTransition){this.onSlideEnd();return}cancelAnimationFrame(this.scrubAnimate),this.setState(i=>{let r={...i},n=i.activeIndex-1;return n<-1&&(n=n+this.len),r.inTransition=!(this.isScrub||this.options.speed==0),this.xTransform=0,this.initialXTransform=0,this.isScrub?(r.destinationIndex=n,r.scrubStatus=Ja):r.destinationIndex=n,this.xDrag=0,r}),(this.options.speed==0||this.isScrub)&&this.onSlideEnd()}};onThumbnailClick=e=>{if(this.props.adminMode)return;e.preventDefault(),e.stopPropagation();let i=e?.target?.closest?.("media-item")||null;if(i){let r=Array.from(this.props.baseNode.children).indexOf(i);this.setState({destinationIndex:r,activeIndex:r},this.hideThumbnails)}};onSlideEnd=()=>{clearTimeout(this.autoplayInterval),this.isFade&&this.slideListRef.current&&this.state.inTransition&&this.setState({cancelFadeTransition:!0}),this.setState(e=>{this.xTransform=0;let i=(e.destinationIndex+this.len+this.len+this.len)%this.len;return{...e,activeIndex:i,destinationIndex:i,inTransition:!1}},()=>{if(this.isSlide&&this.slideListRef.current&&(this.slideListRef.current.style.willChange=""),this.props.afterSlideChange){let i=this.props.baseNode.shadowRoot?.querySelector(".active-slide slot")?.assignedElements()?.[0]||null;this.props.afterSlideChange(this.state.activeIndex,i)}}),this.startAutoplay()};onSlideOpacityTransitionStart=(e,i)=>{e.propertyName==="opacity"&&i==0&&e.target.classList.contains("slide")};onSlideOpacityTransitionEnd=(e,i)=>{e.propertyName==="opacity"&&i==0&&e.target.classList.contains("slide")&&this.onSlideEnd()};getWrapAroundDistanceFromIndex=(e,i,r)=>{let n=r*.5,o=n-Math.abs((e+-i)%(2*n)-n);return o<-n&&o<0&&(o=o+r),o};makeMediaItemAttributes=()=>{if(this.len==0)return;let{showThumbnails:e,elWidth:i,slideHeightPx:r,activeIndex:n,actualCardSize:o,destinationIndex:l}=this.state,{shuffle:u,limitBy:c,scale:d,adjustForCaptions:f}=this.options,g=u&&!e,v=[];for(let S=0;S<this.len;S++){let E=(S+this.len)%this.len,_=E;g&&(_=this.shuffleList[E]);let P=`slot-${_}`,A=Math.abs(this.getWrapAroundDistanceFromIndex((_+this.len)%this.len,n,this.len))<3,L={itemDragStart:this.onDragStart,itemResize:(z,q)=>{this.onItemResize(z,q,_)},drag:!1,rotation:"0",scale:"100","limit-by":"width",isAdjacent:A,visibility:n==E,slot:e?"thumbnails":P};v.push(L)}return v};onDragStart=e=>{this.state.showThumbnails||(e.preventDefault(),e.stopPropagation())};onMediaLoad=e=>{let i=Array.from(this.props.baseNode.children).filter(n=>{let o=n.assignedSlot;return n.tagName==="MEDIA-ITEM"&&o!==null});this.loadedItems.has(e)||this.loadedItems.add(e);var r=this.isFade?Math.min(i.length,3):i.length;this.loadedItems.size>=r&&!this.state.hasLoaded&&(this.setState({hasLoaded:!0}),setTimeout(()=>{this.setState({initialShowNavigation:!1})},this.props?.["navigation-hide-delay"]*1e3||1500),this.props.slideshowLoad&&this.props.slideshowLoad())};renderSlides=()=>{let{elWidth:e,destinationIndex:i,activeIndex:r,inTransition:n,showThumbnails:o}=this.state,{xDrag:l,initialXTransform:u}=this,c=[],f=(u%e+l>0||i<r)&&this.isSlide&&this.len==2;for(let g=-this.lazyloadPrev;g<this.lazyloadNext+1;g++){let v=g;f&&(v=v+-1);let S=(v+r+this.len*2)%this.len,E="slot-"+S,_=!1,P=!1,A={};A.className=`slide ${this.options.type}-transition`,(i+this.len)%this.len==S&&(P=!0,A.className+=" destination-slide"),(r+this.len)%this.len==S&&(_=!0,A.className+=" active-slide"),A.part="slide",A.style={},o||(A.style={width:`${e}px`,transform:f?"translateX("+-e+"px)":null}),this.isFade&&(A.onTransitionStart=L=>{this.onSlideOpacityTransitionStart(L,v)},A.onTransitionEnd=L=>{this.onSlideOpacityTransitionEnd(L,v)}),v==-1&&(A.part+=" "+this.options.type+"-slide-previous"),v==1&&(A.part+=" "+this.options.type+"-slide-next"),v>=-1&&v<=1?(A.className+=" adjacent-slide",A.part+=" "+this.options.type+"-slide-adjacent"):A.className+=" non-adjacent-slide",A.slot=E,c.push(Pt("div",{...A,key:"slot_"+E},m("slot",{name:E})))}return c};goToSlide=e=>{e=e%this.len||0,this.setState({showThumbnails:!1,destinationIndex:e,activeIndex:e,inTransition:!1});let i=Re.debounceRendering;Re.debounceRendering=r=>r(),this.forceUpdate(),this.updateSlideTransform(),this.forceUpdate(),Re.debounceRendering=i};getActiveSlide=()=>{let i=this.props.baseNode.shadowRoot?.querySelector(".active-slide slot")?.assignedElements()?.[0]||null;return[this.state.activeIndex,i]};showThumbnails=()=>{let e=this.props.scrollContext.getScrollPosition().y;this.setState({showThumbnails:!0,inTransition:!1},()=>{this.scrollRestore=setTimeout(()=>{this.props.scrollContext.updateScrollPosition({x:null,y:e})},60),this.props.baseNode.dispatchEvent(new CustomEvent("show-thumbnails",{composed:!0,bubbles:!1}))})};hideThumbnails=()=>{let e=this.props.scrollContext.getScrollPosition().y;if(window.getSelection().rangeCount>0){var r=window.getSelection()?.getRangeAt?.(0)?.intersectsNode(this.props.baseNode);r&&window.getSelection()?.removeAllRanges()}this.setState(n=>({destinationIndex:n.activeIndex,showThumbnails:!1,inTransition:!1}),()=>{this.scrollRestore=setTimeout(()=>{this.props.scrollContext.updateScrollPosition({x:null,y:e})},60),this.props.baseNode.dispatchEvent(new CustomEvent("hide-thumbnails",{composed:!0,bubbles:!1}))})}};Dm.defaultProps={"show-tags":!0,"show-title":!0,"thumbnail-index":void 0};Aoe=Ut(So(De((t,e)=>({isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,usesScrollAnimation:t.siteDesign.images.scroll_animation}))(Dm)));ri(Aoe,"gallery-slideshow",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","slideshowLoad","afterSlideChange","thumbnails","transition-type","autoplay","autoplay-delay","transition-speed","navigation","shuffle","height-limit","auto-height","vertical-align","horizontal-align","adjust-for-captions","show-captions","pause-on-hover","disable-scroll-animation","mobile-adjust-for-captions","mobile-thumbnails","mobile-transition-type","mobile-autoplay","mobile-autoplay-delay","mobile-transition-speed","mobile-navigation","mobile-shuffle","mobile-height-limit","mobile-auto-height","mobile-vertical-align","mobile-horizontal-align","mobile-show-captions","mobile-pause-on-hover"])});var X2,Nw,kw,Z2,J2=T(()=>{_e();We();X2=he(xe(),1);Lm();Ws();ht();Ei();Mm();Ne();Ti();_r();ne();Nw={hash:"F1332270929626196865795426877515",id:1234,name:"scape.jpg",width:4e3,height:2250,file_type:"jpg",mime_type:"image/jpg",is_image:!0,is_video:!1,is_url:!1},kw=class extends se{constructor(e){super(e),this.state={isMobile:et.data.mobile.active,loaded:!1,showNavigation:!0,navigationContainer:null,backdropShadowRoot:null,navigationElement:null},this.containerRef=ge(),this.wallpaperRef=ge(),this.slideshowRef=ge(),this.navigationRef=ge()}getSettings=()=>{let e={};for(let[i,r]of Object.entries(Td.default.defaults))this.props.settings?.hasOwnProperty(i)?e[i]=this.props.settings[i]:e[i]=r.value;return e};render(){let{showNavigation:e,navigationContainer:i,isMobile:r}=this.state,{modelArray:n,singleModel:o,visibility:l,wrapperDimensions:u}=this.props,c=this.getSettings(),d=Kt(c.margin,"%"),f="";d[1]==="%"?(d[0]=Math.min(this.props.dimensions.width,this.props.dimensions.height)*parseFloat(d[0])*.01,d[1]="px"):d[1].includes("rem")&&r&&(d[0]="calc( var(--mobile-padding-offset, 1) * "+d[0]+"rem )",d[1]="");let g;d[1]==="px"?g=this.props.dimensions.height+.5-d[0]*2+"px":d[0]?.indexOf?.("calc(")>-1?g=`calc( ${this.props.dimensions.height+.5}px - ( 2 *  ( ${d[0].replace("calc(","")} ) )`:g=`calc( ${this.props.dimensions.height+.5}px - ${d[0]*2+d[1]} )`;let v=c["image-fit"]=="fit",S={autoplay:c.autoplay,"transition-speed":c["transition-speed"],"transition-type":c["transition-type"],"autoplay-delay":c["autoplay-delay"],"pause-on-hover":!1,"limit-by":"height",shuffle:c.shuffle,navigation:!1,scale:g,"show-captions":!1,slideshowLoad:this.onFirstLoad,afterSlideChange:this.onAfterSlideChange,"disable-scroll-animation":!0},E=this.props.settings.alignments||{},_="";for(let[L,z]of Object.entries(E))_+=` media-item[hash="${L}"] { --position-image: ${z.x}% ${z.y}% }`;let P=null,A=null;return n.length>0&&(A=c.navigation&&c["cycle-images"]&&n.length>1?m(ie,{children:[m("div",{className:`backdrop ${this.props.settings.clipScroll?"clip":""}`,children:m("div",{className:"wallpaper-slideshow",ref:this.navigationRef,children:this.state.navigationElement?Ke(m(ie,{children:[m("style",{children:`
:host {
	width: ${this.props.dimensions.width}px;
}

[part="slideshow-nav"] {
    -moz-user-select: none;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none; 

    pointer-events: none;
    position: absolute;
    inset: 0;
    z-index: 1001;
    

    opacity: ${this.state.loaded&&e?"1":"0"};

    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
}


							`}),m("div",{part:"slideshow-nav",children:[m("div",{part:"slideshow-nav-previous-button",onClick:this.prevSlide,children:m("svg",{part:"slideshow-nav-prev",class:"left-arrow",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",class:"arrow",d:"M22.3,28l-10-10l10-10"})]})}),m("div",{part:"slideshow-nav-next-button",onClick:this.nextSlide,children:m("svg",{part:"slideshow-nav-next",class:"next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",class:"arrow",d:"M22.3,28l-10-10l10-10"})]})})]})]}),this.state.navigationElement.shadowRoot):null})}),m("div",{className:"page-layout",children:m("div",{className:"page-content"})})]}):null,P=c["cycle-images"]&&n.length>1?m("gallery-slideshow",{...S,className:"image-container multiple-item",ref:this.slideshowRef,children:n.map((L,z)=>m("media-item",{"image-fit":v?"fit":"fill","disable-zoom":!0,"disable-scroll-animation":!0,hash:L.hash,muted:"true",autoplay:L.is_video||L.is_url,loop:!0,part:"media-item"},"slide-"+z))}):m("div",{className:"image-container single-item",children:m("media-item",{"image-fit":v?"fit":"fill","disable-zoom":!0,"disable-scroll-animation":!0,hash:o?.hash||"placeholder",model:o,part:"media-item",muted:"true",autoplay:o.is_video,loop:"true","force-visible":this.props.visibility.visible,itemLoad:this.onFirstLoad,"limit-by":v?"height":"width",scale:v?g:"100%"})})),m("div",{className:"wallpaper",ref:this.wallpaperRef,children:this.state.backdropShadowRoot&&Ke(m(ie,{children:[m("style",{children:`:host {
						background-color: ${c["bg-color"]||"transparent"};
					    position: absolute;
					    inset: 0;
					}

					gallery-slideshow media-item figcaption.caption {
					    display: none!important;
					}

					gallery-slideshow media-item::part(sizing-frame) {
					    margin: auto 0;
					    flex-grow: 0;
					}

					gallery-slideshow media-item::part(frame) {
					    display: flex;
					    flex-wrap: wrap;
					    width: ${v?"var(--item-width)":"100%"}; 
					    height: var(--slide-height);
					    align-content: center;
					    align-self: center;
					}					

					.inner {
					    position: absolute;
					    inset: ${d.join("")};
					}

					.image-container {
						opacity: ${c.opacity};
						inset: 0;
					    width: 100%;
					    height: 100%;
					    position: absolute;
					    text-align: center;
					    z-index: 2;
					}

					.image-container.single-item {
						display: flex;
						align-content: center;
						justify-content: center;
						position: absolute; 
						margin: auto;
						inset: 0;
					}

					.image-container.single-item media-item {
						margin: auto;
						max-width: auto;
					}

					.image-container.single-item media-item::part(figure){
						height: 100%;
					}				

					gallery-slideshow, media-item {
						transform: translateX(0)!important;
					}

			

					${v?`


						`:`			

						media-item::part(sizing-frame),
						media-item::part(frame) {
						    margin: 0;
						    width: 100%;
						    height: ${g};
						    pointer-events:none;
						    display: block;
						    padding: 0;
						}		

						media-item::part(media),
						media-item::part(video) {
						    object-position: var(--position-image, center center);                  
						    pointer-events: auto;
						    display: block;
						    margin: 0;
						    width: 100%;
						    height: 100%;
						    position: absolute;					    
						    top: 0;
						    left: 0;
						}						
					`}


					${_}`}),A&&i&&Ke(A,i),m("div",{className:"overlay"}),m("div",{className:"inner",ref:this.containerRef,children:P})]}),this.state.backdropShadowRoot)})}prevSlide=e=>{this.hideNavigation.cancel(),e?.preventDefault(),this.slideshowRef.current?.prevSlide()};nextSlide=e=>{e?.preventDefault(),this.hideNavigation.cancel(),this.slideshowRef.current?.nextSlide()};onPointerMove=e=>{this.state.showNavigation||this.setState({showNavigation:!0}),e&&e.target&&this.state.navigationContainer?.contains(e.target)?this.hideNavigation.cancel():this.hideNavigation()};hideNavigation=X2.default.debounce(()=>{this.setState({showNavigation:!1})},1500);onMobileChange=e=>{this.setState({isMobile:e})};renderNavigation(){if(!this.props.backdropRef.current)return;if(this.props.modelArray.length>1&&this.props.settings["cycle-images"]&&!this.state.navigationContainer&&this.props.settings.navigation){let i=document.createElement("div");i.classList.add("wallpaper-navigation"),this.props.backdropRef.current.closest(".page").appendChild(i),this.setState({navigationContainer:i})}else this.state.navigationContainer&&this.state.navigationContainer.remove(),this.setState({navigationContainer:null,navigationElement:null})}componentDidMount(){et.on("mobile-change",this.onMobileChange),this.wallpaperRef.current&&!this.wallpaperRef.current.shadowRoot&&this.wallpaperRef.current.attachShadow({mode:"open"}),this.setState({backdropShadowRoot:this.wallpaperRef.current?.shadowRoot}),this.renderNavigation(),window.addEventListener("pointermove",this.onPointerMove),setTimeout(()=>{this.setMediaElementProperties()},100)}componentWillUnmount(){et.off("mobile-change",this.onMobileChange),this.hideNavigation.cancel(),this.state.navigationContainer&&this.state.navigationContainer.remove(),window.removeEventListener("pointermove",this.onPointerMove)}componentDidUpdate(e,i){let r=this.getSettings();if((this.props.settings.navigation!==e.settings.navigation||this.props.settings["cycle-images"]!==e.settings["cycle-images"]||e.modelArray?.length==1&&this.props.modelArray?.length>1)&&(this.renderNavigation(),this.onPointerMove()),this.props.settings.activeImage!==e.settings.activeImage&&this.props.settings["cycle-images"]&&this.slideshowRef.current){let n=this.slideshowRef.current.querySelector('[hash="'+this.props.settings.activeImage+'"]');if(n){let o=Array.from(this.slideshowRef.current.children).indexOf(n);this.slideshowRef.current.goToSlide(o)}}this.props.visibility.visible&&this.containerRef.current&&(e.visibility.visible!==this.props.visibility.visible||this.props.settings["cycle-images"]!==e.settings["cycle-images"])&&this.setMediaElementProperties(),this.navigationRef.current!==this.state.navigationElement&&(this.navigationRef.current&&!this.navigationRef.current.shadowRoot&&this.navigationRef.current.attachShadow({mode:"open"}),this.setState({navigationElement:this.navigationRef.current}))}setMediaElementProperties=()=>{let e=Array.from(this.containerRef.current.querySelectorAll("media-item"));this.slideshowRef.current&&Tt(this.slideshowRef.current,"viewportIntersectionChange",{visible:this.props.visibility.visible,position:this.props.visibility.position},{bubbles:!1})};onFirstLoad=e=>{if(this.slideshowRef.current){let i=this.slideshowRef.current.getActiveSlide();this.wallpaperRef.current.dispatchEvent(new CustomEvent("afterSlideChange",{detail:{slideIndex:i[0],mediaItem:i[1]},composed:!1,bubbles:!1}))}this.state.loaded||(this.setState({loaded:!0,showNavigation:!0}),this.props.onLoad&&this.props.onLoad())};onAfterSlideChange=(e,i)=>{this.wallpaperRef.current.dispatchEvent(new CustomEvent("afterSlideChange",{detail:{slideIndex:e,mediaItem:i},composed:!1,bubbles:!1}))}},Z2=De((t,e)=>{let i=Qe.getMediaByParent(t)[e.id],r=i.some(l=>l.loading);i=i.filter(l=>!l.loading&&!l.is_deleted&&(l.is_video||l.is_image));let n=null,o=e.settings?.activeImage||null;return o===Nw.hash?(n=Nw,i.push(n)):(o&&(n=i.find(l=>l.hash==o)),n||(n=i[0])),!n&&!r&&i.length==0&&(n=Nw,i.push(n)),e.settings.excluded&&(i=i.filter(l=>e.settings.excluded.indexOf(l.hash)==-1),i.length==1&&e.settings["cycle-images"]&&(n=i[0])),e.settings.order&&i.sort(function(l,u){return e.settings.order.indexOf(l.hash)<e.settings.order.indexOf(u.hash)?-1:1}),{singleModel:n,modelArray:i}})(kw)});var GCe,Ow,Q2,ez=T(()=>{_e();We();GCe=he(xe(),1);ht();Ei();Mm();ne();Ow=class extends se{constructor(e){super(e),this.state={loaded:!1,counter:0,shadowRootRef:null},this.gradientElementRef=ge()}render(){let{visibility:e,dimensions:i}=this.props,{counter:r}=this.state,n={};for(let[te,ce]of Object.entries(Md.default.defaults))this.props.settings?.hasOwnProperty(te)?n[te]=this.props.settings[te]:n[te]=ce.value;let{repeat:o,rotation:l,scale:u,smoothness:c,"animation-speed":d,"pos-x":f,"pos-y":g,"gradient-type":v,"color-one":S,"color-two":E,"color-three":_,"color-one-active":P,"color-two-active":A,"color-three-active":L}=n;S=S||"transparent",E=E||"transparent",_=_||"transparent",g=g+50,f=f+50,u=parseFloat(u)/100,c=parseFloat(c)/100,l=parseInt(l);let z=d>0;d=Math.abs(d/100),d=d*d,d=z?d:-d;let q=d!==0,H=q&&v=="linear"&&o,re=q&&v=="radial"&&o,Q=d>0?d*120+(1-d)*2400:Math.abs(d)*120+(1-Math.abs(d))*2400,O=(1-Math.abs(d))*40+Math.abs(d)*4,ee=r%Q/Q;d>0&&(ee=1-ee);let ue=0,J=re?ee*100*u:0,G=[];P&&G.push(S),A&&G.push(E),L&&G.push(_);let D="",V="",K="",Y=0,oe=0,$="",U="",X=[];if(G.length!=0)if(G.length==1)D+=`background-color: ${G[0]}`;else if(G.length==2)if(o){u=(1-c)*u+u*c;let te=(100/4*1+-c*(100/4))*u-(1-c)*(100/5)*u;X[0]=0+J,X[1]=(100/4*1+c*(100/4))*u-(1-c)*(100/5)*u+-te+J,X[2]=(100/4*3+-c*(100/4))*u-(1-c)*(100/5)*u+-te+J,X[3]=(100/4*3+c*(100/4))*u-(1-c)*(100/5)*u+-te+J,X[4]=100*u+J}else X[0]=0,X[1]=u*100+-(u*100)*c,X[2]=u*100+(1-u)*100*c,X[3]=100;else if(o){u=(1-c)*u+u*c;let te=(100/6*1+-c*(100/6))*u-(1-c)*(100/7)*u;X[0]=0+J,X[1]=(100/6*1+c*(100/6))*u-(1-c)*(100/7)*u+-te+J,X[2]=(100/6*3+-c*(100/6))*u-(1-c)*(100/7)*u+-te+J,X[3]=(100/6*3+c*(100/6))*u-(1-c)*(100/7)*u+-te+J,X[4]=(100/6*5+-c*(100/6))*u-(1-c)*(100/7)*u+-te+J,X[5]=(100/6*5+c*(100/6))*u-(1-c)*(100/7)*u+-te+J,X[6]=100*u+J}else u=(1-c)*3*u+u*c,X[0]=100/6*0+c*(100/6)*0,X[1]=100/6*2+-c*(100/6)*2,X[2]=100/6*2+c*(100/6)*1,X[3]=100/6*4+-c*(100/6)*1,X[4]=100/6*4+c*(100/6)*2,X[5]=100/6*6+-c*(100/6)*0,X[0]=Math.max(X[0]*u+50*(1-u),0),X[1]=Math.max(X[1]*u+50*(1-u),0),X[2]=X[2]*u+50*(1-u),X[3]=X[3]*u+50*(1-u),X[4]=Math.min(X[4]*u+50*(1-u),100),X[5]=Math.min(X[5]*u+50*(1-u),100);if(G.length>1){D="background-image: ",D+=o?"repeating-":"",D+=v=="linear"?`linear-gradient( ${l+180}deg`:`radial-gradient( circle at ${f}% ${g}%`,V=K="background-position: ";let te=[];if(G.length==2?o?te=[0,1,1,0,0]:te=[0,0,1,1]:o?te=[0,1,1,2,2,0,0]:te=[0,0,1,1,2,2],H?X.forEach((ce,fe)=>{let me=G[te[fe]]||G[0];D+=`, ${me} ${ce/2}%`}):X.forEach((ce,fe)=>{let me=G[te[fe]]||G[0];D+=`, ${me} ${ce}%`}),D+=")",H){let ce=(l+90)*(Math.PI/180),fe=i.width/i.height,me=Math.cos(ce),Ae=Math.sin(ce),Ie=X[X.length-1]+"%";me<0?(K+="0% ",V+=Ie+" "):(K+=Ie+" ",V+="0% "),Ae<0?(Ae*=-1,K+="0%;",V+=Ie+";"):(K+=Ie+";",V+="0%;")}}return m("div",{className:"gradient",ref:this.gradientElementRef,children:this.state.shadowRoot&&Ke(m("style",{children:`:host {
						${D};
					    position: absolute;
					    top: 0;
					    left: 0;
					    right: 0;
					    bottom: 0;
					    margin: auto;
					    background-position: 0 0;
					    background-size: ${H?"200% 200%;":"100% 100%;"}
					    ${H&&"will-change: background-position, background-image;"}
					    ${H&&"animation: slideAnimation "+O+"s linear infinite "+(d<0?"reverse":"normal")+";"}
					}

					${H?`
					@keyframes slideAnimation {
						0% {
							${V}
						}

						100% {
							${K}
						}
					}
					`:""}
					`}),this.state.shadowRoot)})}componentDidUpdate(e,i){(this.props.settings.repeat!==e.settings.repeat||this.props["animation-speed"]!==e["animation-speed"])&&(cancelAnimationFrame(this.animFrame),this.props.settings.repeat&&this.props["animation-speed"]!==0&&(this.animFrame=requestAnimationFrame(this.draw)))}componentWillUnmount(){cancelAnimationFrame(this.animFrame)}draw=()=>{this.setState(e=>({counter:e.counter+1}),()=>{this.animFrame=requestAnimationFrame(this.draw)})};componentDidMount(){this.gradientElementRef.current&&!this.gradientElementRef.current.shadowRoot&&this.gradientElementRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.gradientElementRef.current?.shadowRoot}),this.props.settings.repeat&&this.props["animation-speed"]!==0&&(this.animFrame=requestAnimationFrame(this.draw)),this.props.onLoad&&this.props.onLoad()}onFirstLoad=e=>{}},Q2=Ow});var iPe,Hd,Ud,Toe,Moe,Dw,Lw,tz,Fw=T(()=>{_e();iPe=he(xe(),1);Ne();Ji();R2();J2();ez();ne();le||(Hd=new IntersectionObserver(function(t){t.forEach(function(e){let i="inside";e.boundingClientRect.top-e.boundingClientRect.height<0&&!e.isIntersecting?i="above":e.boundingClientRect.top>0&&!e.isIntersecting&&(i="below"),e.target.dispatchEvent(new CustomEvent("intersectionChange",{detail:{visible:e.isIntersecting,position:i}}))})},{root:document,rootMargin:window.screen.height+"px 0px",threshold:0}),Ud=new ResizeObserver(t=>{t.forEach(e=>{e.target.dispatchEvent(new CustomEvent("contentResize",{detail:{width:e.contentRect.width,height:e.contentRect.height},composed:!0,bubbles:!1}))})}));Toe=["wallpaper","gradient","legacy/ripple","legacy/slitscan","legacy/badtv","legacy/gmaps","legacy/halftone","legacy/kaleidoscope","legacy/morphovision","legacy/parallax","legacy/pixelation","legacy/polygon_engine","legacy/refraction","legacy/ripple","legacy/slitscan","legacy/video","legacy/wave"],Moe={wallpaper:Z2,gradient:Q2},Dw={};Toe.forEach(t=>{t.startsWith("legacy")?Dw[t]=M2:Dw[t]=Moe[t]});Lw=class extends se{constructor(e){super(e),this.backdropRef=ge(),this.backdropWrapperRef=ge(),this.state={loaded:0,wrapperDimensions:{width:800,height:800},dimensions:{width:800,height:800},visibility:{visible:!1,position:"inside"},innerVisibility:{visible:!1,position:"inside"},wrapperVisibility:{visible:!1,position:"inside"}}}onWrapperIntersectionChange=e=>{this.setState({wrapperVisibility:e.detail})};onIntersectionChange=e=>{this.setState({innerVisibility:e.detail})};onWrapperResize=e=>{this.setState({wrapperDimensions:e.detail})};onResize=e=>{this.setState({dimensions:e.detail})};render(e,i){let{settings:r,id:n}=this.props,o=Dw[r.activeBackdrop];if(!o)return r.activeBackdrop!=="none"&&console.warn(`Error: Selected Backdrop mode "${r.activeBackdrop}" not found`),null;let l=r.backdropSettings?.[r.activeBackdrop]||{},u=l.clipScroll==!0;return m("div",{className:`backdrop ${u?"clip":""}`,ref:this.backdropWrapperRef,children:[m("div",{className:`backdrop-contents ${this.state.visibility.visible?"visible":""} ${this.state.visibility.position} ${this.state.loaded>0?"loaded":""}`,ref:this.backdropRef,style:{"--backdrop-width":this.state.wrapperDimensions.width+"px","--backdrop-height":this.state.wrapperDimensions.height+"px"},children:m(o,{...this.props,wrapperDimensions:this.state.wrapperDimensions,backdropRef:this.backdropRef,id:this.props.id,path:r.activeBackdrop,settings:l,dimensions:this.state.dimensions,visibility:this.state.visibility,onLoad:this.onLoad})}),m(fo,{baseNodeRef:this.backdropWrapperRef})]})}onLoad=e=>{let i=this.backdropRef.current.querySelector("[data-backdrop]");i&&i.removeAttribute("style"),e&&(e.preventDefault(),e.stopPropagation()),this.setState(r=>({loaded:r.loaded+1})),setTimeout(()=>{this.fireBackdropLoadComplete()})};fireBackdropLoadComplete=()=>{this.backdropLoadCompleteFired||(this.backdropLoadCompleteFired=!0,window.dispatchEvent(new CustomEvent("backdrop-load-complete",{bubbles:!0,composed:!0,detail:{}})))};componentDidUpdate(e,i){if(this.state.innerVisibility!==i.innerVisibility||this.state.wrapperVisibility!==i.wrapperVisibility){let n=(this.props.settings.backdropSettings?.[this.props.settings.activeBackdrop]||{}).clipScroll==!0;this.setState({visibility:n?{...this.state.wrapperVisibility}:{...this.state.innerVisibility}})}e.settings?.activeBackdrop!==this.props.settings?.activeBackdrop&&this.setState(r=>({loaded:r.loaded-1}))}componentDidMount(){this.backdropRef.current&&(window.dispatchEvent(new CustomEvent("backdrop-load-start",{bubbles:!0,composed:!0,detail:{}})),setTimeout(()=>{this.fireBackdropLoadComplete()},3e3),this.backdropWrapperRef.current.addEventListener("legacy-backdrop-loaded",this.onLoad),this.backdropWrapperRef.current.addEventListener("contentResize",this.onWrapperResize),this.backdropRef.current.addEventListener("contentResize",this.onResize),this.backdropRef.current.addEventListener("intersectionChange",this.onIntersectionChange),this.backdropWrapperRef.current.addEventListener("intersectionChange",this.onWrapperIntersectionChange),Ud.observe(this.backdropRef.current),Ud.observe(this.backdropWrapperRef.current),Hd.observe(this.backdropWrapperRef.current),Hd.observe(this.backdropRef.current))}componentWillUnmount(){this.backdropRef.current&&(this.backdropWrapperRef.current.removeEventListener("legacy-backdrop-loaded",this.onLoad),this.backdropWrapperRef.current.removeEventListener("contentResize",this.onWrapperResize),this.backdropRef.current.removeEventListener("contentResize",this.onResize),this.backdropRef.current.removeEventListener("intersectionChange",this.onIntersectionChange),this.backdropWrapperRef.current.addEventListener("intersectionChange",this.onWrapperIntersectionChange),Ud.unobserve(this.backdropRef.current),Ud.unobserve(this.backdropWrapperRef.current),Hd.unobserve(this.backdropWrapperRef.current),Hd.unobserve(this.backdropRef.current))}},tz=Lw});var en,Ve,Fm,iz=T(()=>{en=he(xe(),1);Ne();Ve={handledEmbeds:[],embedsIniting:[],embedScriptsCache:{},songKickWidgets:{},embedChangeObserver:le?null:new MutationObserver(t=>{t.forEach(e=>{e.removedNodes.length>0&&e.target.children.length===0&&Ve.add(e.target);let i=Array.from(e.addedNodes).filter(r=>r?.nodeName==="IFRAME");i.length>0&&Array.from(e.target.querySelectorAll("iframe")).forEach(r=>{i.includes(r)||r.remove()})})}),loadEmbedScript:(t,e)=>{if(Ve.embedScriptsCache[t])return Ve.embedScriptsCache[t];let i=new Promise(r=>{let n=document.createElement("script");n.setAttribute("src",t),n.onload=r,document.head.appendChild(n)});return Ve.embedScriptsCache[t]=i,i},initializeBandsInTown:function(t,e){var i="https://widget.bandsintown.com/main.min.js";e==="v3"&&(i="https://widgetv3.bandsintown.com/main.min.js"),Ve.loadEmbedScript(i).then(function(){BIT.widgetInitializer?t():BIT.onReady=t})},findEmbedsIn:function(t){t&&en.default.each(t.querySelectorAll("cargo-embed"),Ve.add,Ve)},add:function(t){if(!(!t||t.nodeType!==Node.ELEMENT_NODE)){var e=t.getAttribute("data-type");if(!(!e||Ve.handledEmbeds.includes(t)&&t.children.length>0))switch(e){case"tweet":Ve.handleTwitterEmbed(t);break;case"twitter-timeline":Ve.handleTwitterTimelineEmbed(t);break;case"bandsintown":Ve.handleBandsIntownEmbed(t);break;case"songkick":Ve.handleSongkickEmbed(t);break;case"opentable":Ve.handleOpentableEmbed(t);break;case"typeform":Ve.handleTypeFormEmbed(t);break;case"shoprocket":Ve.handleShopRocketEmbed(t);break}}},handleTwitterEmbed:function(t){var e=t.getAttribute("data-id");!e||e===""||Ve.embedsIniting.includes(t)||(Ve.embedsIniting.push(t),Ve.loadEmbedScript("https://platform.twitter.com/widgets.js").then(()=>{t.innerHTML="",twttr.widgets.createTweet(e,t).then(function(i){i&&(i.setAttribute("contenteditable","false"),Ve.embedChangeObserver?.observe(t,{childList:!0,attributes:!0})),Ve.embedsIniting=Ve.embedsIniting.filter(r=>r!==t)})}),Ve.handledEmbeds.push(t))},handleTwitterTimelineEmbed:function(t){if(!Ve.embedsIniting.includes(t)){Ve.embedsIniting.push(t);try{var e=JSON.parse(t.getAttribute("data-source"))}catch{return}typeof e=="number"&&(e=t.getAttribute("data-source"));var i;if(t.hasAttribute("data-options"))try{i=JSON.parse(t.getAttribute("data-options"))}catch{}Ve.loadEmbedScript("https://platform.twitter.com/widgets.js").then(()=>{t.innerHTML="",twttr.widgets.createTimeline(e,t,i).then(function(r){r&&(r.setAttribute("contenteditable","false"),Ve.embedChangeObserver?.observe(t,{childList:!0,attributes:!0})),Ve.embedsIniting=Ve.embedsIniting.filter(n=>n!==t)})}),Ve.handledEmbeds.push(t)}},handleOpentableEmbed:function(t){if(!t.ownerDocument.contains(t))return;let e=document.createElement("opentable-embed-anchor");e.src=t.getAttribute("data-src"),t.appendChild(e),fetch(t.getAttribute("data-src")).then(i=>i.text()).then(i=>{e.id=en.default.uniqueId("opentable-"),i=i.replace('getElementsByTagName("script")','querySelectorAll("opentable-embed-anchor#'+e.id+'")'),window.eval(i),e.remove()}),Ve.embedChangeObserver?.observe(t,{childList:!0,attributes:!0}),Ve.handledEmbeds.push(t)},handleBandsIntownEmbed:function(t){Ve.initializeBandsInTown(()=>{t.innerHTML="";var e={},i={};en.default.each(t.attributes,function(o){if(/^data-/.test(o.name)&&o.name!=="data-type"){var l=o.name.substr(5).replace(/-/g,"_");e[l]=o.value;var u=l.split("_").map(function(c,d){return d>0?c.charAt(0).toUpperCase()+c.slice(1):c}).join("");i[u]=o.value}});var r=document.createElement("a");if(r.setAttribute("id","bit-widget-"+en.default.uniqueId()),r.setAttribute("class","bit-widget-initializer"),en.default.each(e,function(o,l){r.setAttribute("data-"+l.replace(/_/g,"-"),o)}),t.appendChild(r),Ai){var n=new MutationObserver(function(o){en.default.each(o,function(l){l.type=="childList"&&l.addedNodes.forEach(function(u){u&&u.nodeType===Node.ELEMENT_NODE&&(u.setAttribute("contenteditable",!1),u.classList.contains("bit-widget-container")&&(u.style.pointerEvents="none",n.disconnect()))})})});n.observe(t,{childList:!0})}BIT.widgetInitializer.append(r,i),Ve.embedChangeObserver?.observe(t,{childList:!0}),Ve.handledEmbeds.push(t)},t.getAttribute("data-bit-widget-version"))},handleSongkickEmbed:function(t){if(!Ve.embedsIniting.includes(t)){Ve.embedsIniting.push(t);var e={};en.default.each(t.attributes,function(n){if(/^data-/.test(n.name)&&n.name!=="data-type"){var o=n.name.substr(5).replace(/-/g,"_");e[o]=n.value}});var i=document.createElement("a");i.setAttribute("class","songkick-widget"),i.setAttribute("href","https://www.songkick.com/artists/"+e.id),i.setAttribute("contenteditable","false"),en.default.each(e,function(n,o){i.setAttribute("data-"+o.replace(/_/g,"-"),n)}),t.appendChild(i);var r="https://widget-app.songkick.com/injector/"+e.id;Ve.songKickWidgets[e.id]===void 0?Ve.songKickWidgets[e.id]=0:r=r+"?"+ ++Ve.songKickWidgets[e.id],Ve.loadEmbedScript(r).then(()=>{Ve.embedsIniting=Ve.embedsIniting.filter(n=>n!==t),t.children.length===0&&Ve.add(t)}),Ve.embedChangeObserver?.observe(t,{childList:!0}),Ve.handledEmbeds.push(t)}},handleTypeFormEmbed:function(t){Ve.embedsIniting.includes(t)||(Ve.embedsIniting.push(t),Ve.loadEmbedScript("https://embed.typeform.com/next/embed.js").then(()=>{let e={};en.default.each(t.attributes,function(i){i.name.startsWith("data-tf")&&(e[en.default.camelCase(i.name.replace("data-tf",""))]=i.value)}),e.container=t,delete e.iframeProps,t.innerHTML="",window.tf.createWidget(e.widget,e),t.children[0]?.setAttribute("style",t.getAttribute("data-style")),setTimeout(()=>{t.children[0]?.setAttribute("style",t.getAttribute("data-style"))},100),setTimeout(()=>{t.children[0]?.setAttribute("style",t.getAttribute("data-style"))},1e3),Ve.embedsIniting=Ve.embedsIniting.filter(i=>i!==t)}),Ve.embedChangeObserver?.observe(t,{childList:!0}),Ve.handledEmbeds.push(t))},handleShopRocketEmbed:function(t){Ve.embedsIniting.includes(t)||!t.dataset.embed||(Ve.embedsIniting.push(t),Ve.loadEmbedScript("https://cdn.shoprocket.io/loader.js").then(()=>{if(Ai){var e=new MutationObserver(function(i){en.default.each(i,function(r){r.type=="childList"&&r.addedNodes.forEach(function(n){n&&n.nodeType===Node.ELEMENT_NODE&&(n.setAttribute("contenteditable",!1),n.classList.contains("sr-embed")&&(n.style.pointerEvents="none",e.disconnect()))})})});e.observe(t,{childList:!0})}t.innerHTML=en.default.unescape(t.dataset.embed),window.Shoprocket?.init(),Ve.embedsIniting=Ve.embedsIniting.filter(i=>i!==t)}),Ve.embedChangeObserver?.observe(t,{childList:!0}),Ve.handledEmbeds.push(t))},remove:function(){}},Fm=Ve});var rz,vPe,zw,Ru,zm=T(()=>{_e();rz=he(vn(),1);Rs();ai();ht();Ht();vPe=he(xe(),1);ne();zw=class extends se{constructor(e){super(e),this.state={error:!1}}render(e){return m(ie,{children:[m("style",{children:`
					.pages > .page:only-child,
					.pages :has(.page-password) > .page:only-child {
						min-height: var(--viewport-height);
					}
					
					.pages > .page:only-child .page-content,
					.pages :has(.page-password) > .page:only-child .page-content {
						align-items: center;
					}

					.site-password,
					.page-password {
						text-align: center;
						margin: auto;
						height: 0;
						width: 340px;
						display: table;
					}

					.site-password {
						position: fixed;
						top: 0;
						bottom: 0;
						left: 0;
						right: 0;
					}

					.error {
					    transform: translate(0, 20px);
					    position: absolute;
					    width: 100%;
					    text-align: center;
					    left: 0;
					    color: rgba(0,0,0,0.75);
					    user-select: none;
					}

					.submit-wrapper {
						display: grid;
						grid-template-columns: auto 40px;
						border-radius: 100px;
					    border: 1px solid rgba(0,0,0,0.75);
						grid-gap: 5px;
						background: #fff;
					}

					.button-area {
						position: relative;
						width: 40px;
						justify-content: center;
						align-items: center;
						display: flex;
						cursor: pointer;
					}

					.submit-button {
						display: block;
						width: 36px;
						height: 36px;
						border-radius: 50%;
						background: #000;
						transform-origin: 50% 50%;
						transform: scale(1);
						border: none;
						background-image: url("data:image/svg+xml,%3Csvg width='21' height='19' viewBox='0 0 21 19' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.8438 1.9375L19.3438 9.4375L11.8438 16.9375' stroke='%23fff' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M19.3437 9.4375L1.40625 9.4375' stroke='%23fff' stroke-width='2.5' stroke-linecap='round'/%3E%3C/svg%3E%0A");
						background-position: 46% 50%;
						background-repeat: no-repeat;
						background-size: 17px 17px;
						pointer-events: auto;
						cursor: pointer;
						margin-right: 1px;
					}

					.submit-button:active {
						opacity: 0.7;
					}


					input[type="password"] {
						border-radius: 100px;
					    border: none;
						padding: 10px 0px 10px 20px;
					    font-size: 14px;
					    font-family: Helvetica;
					    font-size: 18px;
					    font-style: normal;
					    font-weight: 400;
					    line-height: 21px;
					    letter-spacing: -0.004em;
					    text-align: left;
						width: auto;
					}

					input[type="password"]:placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]::-webkit-input-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]::-moz-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]:-moz-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
	            `}),m("div",{className:this.props.target==="site"?"site-password":"page-password",children:[m("form",{onSubmit:this.submit,class:"submit-wrapper",children:[m("input",{name:"pw",type:"password",placeholder:"Enter password...",autofocus:"true",onKeyDown:this.onKeyDown}),m("div",{className:"button-area",children:m("button",{className:"submit-button",type:"submit"})})]}),this.state.error&&m("span",{class:"error",children:"Invalid password"})]})]})}onKeyDown=e=>{this.state.error&&this.setState({error:!1})};submit=e=>{e.preventDefault();let i;this.props.target==="site"?i=`/sites/${this.props.siteId}/validatepassword`:i=`/pages/${this.props.siteId}/id/${this.props.target}/validatepassword`,rz.default.post(pi+i,{[this.props.target==="site"?"site_password":"password"]:e.target.elements.pw.value}).then(({data:r})=>{if(!r.token){this.setState({error:!0});return}this.setState({error:!1}),this.props.setAuthentication({authenticated:!0,data:{access_token:r.token,id:null}}),this.props.onSucces?.()}).catch(r=>{console.error(r),this.setState({error:!0})})}},Ru=De((t,e)=>({siteId:t.site.id}),t=>Ct({setAuthentication:Fe.setAuthentication},t))(zw)});var qw,nz,oz=T(()=>{_e();We();Bs();zi();Ft();Ft();ne();qw=class extends se{constructor(e){super(e),this.state={hover:!1,buttonHovered:!1},this.editPageButtonRef=ge(),this.layoutButtonRef=ge(),CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents)}editorIsEmpty=(e,i)=>{requestAnimationFrame(()=>{this.setState({showEmpty:this.props.isEditingPage})})};editorHasContent=(e,i)=>{this.setState({showEmpty:!1})};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.CargoEditor=CargoEditor,this.CargoEditor.events.on("editor-no-content",this.editorIsEmpty),this.CargoEditor.events.on("editor-has-content",this.editorHasContent)};componentWillUnmount=()=>{this.CargoEditor&&(this.CargoEditor.events.off("editor-no-content",this.editorIsEmpty),this.CargoEditor.events.off("editor-has-content",this.editorHasContent))};onButtonEnter=()=>{this.setState({hover:!0})};onButtonLeave=()=>{this.setState({hover:!1})};launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.layoutButtonRef.current.getBoundingClientRect(),r={x:i.x+0,y:i.y+-212,left:i.left+0,right:i.right+0,top:i.top+0+-212,bottom:i.top+27+-212,width:i.width,height:i.height};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"layouttemplate",supportsMobile:!0,positionRect:r,closeButton:!1,closeOnAllClickout:!1})};render(e){let i=this.props.isEditingPage,r=this.props.pageIsPin,n=this.state.showEmpty,o=23;return m(Lr,{isEditingPage:i,name:"EditPageButton",trackResize:!0,noPointerEvents:!0,buttonHeight:o,buttonMode:"outside",baseNode:this.props.bodycopyRef.current,render:l=>{let{pointerAttention:u,overlayPosition:c,shiftButtonX:d,shifted:f}=l,g=-o,v=-2;return c.y<=o&&(g=Math.max(0,-c.y),v=0,g>c.height&&(v=-2,g=c.height+1)),i&&n||i?null:m(ie,{children:[m("div",{className:`in-editor-buttons page${u?" hover button-hover":""} ${f?"shifted":""}`,style:{transform:`translate3d(${v+c.x}px, ${g+c.y}px, 0)`},children:m("div",{className:"pointer-mask",style:{transform:`translateX(${d}px)`},children:m("button",{className:"edit-page text",onMouseDown:S=>{S.button==2||S.metaKey||this.props.editPage(S)},ref:this.editPageButtonRef,children:[m("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 16H6V4H10.9875V8.09705H15V16ZM16 7.64491L11.4226 3H5V17H16V7.64491Z",fill:"black"})}),this.props.pageTitle]})})}),m("div",{className:`editor-overlay editor-outline page-outline${u?" hover button-hover":""}${this.state.showEmpty?" hover":""}`,style:{width:c.width+"px",height:c.height+"px",transform:`translate3d(${c.x}px, ${c.y}px, 0)`}})]})}})}},nz=qw});function koe(t){return Ct({pageMounted:Fe.pageMounted,pageUnMounted:Fe.pageUnMounted,updateFrontendState:Fe.updateFrontendState,fetchContent:Fe.fetchContent,fetchCommerceProducts:Fe.fetchCommerceProducts},t)}var Qi,Vs,qm,Wd,Hm,is,Hw,Um,Uw,sz,az,Roe,Noe,Bd,Bw,Bm,Ooe,$s,Wm=T(()=>{_e();ai();ht();Ht();Qi=he(xe(),1);Ei();cd();Fi();ho();Ji();Ya();Ti();Fw();iz();Ne();zm();oz();Sr();Ua();ne();Vs=new Map,qm=new WeakMap,Wd=new WeakMap,Hm=new WeakMap,sz=null,az=t=>{t.forEach(function(e){Vs.has(e.target)&&Vs.get(e.target).onAboveViewPort(e)})},Roe=Qi.default.once(()=>{let t=document.implementation.createDocument("http://www.w3.org/1999/xhtml","body",null),e=document.createElement("style");return t.children[0].appendChild(e),e}),Noe=t=>{let e=Roe();return t!==sz&&(e.innerHTML=t,sz=t),e},Bd=0,Bw=0;le||(window.addEventListener("scroll",t=>{Bw=document.scrollingElement.scrollTop},{passive:!0}),is=new ResizeObserver(function(t){let e={};az(Um.takeRecords()),t.forEach(function(i){let r=Vs.get(i.target);if(r&&(r.onResize(i.target.getBoundingClientRect()),e[r.props.id]=i.contentRect.height),qm.has(i.target)&&qm.get(i.target).onBodyCopyResize(i.contentRect.width),Wd.has(i.target)||Hm.has(i.target)){var n=window.getComputedStyle(i.target);let o=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),l=parseFloat(n.getPropertyValue("margin-bottom"))+parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("border-bottom"));if(Wd.has(i.target)){let u=Wd.get(i.target);(u.state.pageContentPad.top!==o||u.state.pageContentPad.bottom!==l)&&u.setState({pageContentPad:{top:o,bottom:l}})}else{let u=Hm.get(i.target);(u.state.pageLayoutPad.top!==o||u.state.pageLayoutPad.bottom!==l)&&u.setState({pageLayoutPad:{top:o,bottom:l}})}}}),Zb(e)}),Um=new IntersectionObserver(az,{root:document,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}),Uw=new IntersectionObserver((t,e)=>{t.forEach(function(i){Vs.has(i.target)&&Vs.get(i.target).onViewportBoundaryIntersection(i)})},{root:document,rootMargin:Math.max(screen.height*6,2500)+"px",threshold:[0,1]}),Hw=new MutationObserver(function(t){Qi.default.each(t,function(e){e.type=="childList"&&e.addedNodes.forEach(function(i){i.nodeName==="CARGO-EMBED"&&Fm.add(i)})})}));Bm=class extends se{constructor(e){super(e),this.overlayContentRef=ge(),this.bodycopyRef=ge(),this.pageContentRef=ge(),this.pageRef=ge(),this.pageLayoutRef=ge(),this.lastBodycopyRef=ge(),this.lastPageContentRef=ge(),this.lastPageRef=ge(),this.lastPageLayoutRef=ge(),this.lastHeight=0,this.state={resizeParentWidth:"100%",mobileOffsetsString:null,pageContentPad:{top:0,bottom:0},pageLayoutPad:{top:0,bottom:0},windowHeight:null,fullyRender:!0,lastPageLayoutHeight:100,overlayContentFromTransformValue:null,overlayContentToTransformValue:null},this.localStyleRef=ge()}setOverlayContentTransformValues=()=>{let e=this.overlayContentRef.current?.getBoundingClientRect();if(!e)return;let i=this.pageContentRef.current?.getBoundingClientRect();if(!i)return;let r=0,n=0,o=this.props.overlayOptions?.animateOnOpen?.slideAmount/100,l=this.props.overlayOptions?.animateOnClose?.slideAmount/100;if(this.props.overlayOptions?.animateOnOpen?.speed!==0)switch(this.props.overlayOptions?.animateOnOpen?.slideDirection){case"bottom":r=(i.height+(e.height-i.bottom))*o;break;case"top":r=-i.bottom*o;break;case"right":r=(i.width+(e.width-i.right))*o;break;case"left":r=-i.right*o;break}if(this.props.overlayOptions?.animateOnClose?.speed!==0)switch(this.props.overlayOptions?.animateOnClose?.slideDirection){case"bottom":n=(i.height+(e.height-i.bottom))*l;break;case"top":n=-i.bottom*l;break;case"right":n=(i.width+(e.width-i.right))*l;break;case"left":n=-i.right*l;break}if(this.state.overlayContentFromTransformValue!==r&&this.state.overlayContentToTransformValue!==n){this.setState({overlayContentFromTransformValue:r,overlayContentToTransformValue:n});return}if(this.state.overlayContentFromTransformValue!==r){this.setState({overlayContentFromTransformValue:r});return}if(this.state.overlayContentToTransformValue!==n){this.setState({overlayContentToTransformValue:n});return}};setMobileOffsets=()=>{if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}let e=["ul","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","small-caps"];if(!this.localStyleRef.current)return;let i=Noe(this.props.globalStylesheet),r=!1;i.sheet&&Qi.default.each(i.sheet.rules,o=>{o?.selectorText===".mobile [id] .page-layout"&&o?.style?.getPropertyValue("padding")==="0px"&&(r=!0)}),r&&e.push(`[id="${this.props.pid}"] .page-layout`);let n=Ql(this.localStyleRef.current.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:e}]);this.setState({mobileOffsetsString:n})};onBodyCopyResize=e=>{e=parseInt(e),this.lastWidth!==e&&(this.setState({resizeParentWidth:e+"px"}),this.lastWidth=e)};onWindowResize=e=>{this.setState(i=>i.windowHeight===et.data.window.h?null:{windowHeight:et.data.window.h})};onResize=e=>{if(e){if(((this.isAboveViewport??e.bottom<1)||this.props.position==="above"&&this.firstResizeOccurred!==!0)&&this.lastHeight!==e.height){Bd+=e.height-this.lastHeight;let i=Bw-document.scrollingElement.scrollTop;i!==0&&(Bd+=i)}this.lastHeight=e.height,this.firstResizeOccurred=!0,Bd!==0&&(document.scrollingElement.scrollTop+=Bd,Bw=document.scrollingElement.scrollTop,Bd=0)}};onAboveViewPort=e=>{e.rootBounds.height!==0&&(this.isAboveViewport=e.boundingClientRect.bottom<0)};onViewportBoundaryIntersection=e=>{if(e.rootBounds.height===0)return;let i=e.isIntersecting;(le||this.props.isPin||this.props.isEditingPage)&&(i=!0),this.setFullRenderState(i)};setFullRenderState=(e,i)=>{if(this.state.fullyRender===e)return;let r={fullyRender:e,renderSparseHeightDiv:!e};e?(r.renderSparseHeightDiv=!0,setTimeout(()=>{this.state.fullyRender&&this.setState({renderSparseHeightDiv:!1})},100)):r.lastPageLayoutHeight=this.pageLayoutRef.current?.getBoundingClientRect().height||100,this.setState(r,i)};updateAdminState=e=>{this.props.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:e})};zIndexLayerPosition=e=>e?.toString().padStart(2,"0");findPageAdjusteeStatus=e=>{let i={top:null,bottom:null},r=Qi.default.pickBy(this.context?.adjustPairs,n=>n.adjusts.indexOf(this.props.pid)!==-1);return Qi.default.keys(r).length>0&&Qi.default.each(r,function(n){i[n.location]=n.adjustedHeight}),i};determinePinCSS=()=>{if(le||this.props.isOverlay||Qi.default.isEmpty(this.context.levelData))return;let e=1,i={},r=this.context?.renderedPins&&this.props.isPin,n=this.findPageAdjusteeStatus(this.props.pid);if(i.paddingTop=n.top,i.paddingBottom=n.bottom,r){let o=this.context?.renderedPins[this.props.pid];if(o){let l=o.depth,u=Qi.default.keys(this.context.levelData?.levels)?.length+e,c=u-l+e,d=c+this.zIndexLayerPosition(100-o?.pinSort);if(i.zIndex=o.type!=="adjust"?d??null:null,localStorage.getItem("pin_testing")==="true"){let g={old_zIndex:c+this.zIndexLayerPosition(100-o?.sort),new_zIndex:d,pid:this.props.pid,pageList_sort:o?.sort,renderedPageSort:o?.pinSort};console.log(g)}let f=this.context.levelData?.levels[l][o.location];o.type==="overlay"?i[o.location]=f.startingHeight-n[o.location]:o.type==="adjust"&&n[o.location]!==null&&(i[o.location]=f.adjustsSelf?null:f.startingHeight-n[o.location])}}return i["--pin-padding-top"]=(i.paddingTop||0)+"px",i["--pin-padding-bottom"]=(i.paddingBottom||0)+"px",Qi.default.isEmpty(i)?null:i};getAdjustOnlyPinStartHeight=(e,i,r)=>{let n=0;return Qi.default.each(this.context.renderedPins,(o,l)=>{o.depth===e&&o.location===r&&(r==="top"?o.sort<i:o.sort>i)&&o.type==="adjust"&&(n+=this.context.pageHeights[l])}),n};determinePinClassList(e){if(!e||this.props.isOverlay)return"";let i="";return i+=" pinned pinned-"+e.position,i+=e.fixed?" fixed":e.overlay?" overlay":"",i}editPage=e=>{if(e.preventDefault(),parent.window.Cargo?.Ecommerce?.View?.currentView?.saveButton?.saveEnabled===!0||parent.window.Cargo?.Ecommerce?.View?.currentView?.SaveButton?.saveEnabled===!0){parent.window.dispatchEvent(new CustomEvent("navigate-after-commerce-save",{detail:{pid:this.props.pid}}));return}parent.editorActivationEvent=e,parent.navigateAdmin("/"+this.props.pid),this.updateAdminState({pageTitleBarTransition:!0}),setTimeout(()=>{this.updateAdminState({pageTitleBarTransition:!1})},600)};getPageInfoContextValue(){return(this.props.isEditingPage!==this.lastProps?.isEditingPage||this.props.pid!==this.lastProps?.pid)&&(this.pageInfoContextValue={isEditing:this.props.isEditingPage,pid:this.props.pid}),this.lastProps=this.props,this.pageInfoContextValue}render(){if(!this.props.hasPage||le&&this.props.access_level!=="public")return null;let e=this.props.backdrops?.activeBackdrop&&this.props.backdrops?.activeBackdrop!="none",i=this.props.isPin&&this.props.pin_options,r=i?this.props.pin_options:null,n=null,o=null,l=this.determinePinCSS(),u=this.determinePinClassList(r),c={};this.props?.local_css?.includes("--page-layout-mix:")&&!this.props?.local_css?.includes("--page-layout-mix: normal")?c["--page-content-backdrop-filter"]="none":c["--page-content-backdrop-filter"]="";let d={},f="";if(this.props.isOverlay===!0){let v="translate3d(0, 0, 0)";switch(this.props.overlayOptions?.animateOnOpen?.slideDirection){case"bottom":v=`translate3d(0, ${this.state.overlayContentFromTransformValue}px, 0)`;break;case"top":v=`translate3d(0, ${this.state.overlayContentFromTransformValue}px, 0)`;break;case"right":v=`translate3d(${this.state.overlayContentFromTransformValue}px, 0, 0)`;break;case"left":v=`translate3d(${this.state.overlayContentFromTransformValue}px, 0, 0)`;break}if(this.props.overlayOptions?.animateOnOpen?.scaleAmount){let re=1-Number(this.props.overlayOptions?.animateOnOpen?.scaleAmount)/100;v+=` scale(${re})`}this.props.overlayOptions?.animateOnOpen?.rotateAmount&&(v+=` rotate(${Number(this.props.overlayOptions?.animateOnOpen?.rotateAmount)*-1}deg)`);let S="translate3d(0, 0, 0)";switch(this.props.overlayOptions?.animateOnClose?.slideDirection){case"top":S=`translate3d(0, ${this.state.overlayContentToTransformValue}px, 0)`;break;case"bottom":S=`translate3d(0, ${this.state.overlayContentToTransformValue}px, 0)`;break;case"left":S=`translate3d(${this.state.overlayContentToTransformValue}px, 0, 0)`;break;case"right":S=`translate3d(${this.state.overlayContentToTransformValue}px, 0, 0)`;break}if(this.props.overlayOptions?.animateOnClose?.scaleAmount){let re=1-Number(this.props.overlayOptions?.animateOnClose?.scaleAmount)/100*-1;S+=` scale(${re})`}this.props.overlayOptions?.animateOnClose?.rotateAmount&&(S+=` rotate(${this.props.overlayOptions?.animateOnClose?.rotateAmount}deg)`);let E="none";switch(this.props.overlayOptions?.animateOnOpen?.wipeShape){case"right":E="inset(0 0 0 100%)";break;case"left":E="inset(0 100% 0 0)";break;case"top":E="inset(0 0 100% 0)";break;case"bottom":E="inset(100% 0 0 0)";break;case"circle":E="circle(0%)";break;case"diamond":E="polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)";break;case"square":E="inset(100% 100% 100% 100%)";break}let _="none";switch(this.props.overlayOptions?.animateOnClose?.wipeShape){case"right":case"left":case"top":case"bottom":_="inset(0 0 0 0)";break;case"circle":_="circle(125%)";break;case"diamond":_="polygon(-50% 50%, 50% -50%, 150% 50%, 50% 150%)";break;case"square":_="inset(0 0 0 0)";break}let P="none";switch(this.props.overlayOptions?.animateOnOpen?.wipeShape){case"right":case"left":case"top":case"bottom":P="inset(0 0 0 0)";break;case"circle":P="circle(125%)";break;case"diamond":P="polygon(-50% 50%, 50% -50%, 150% 50%, 50% 150%)";break;case"square":P="inset(0 0 0 0)";break}let A="none";switch(this.props.overlayOptions?.animateOnClose?.wipeShape){case"left":A="inset(0 0 0 100%)";break;case"right":A="inset(0 100% 0 0)";break;case"bottom":A="inset(0 0 100% 0)";break;case"top":A="inset(100% 0 0 0)";break;case"circle":A="circle(0%)";break;case"diamond":A="polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)";break;case"square":A="inset(100% 100% 100% 100%)";break}let L="linear";switch(this.props.overlayOptions?.animateOnOpen?.easing){case"ease-in":L="ease-in";break;case"ease-out":L="ease-out";break;case"ease-in-out":L="ease-in-out";break;case"bounce":L="cubic-bezier(.47,1.64,.41,.8)";break;case"elastic":L="cubic-bezier(.2,.69,.41,1.12)";break;case"hesitate":L="cubic-bezier(0,.8,1,0)";break;case"linear":default:L="linear";break}let z="linear";switch(this.props.overlayOptions?.animateOnClose?.easing){case"ease-in":z="ease-in";break;case"ease-out":z="ease-out";break;case"ease-in-out":z="ease-in-out";break;case"bounce":z="cubic-bezier(.47,1.64,.41,.8)";break;case"elastic":z="cubic-bezier(.2,.69,.41,1.12)";break;case"hesitate":z="cubic-bezier(0,.8,1,0)";break;case"linear":default:z="linear";break}d={"--overlay-open-duration":this.props.overlayOptions?.animateOnOpen?.speed?`${this.props.overlayOptions?.animateOnOpen?.speed}s`:"0s","--overlay-open-from-opacity":this.props.overlayOptions?.animateOnOpen?.fade?0:1,"--overlay-open-from-background-color":this.props.overlayOptions?.animateOnOpen?.fade?"inherit":"transparent","--overlay-open-content-from-transform":v,"--overlay-open-content-from-clip-mask":E,"--overlay-open-content-to-clip-mask":P,"--overlay-close-duration":this.props.overlayOptions?.animateOnClose?.speed?`${this.props.overlayOptions?.animateOnClose?.speed}s`:"0s","--overlay-close-to-opacity":this.props.overlayOptions?.animateOnClose?.fade?0:1,"--overlay-close-to-background-color":this.props.overlayOptions?.animateOnClose?.fade?"inherit":"transparent","--overlay-close-content-to-transform":S,"--overlay-close-content-from-clip-mask":_,"--overlay-close-content-to-clip-mask":A,"--overlay-open-easing":L,"--overlay-close-easing":z,opacity:this.state.overlayContentFromTransformValue!==null?void 0:0,zIndex:999}}if(this.state.fullyRender){let v=this.props.contentPad.top+this.state.pageLayoutPad.top+this.state.pageContentPad.top+this.state.pageContentPad.bottom+this.state.pageLayoutPad.bottom+this.props.contentPad.bottom;l&&(l.paddingTop&&(v+=l.paddingTop),l.paddingBottom&&(v+=l.paddingBottom));let S=Math.max(10,this.state.windowHeight-v),E=null;this.props.access_level==="password"?E=m(Ru,{target:this.props.pid,onSucces:()=>{this.props.fetchContent(this.props.pid,{force:!0})}}):this.hasOwnProperty("lockedContent")?E=this.lockedContent:E=this.lockedContent=this.props.content,this.maxFitHeight=S;let _=m("bodycopy",{style:{"--fit-height":S+"px","--resize-parent-width":this.state.resizeParentWidth},ref:this.bodycopyRef,dangerouslySetInnerHTML:typeof E=="string"?{__html:E}:void 0,children:Ec(E)?E:null});o=m(Sf,{pageRef:this.pageRef,value:this.getPageInfoContextValue(),children:m("div",{className:"page-layout",ref:this.pageLayoutRef,children:m("div",{className:`page-content${this.props?.local_css?.includes("--page-content-backdrop-filter")?" has-content-backdrop-filter":""}`,ref:this.pageContentRef,style:c,children:[this.props.adminMode&&this.props.Editor_PageEditorOutlines!==!1&&m(nz,{bodycopyRef:this.bodycopyRef,pageTitle:this.props.title,pageContent:this.props.content,pageIsPin:this.isPinned,isEditingPage:this.props.isEditingPage,editPage:this.editPage}),m(Cm,{pageInfo:this.getPageInfoContextValue(),adminMode:this.props.adminMode,bodycopyRef:this.bodycopyRef,children:[m(fo,{portalHost:_}),_]})]})})})}let g=!0;return(r?.fixed||this.props.isOverlay)&&(g=!1),this.state.renderSparseHeightDiv&&(l=l||{},l.height=this.state.lastPageLayoutHeight+"px",l.overflow="hidden"),n=m("div",{id:this.props.pid,"page-url":this.props.purl?.toLowerCase(),className:`page${u!==null?u:""}${this.props.stackedPage?" stacked-page":""}${this.props?.local_css?.includes("--page-backdrop-filter")?" has-backdrop-filter":""}`,ref:this.pageRef,style:l,editing:this.props.isEditingPage,children:[e&&m(tz,{id:this.props.pid,settings:this.props.backdrops}),m("a",{id:this.props.purl}),m(nu,{passthrough:g,scrollingElement:this.props.isOverlay?this.overlayContentRef:this.pageContentRef,children:[this.state.renderSparseHeightDiv&&m("div",{style:{height:this.state.lastPageLayoutHeight+"px"}}),o]}),m("style",{ref:this.localStyleRef,children:this.props.local_css}),m("style",{id:`mobile-offset-styles-${this.props.pid}`,children:this.state.mobileOffsetsString})]}),this.props.isOverlay===!0?m("div",{ref:this.overlayContentRef,className:"overlay-content "+f,style:d,children:n}):n}componentDidUpdate=(e,i,r)=>{this.bindObservers(),this.setPinProperties(e),this.props.isOverlay===!0&&(this.setOverlayScrollability(),this.state.overlayContentFromTransformValue!==null&&this.overlayContentRef?.current?.classList.contains("overlay-open")===!1&&this.props.overlayOptions?.animateOnOpen!==!1&&this.props.overlayOptions?.animateOnOpen?.speed!==0&&(this.overlayContentRef?.current?.classList.add("overlay-open"),this.overlayContentRef?.current?.classList.add("overlay-animating"))),e.content===void 0&&this.props.content!==e.content&&(this.checkAndSetActiveLinks(),this.fetchCommerceProductsByLink()),this.state.fullyRender===!0&&i.fullyRender===!1?this.onFullComponentRender():this.state.fullyRender===!1&&i.fullyRender===!0&&this.onSparseComponentRender(),(e.activePURL!==this.props.activePURL||e.activePID!==this.props.activePID||e.adminMode!==this.props.adminMode)&&(this.checkAndSetActiveLinks(),this.temporarySafariRenderingFix()),this.props.local_css!==e.local_css&&this.setMobileOffsets(),this.props.globalStylesheet!==e.globalStylesheet&&this.setMobileOffsets(),e.isMobile!==this.props.isMobile&&this.setMobileOffsets(),this.props.hashPurl!==e.hashPurl&&this.runHashScroll()};shouldComponentUpdate(e,i,r){return!(this.props===e&&this.state===i&&this.context===r||this.hasOwnProperty("lockedContent")&&this.props.content!==e.content&&wf({...this.props,content:null},{...e,content:null})&&this.state===i&&this.context===r)}setPinProperties=e=>{if(this.props.isPin&&this.pageRef.current){if(this.props.adminMode&&Qi.default.isEqual(this.props.pin_options,e.pin_options)===!1&&(this.pageRef.current.scrollIntoView(),this.props.pin_options.position==="bottom")){let i=this.context.adjustPairs[this.props.pid];if(i&&i.adjusts){let r=document.body.querySelector("[id='"+i.adjusts[0]+"']");requestAnimationFrame(()=>{r.scrollIntoView({block:"end"})})}}this.props.pin_options.fixed===!0&&this.setFixedPinScrollability(),this.props.pin_options.overlay===!0&&this.props.local_css!==""&&this.checkBackgroundColor()}};checkBackgroundColor=Qi.default.debounce(()=>{if(!this.pageRef.current)return;!(this.props.backdrops?.activeBackdrop&&this.props.backdrops?.activeBackdrop!="none")&&this.hasNoBackgroundColor(this.pageRef.current)?this.pageRef.current.classList.remove("accepts-pointer-events"):this.pageRef.current.classList.add("accepts-pointer-events");let i=this.pageRef.current?.querySelector(".page-content");this.hasNoBackgroundColor(i)?i.classList.remove("accepts-pointer-events"):i.classList.add("accepts-pointer-events")},100);hasNoBackgroundColor=e=>{if(e==null)return!1;let i=window.getComputedStyle(e,null),r=i.getPropertyValue("background-color"),n=r.match("rgba")?r.replace(/^.*,(.+)\)/,"$1"):null;return r==null||r=="transparent"||r=="initial"||n==0};setFixedPinScrollability=()=>{if(!this.pageRef.current)return;let e=this.pageContentRef.current,i=this.bodycopyRef.current;e&&i&&i.clientHeight>e.clientHeight?this.pageRef.current.classList.add("allow-scroll"):this.pageRef.current.classList.remove("allow-scroll")};setOverlayScrollability=()=>{if(!this.pageRef.current)return;let e=this.bodycopyRef.current,i=window.innerHeight,r=e.getBoundingClientRect().height;i&&r&&r>i?this.overlayContentRef.current.classList.add("overlay-allow-scroll"):this.overlayContentRef.current.classList.remove("overlay-allow-scroll")};checkAndSetActiveLinks=e=>{if(!this.pageRef.current)return;let i=e?.detail?.filter;i?.startsWith("tag:")?i=i.replace("tag:","").trim():i?i="all":i=null;let r=this.props.inAdminFrame&&this.props.adminMode===!0;if(this.props.isEditingPage&&!r)return;let n=this.pageRef.current.querySelectorAll('[rel="history"], [rel="filter-index"], [rel="home-page"]'),o=this.props.activePURL===this.props.homepagePURL||this.props.activePID==="root";Qi.default.each(n,l=>{let u=l.getAttribute("href")?.toLowerCase(),c=u===this.props.activePURL||this.props.activePurlParents?.includes(u);!r&&c&&this.props.homepagePURL!==u?l.classList.add("active"):l.classList.remove("active"),!r&&this.props.enableHomeLinkActiveStates&&(this.props.homepagePURL===u||l.getAttribute("rel")==="home-page")&&(o?l.classList.add("active"):l.classList.remove("active"))})};bindObservers=(e=!1)=>{(this.pageRef.current!==this.lastPageRef.current||e)&&(this.lastPageRef.current&&(Vs.delete(this.lastPageRef.current),is.unobserve(this.lastPageRef.current),Um.unobserve(this.lastPageRef.current),Uw.unobserve(this.lastPageRef.current)),this.pageRef.current&&!e&&(Vs.set(this.pageRef.current,this),is.observe(this.pageRef.current),Um.observe(this.pageRef.current),Uw.observe(this.pageRef.current)),this.lastPageRef.current=this.pageRef.current),(this.pageLayoutRef.current!==this.lastPageLayoutRef.current||e)&&(this.lastPageLayoutRef.current&&(Hm.delete(this.lastPageLayoutRef.current),is.unobserve(this.lastPageLayoutRef.current)),this.pageLayoutRef.current&&!e&&(Hm.set(this.pageLayoutRef.current,this),is.observe(this.pageLayoutRef.current)),this.lastPageLayoutRef.current=this.pageLayoutRef.current),(this.pageContentRef.current!==this.lastPageContentRef.current||e)&&(this.lastPageContentRef.current&&(Wd.delete(this.lastPageContentRef.current),is.unobserve(this.lastPageContentRef.current)),this.pageContentRef.current&&!e&&(Wd.set(this.pageContentRef.current,this),is.observe(this.pageContentRef.current)),this.lastPageContentRef.current=this.pageContentRef.current),(this.bodycopyRef.current!==this.lastBodycopyRef.current||e)&&(this.lastBodycopyRef.current&&(this.lastBodycopyRef.current.removeEventListener("filter-thumbnail-index",this.checkAndSetActiveLinks),qm.delete(this.lastBodycopyRef.current),is.unobserve(this.lastBodycopyRef.current)),this.bodycopyRef.current&&!e&&(qm.set(this.bodycopyRef.current,this),is.observe(this.bodycopyRef.current),this.bodycopyRef.current.addEventListener("filter-thumbnail-index",this.checkAndSetActiveLinks)),this.lastBodycopyRef.current=this.bodycopyRef.current)};runHashScroll(){if(this.props.hashPurl===this.props.purl){let e=this.pageRef.current?.getBoundingClientRect().top;if(e>0&&e<et.data.window.h)return;this.state.fullyRender!==!0?this.setFullRenderState(!0,()=>{this.pageRef.current.scrollIntoView()}):this.pageRef.current.scrollIntoView()}}componentDidMount(){this.runHashScroll(),this.onWindowResize(),et.on("window-resize",this.onWindowResize),this.state.fullyRender===!0&&this.onFullComponentRender(),this.context.onPageMount(this.pageRef.current),this.pageRef.current&&(Fm.findEmbedsIn(this.pageRef.current),Hw&&Hw.observe(this.pageRef.current,{childList:!0,subtree:!0}),this.pageRef.current.addEventListener("dom-binding-initialized",()=>{Fm.findEmbedsIn(this.pageRef.current)}),this.props.isOverlay&&(window.setTimeout(this.setOverlayContentTransformValues,100),this.calculateOverlayPassthroughClasses(),this.pageRef.current.addEventListener("animationend",this.calculateOverlayPassthroughClasses)),this.temporarySafariRenderingFix())}calculateOverlayPassthroughClasses=()=>{if(!this.pageRef.current||!this.pageContentRef.current)return;let e=window.getComputedStyle(this.pageRef.current,null),i=window.getComputedStyle(this.pageContentRef.current,null),r=e.getPropertyValue("background-color"),n=i.getPropertyValue("background-color"),o=this.props.isOverlay&&(r==="transparent"||r==="initial"||r==="rgba(0, 0, 0, 0)"),l=this.props.isOverlay&&(n==="transparent"||n==="initial"||n==="rgba(0, 0, 0, 0)")&&r.startsWith("rgba(");o?this.overlayContentRef.current.classList.add("is-passthrough-overlay"):this.overlayContentRef.current.classList.remove("is-passthrough-overlay"),l?this.overlayContentRef.current.classList.add("is-content-passthrough-overlay"):this.overlayContentRef.current.classList.remove("is-content-passthrough-overlay")};temporarySafariRenderingFix=()=>{this.props.adminMode||setTimeout(()=>{!le&&Ps()&&this.props?.pin_options?.position==="bottom"&&(this.pageRef?.current?.classList.add("loading"),setTimeout(()=>{this.pageRef?.current?.classList.remove("loading")},1200))},10)};onFullComponentRender(){if(this.pageLayoutRef.current){let e=function(i){i.childNodes.forEach(r=>r.setSaveable(!0));for(let r of i.childNodes)e(r)};e(this.pageLayoutRef.current)}this.pageRef.current&&(this.initializeScriptTags(),this.props.pageMounted(this.pageRef.current).then(()=>{this.checkAndSetActiveLinks(),this.fetchCommerceProductsByLink()})),this.props.isPin&&this.props.pin_options?.fixed===!0&&this.setFixedPinScrollability(),this.props.isOverlay===!0&&this.setOverlayScrollability(),this.props.isMobile&&this.setMobileOffsets(),this.bindObservers()}componentWillUnmount(){this.pageRef.current&&this.pageRef.current.removeEventListener("animationend",this.calculateOverlayPassthroughClasses),et.off("window-resize",this.onWindowResize),Vs.delete(this.pageRef.current),this.onSparseComponentRender(!0),this.onResize({height:0}),this.context.onPageUnmount(this.pageRef.current)}onSparseComponentRender(e=!1){this.bindObservers(e),this.pageRef.current&&this.props.pageUnMounted(this.pageRef.current)}fetchCommerceProductsByLink=()=>{if(!this.pageRef.current||!this.props.has_shop)return;let e=this.pageRef.current.querySelectorAll('[rel="add-to-cart"], [rel="add_to_cart"]'),i=[];Qi.default.each(e,r=>{let n=r.getAttribute("data-product");n&&i.push(n)}),this.props.fetchCommerceProducts({idArray:i,onlyNew:!0})};initializeScriptTags=()=>{let e=!1,i=function(r){e=!0};window.addEventListener("error",i,!1),Qi.default.each(this.bodycopyRef.current?.querySelectorAll("script"),r=>{if(r.getAttribute("type")==="text/thumbnail-metadata")return;e=!1;let n=document.createElement("script");[...r.attributes].forEach(o=>{n.setAttribute(o.nodeName,o.nodeValue)}),n.innerHTML=r.textContent,r.replaceWith(n),e&&(e=!1,n.parentNode.insertBefore(document.createComment(n.outerHTML),n),n.remove(),this.props.adminMode&&this.props.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"One or more scripts on this page are broken and were disabled.",type:"notice"}}}))}),window.removeEventListener("error",i)}};Bm.contextType=Ba;Ooe=Qi.default.memoize((t,e)=>t.map(i=>e.sets.byId[i]?.purl).filter(i=>i&&typeof i=="string").map(i=>i.toLowerCase())),$s=yn(De((t,e)=>{let i=Qe.getContentById(t,e.id),r=t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID],n,o;return r&&(n=r.purl?.toLowerCase(),o=Ooe(Qe.getParentSetList(t,r.id),t)),!le&&!n&&(n=window.location.pathname.replace(/^\//,"").toLowerCase()),{inAdminFrame:t.frontendState.inAdminFrame,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,isEditingPage:i?.id&&t.frontendState.PIDBeingEdited===i?.id,hasPage:i!==void 0,homepagePURL:Qe.getHomepagePurl(t),pid:i?.id,purl:i?.purl,isPin:i?.pin,title:i?.title,backdrops:i?.backdrops,content:i?.content,access_level:i?.access_level,local_css:i?.local_css,pin_options:i?.pin_options,PIDBeingEdited:t.frontendState.PIDBeingEdited,globalStylesheet:t.css?.stylesheet,enableHomeLinkActiveStates:t.siteDesign?.site?.enableHomeLinkActiveStates,activePID:t.frontendState.activePID,activePURL:n,activePurlParents:o,pageDepth:Qe.getParentSetList(t,e.id).length-1,has_shop:t.site.shop_id!==null,Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}},koe)(Bm))});var Vd,lz=T(()=>{_e();Wm();ne();Vd=class t extends se{constructor(e){super(e)}render=()=>{let e=this.props.children.filter(r=>r.parent===this.props.id),i=e.filter(r=>r.content.page_type=="page").length>1;return m("div",{"data-container":"set","data-id":this.props.id,children:e.map((r,n)=>r.content.page_type==="set"?m(t,{id:r.content.id,children:this.props.children,hashPurl:this.props.hashPurl,contentPad:this.props.contentPad},r.content.id):m($s,{id:r.content.id,position:r.position,hashPurl:this.props.hashPurl,contentPad:this.props.contentPad,stackedPage:i},r.content.id))})}}});var rIe,Ww,Vm,Vw=T(()=>{_e();rIe=he(xe(),1);ne();Ww=class extends se{constructor(e){super(e)}render=()=>m(ie,{children:[m("style",{children:`
					body {
						letter-spacing: 0;
						padding: 30px;
						color: rgba(0,0,0,.85);
						font-size: 18px;
						line-height: 1;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif, "Sans Serif", Icons;
					}
				`}),this.props.message]})},Vm=Ww});var uz,cz=T(()=>{uz={closeOnClickout:!1,closeOnNavigate:!1,animateOnOpen:{fade:!1,speed:0,slideAmount:0,slideDirection:"default",wipeShape:"default",easing:"linear",scaleAmount:0,rotateAmount:0},animateOnClose:{fade:!1,speed:0,slideAmount:0,slideDirection:"default",wipeShape:"default",easing:"linear",scaleAmount:0,rotateAmount:0}}});function zoe(t,e){return{adminMode:t.frontendState.adminMode,PIDToEdit:t.frontendState.PIDToEdit,overlayBeingPreviewed:t.frontendState.overlayBeingPreviewed,overlayOptionsByPID:Foe(t.pages.byId),sortMap:t.structure.bySort,autoRenderableOverlays:Qe.getAutoRenderableOverlaysForSet(t,e.pinContextPID,e.match?.params?.page)}}function qoe(t){return Ct({fetchContent:Fe.fetchContent},t)}var uIe,rs,Doe,Xw,Ui,Zw,Loe,Foe,$w,Hi,$m,zr,jm,jw,Gw,dz,pz,Kw,Yw,Gm,hz,Km=T(()=>{_e();uIe=he(vn(),1);ht();ai();Ht();Yo();rs=he(xe(),1);Ne();Ei();Wm();cz();Sr();Ti();Ua();ne();Doe={top:0,bottom:0},Xw=new Array,Ui={closeOverlay:()=>{},openOverlay:()=>{},getOverlay:()=>{},toggleOverlay:()=>{},handleGlobalClick:()=>{},getAllOverlays:()=>{}},Zw=class extends se{constructor(e){super(e),this.state={activeOverlays:[]},this.intermediateActiveOverlays=this.state.activeOverlays,Ui.openOverlay=this.openOverlay,Ui.closeOverlay=this.closeOverlay,Ui.toggleOverlay=this.toggleOverlay,Ui.getOverlay=this.getOverlay,Ui.handleGlobalClick=this.handleGlobalClick,Ui.getAllOverlays=this.getAllOverlays}componentDidMount(){this.autoRenderOverlays()}autoRenderOverlays=(e=[])=>{if(this.props.adminMode){let l=[this.props.PIDToEdit,this.props.overlayBeingPreviewed].filter(u=>!!u);this.props.autoRenderableOverlays.some(u=>l.includes(u.id))&&this.openOverlay(this.props.PIDToEdit),this.state.activeOverlays.forEach(u=>{l.includes(u.pid)||this.closeOverlay(u.pid)});return}let i=this.props.autoRenderableOverlays.map(l=>l.id),r=e.map(l=>l.id),n=rs.default.difference(r,i),o=rs.default.difference(i,r);n.forEach(l=>{this.closeOverlay(l)}),o.sort((l,u)=>this.props.sortMap[u]-this.props.sortMap[l]),o.forEach(l=>{this.openOverlay(l)})};componentDidUpdate=(e,i)=>{if((this.props.autoRenderableOverlays!==e.autoRenderableOverlays||this.props.adminMode&&!e.adminMode)&&this.autoRenderOverlays(e.autoRenderableOverlays),this.props.adminMode!==e.adminMode&&this.autoRenderOverlays([]),this.state.activeOverlays!==i.activeOverlays){let r=rs.default.difference(this.state.activeOverlays,i.activeOverlays),n=rs.default.difference(i.activeOverlays,this.state.activeOverlays);if(Xw=[...this.state.activeOverlays],Gm(),r.length>0)for(let o of r)(o.getOverlayOptions().animateOnOpen||o.getOverlayOptions().animateOnClose)&&o.ref?.current?.base.addEventListener("animationend",this.handleAnimationEnd)}};componentWillUnmount=()=>{};handleGlobalClick=(e,i)=>{if(this.props.adminMode||i.closest(".quick-view"))return;let n=i.closest(".page-content")?.closest(".page")?.getAttribute("id"),o=this.state.activeOverlays.find(c=>c.pid===n),l=this.state.activeOverlays[this.state.activeOverlays.length-1],u=this.props.store.getState();if(l&&l.getOverlayOptions().closeOnNavigate===!0&&e.hasAttribute("href")&&e.getAttribute("href").replace(/\//,"").toLowerCase()!=="contact-form"&&!u.frontendState.contactForm.inited&&!u.frontendState.cartOpen&&(e.getAttribute("rel")==="history"||e.getAttribute("rel")==="home-page")){requestAnimationFrame(()=>{window.__deferred_page_load_promise__?window.__deferred_page_load_promise__.then(()=>{requestAnimationFrame(()=>{this.closeOverlay(l.pid)})}):this.closeOverlay(o.pid)});return}if(l&&l.getOverlayOptions().closeOnClickout===!0&&!u.frontendState.contactForm.inited&&!u.frontendState.cartOpen&&n!==l?.pid&&e.tagName!=="A"){this.closeOverlay(l.pid);return}};handleAnimationEnd=e=>{if(e.target.classList.contains("page"))switch(e.animationName){case"overlayOpen":case"overlayOpenWithoutOpacity":{let i=e.target.closest(".overlay-animating");i&&i?.classList?.remove("overlay-animating"),e.target.classList.remove("overlay-open");break}case"overlayClose":case"overlayCloseWithoutOpacity":{setTimeout(()=>{let r=e.target.closest(".overlay-animating");r&&r?.classList?.remove("overlay-animating")},101),e.target.classList.remove("overlay-close");let i=e.target.getAttribute("id");this.closeOverlay(i,!0);break}}};openOverlay=(e,i={})=>{!e||this.getOverlay(e)||(this.intermediateActiveOverlays=[...this.intermediateActiveOverlays,{pid:e,ref:ge(),getOverlayOptions:()=>Loe(e,this.props.overlayOptionsByPID[e],i)}],this.setState({activeOverlays:this.intermediateActiveOverlays}))};closeOverlay=(e,i=!1)=>{if(i===!1){let r=this.getOverlay(e);if(!r)return;if(r.getOverlayOptions()?.animateOnClose?.speed>0){r.ref.current.base.classList.add("overlay-close"),r.ref.current.base.classList.add("overlay-animating");return}}this.intermediateActiveOverlays=this.intermediateActiveOverlays.filter(r=>r.pid!==e),this.setState({activeOverlays:this.intermediateActiveOverlays})};toggleOverlay=(e,i)=>{this.getOverlay(e)?this.closeOverlay(e):this.openOverlay(e,i)};getAllOverlays=()=>this.intermediateActiveOverlays;getOverlay=e=>this.intermediateActiveOverlays.find(i=>i.pid===e);render(){return this.state.activeOverlays.map(({pid:e,getOverlayOptions:i,ref:r})=>m($s,{id:e,contentPad:Doe,isOverlay:!0,overlayOptions:i(),ref:r},e))}},Loe=Un((t,e,i)=>rs.default.merge({},uz,e,i)),Foe=Un(t=>t=rs.default.mapValues(t,e=>e.overlay_options));if(!le){$w=null,Hi=null,$m=!1,zr=!1,jm=null,jw=v=>{if(clearTimeout($w),$w=setTimeout(()=>{$m=!1,zr=!1},200),!$m){let S=[...Xw].reverse().map(_=>document.getElementById(_.pid)?.closest(".overlay-content")),E=S.find(_=>_?.contains(v));if(Hi=null,E)if(E.classList.contains("overlay-allow-scroll"))Hi=E,zr=!0;else{let _=S[0].classList?.contains("overlay-allow-scroll")?S[0]:null;if(_)Hi=_,zr=!0;else{let P=E.querySelector(".page-content")?.contains(v),A=E.querySelector(".backdrop");!P&&!E.classList.contains("is-passthrough-overlay")||A||P&&!E.classList.contains("is-content-passthrough-overlay")?(zr=!0,Hi=null):(zr=!1,Hi=null)}}else{let _=S.find((P,A)=>P.classList?.contains("overlay-allow-scroll"));_?(Hi=_,zr=!0):(zr=!1,Hi=null)}$m=!0}};let t=0,e=0,i=null,r=null,n,o=null,l=0,u=null,c=!1,d=!1,f=!1,g=0;Gw=v=>{t=jm-v.touches[0].clientY,e=e*.8+t*.2,jm=v.touches[0].clientY,clearTimeout(i),i=setTimeout(()=>{t=0},300),Hi&&(Hi.scrollTop=Hi.scrollTop+t),(zr||c)&&(zr=!0,v.preventDefault(),v.stopPropagation()),zr&&(document.scrollingElement.scrollTop=l)},dz=v=>{t=v.deltaY,jw(v.target),zr&&v.preventDefault(),Hi&&(Hi.scrollTop=Hi.scrollTop+t)},pz=()=>{f||(f=!0,l=document.scrollingElement.scrollTop,document.scrollingElement.style.overflow="hidden",document.scrollingElement.style.overscrollBehavior="none",document.scrollingElement.scrollTop=l)},Kw=rs.default.debounce(()=>{f&&(f=!1,document.scrollingElement.style.overflow="",document.scrollingElement.style.overscrollBehavior="",document.scrollingElement.scrollTop=l)},150),Yw=v=>{if(!r){Kw();return}let S=n==0?16:v-n;n=v,e=e*.95;let E=r.scrollTop;r.scrollTop=r.scrollTop+e*(S/16.667),r.scrollTop-E!=0?g=0:g++,o=requestAnimationFrame(Yw),(Math.abs(e)<.5||g>15)&&(r=null)},window.addEventListener("wheel",dz,{passive:!1}),window.addEventListener("touchstart",v=>{if(g=0,d=!1,r=null,cancelAnimationFrame(o),jw(v.touches[0].target),e=0,t=0,u=v.touches[0].clientY,c=v.touches[0].target.closest(".overlay-content"),c){let S=c.querySelector(".page-content")?.contains(v.touches[0].target),E=c.querySelector(".backdrop");(!S&&c.classList.contains("is-passthrough-overlay")&&!E||S&&c.classList.contains("is-content-passthrough-overlay"))&&(c=null)}(Hi||c)&&(pz(),jm=v.touches[0].clientY,document.body.addEventListener("touchmove",Gw,{passive:!1}))}),document.body.addEventListener("click",v=>{d=!0}),document.body.addEventListener("touchend",v=>{document.body.removeEventListener("touchmove",Gw,{passive:!1}),Hi&&Math.abs(e)>2?(r=Hi,clearTimeout(i),n=window?.performance?.now?.()??0,e=t*.8+e*.2,o=requestAnimationFrame(Yw)):Kw();let S=u-v.changedTouches[0].clientY;if(!r&&Math.abs(S)<10&&zr){let E=v.changedTouches[0].target;setTimeout(()=>{d||Ui.handleGlobalClick(E,E)},330)}},{passive:!1}),et.on("window-resize",()=>{Gm()}),Gm=rs.default.debounce(()=>{let v=[...Xw].reverse(),S=v.findIndex(E=>{let _=E.ref?.current?.base.closest(".overlay-content");return _?_.classList.contains("overlay-allow-scroll")&&!_.classList.contains("overlay-close"):!1});v.forEach((E,_)=>{let P=E.ref?.current?.base.closest(".overlay-content");P&&(_==0?P.classList.add("top-overlay"):P.classList.remove("top-overlay"),S==-1?(P.classList.remove("top-scrollable-overlay"),P.classList.remove("behind-top-scrollable-overlay")):_>S?(P.classList.remove("top-scrollable-overlay"),P.classList.add("behind-top-scrollable-overlay")):_==S?(P.classList.add("top-scrollable-overlay"),P.classList.remove("behind-top-scrollable-overlay")):(P.classList.remove("top-scrollable-overlay"),P.classList.remove("behind-top-scrollable-overlay")))}),S>-1?document.body.classList.add("has-scrollable-overlay"):document.body.classList.remove("has-scrollable-overlay")},30),Gm()}hz=yn(Ln(De(zoe,qoe)(Zw)))});function Boe(t,e){let i=e.idType==="purl"?Qe.getContentByPurl(t,e.id):Qe.getContentById(t,e.id),r,n=null,o=null;if(!i){let l=!1;if(t.frontendState.networkErrors.find(u=>u.id===e.id&&u.idType===e.idType&&u)!==void 0){if(e.idType==="purl"&&(r=t.site.tags.find(u=>u.url===e.id),!r)){for(let u in t.pages.byId)if(r=t.pages.byId[u].tags.find(c=>c.url===e.id),r)break}r||(l=!0)}if(l)return{content:null,pageNotFound:l}}if(i)if(i.page_type==="set"){n=i.id;let l=Qe.getContentByPurl(t,e.hashPurl),u=t.structure.indexById[l?.id]||0,c=t.sets.byId[Qe.getItemParentId(t,l?.id)]||i;o=Uoe(t.structure,t.pages,t.sets,c,u)}else n=Qe.getItemParentId(t,i.id);else r&&(n="root",o=Object.values(t.pages.byId).filter(l=>t.structure.indexById[l.id]===null||l.crdt_state===qt.Deleted?!1:l.tags.some(u=>u.tag===r.tag)).map(l=>({content:l,position:"below"})),o.sort((l,u)=>t.structure.bySort[l.content.id]-t.structure.bySort[u.content.id]));return{tag:r,hasContent:i!==void 0,contentId:i?.id,contentType:i?.page_type,contentTitle:i?.title,contentPurl:i?.purl,contentIsStack:i?.stack,contentIsPin:i?.pin,contentIsOverlay:i?.overlay,contentCRDTState:i?.crdt_state,children:o,parentSetPID:n,isFeed:t.sets.byId.root.stack,topPins:Qe.getPinsForSet(t,n,"top",i?.id),bottomPins:Qe.getPinsForSet(t,n,"bottom",i?.id),adminMode:t.frontendState.adminMode}}function Woe(t){return Ct({fetchContent:Fe.fetchContent,fetchPagesByTag:Fe.fetchPagesByTag,fetchSitePackage:Fe.fetchSitePackage,updateFrontendState:Fe.updateFrontendState},t)}var fz,_o,Hoe,Jw,$d,Ym,mz,Uoe,Qw,gz=T(()=>{_e();ai();ht();fz=he(Ch(),1);Ua();_o=he(xe(),1);js();Ht();Ne();Ei();Ft();Wm();lz();Vw();cd();Sr();Km();ne();Hoe=async t=>{let e=[];if(!t.hasContent){let i=t.fetchContent(t.id,{idType:t.idType});e.push(i)}if(t.hashPurl){let i=t.fetchContent(t.hashPurl,{idType:"purl"});e.push(i)}le&&e.push(mz(t,{up:!1,down:!0})),await Promise.allSettled(e).catch(i=>{})},Jw={top:0,bottom:0},$d=10,Ym=class extends se{constructor(e){super(e),this.contentRef=ge(),this.contentParentRef=ge(),this.topPaginationWatcherRef=ge(),this.bottomPaginationWatcherRef=ge(),this.paginationLimitsTriggered={up:!1,down:!1},this.state={contentPad:Jw,pageRenderLimits:{above:0,below:$d}},le||(this.paginationObserver=new IntersectionObserver(this.onPaginationObserverCallback,{root:document,rootMargin:screen.height*2+"px",threshold:[0,1]}),this.resizeObserver=new ResizeObserver(i=>{i.forEach(r=>{var n=window.getComputedStyle(r.target);let o=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),l=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top"));(o!==this.state.contentPad.top||l!==this.state.contentPad.bottom)&&this.setState({contentPad:{top:o,bottom:l}})})})),this.props.hasContent&&this.props.updateFrontendState({activePID:this.props.contentId})}getContentByPosition(e){return this.props.children?.filter(i=>i.position===e)||[]}getPageStack(){let e=this.getPageContainerPinOffsets(),i=[];return this.props.topPins.forEach(r=>{i.push(m($s,{id:r.id,contentPad:Jw,stackedPage:this.props.topPins.length>1},r.id))}),this.renderedChildren=[..._o.default.takeRight(this.getContentByPosition("above"),this.state.pageRenderLimits.above),..._o.default.take(this.getContentByPosition("below"),this.state.pageRenderLimits.below)],i.push(m("div",{className:"pages",ref:this.contentRef,style:e,children:this.props.contentType==="set"||this.props.tag?!this.props.tag&&this.props.isFeed!==!0&&this.props.contentIsStack!==!0?null:m(ie,{children:[m("div",{className:"pagination-watcher","data-direction":"up",ref:this.topPaginationWatcherRef}),m(Vd,{id:this.props.contentId,children:this.renderedChildren,hashPurl:this.props.hashPurl,contentPad:this.state.contentPad},this.props.contentId),m("div",{className:"pagination-watcher","data-direction":"down",ref:this.bottomPaginationWatcherRef})]}):this.props.contentIsPin||this.props.contentIsOverlay?null:m($s,{id:this.props.contentId,contentPad:this.state.contentPad,stackedPage:!1},this.props.contentId)})),this.props.bottomPins.forEach(r=>{i.push(m($s,{id:r.id,contentPad:Jw,stackedPage:this.props.bottomPins.length>1},r.id))}),i}render(){if(this.props.pageNotFound)return m(Vm,{message:"Page not found."});if((!this.props.hasContent||this.props.contentCRDTState===qt.Deleted)&&!this.props.tag)return null;let e=this.getPageStack();return m("div",{className:"content",ref:this.contentParentRef,children:[m(hz,{pinContextPID:this.props.parentSetPID}),e]})}bindContentParent=()=>{this.resizeObserver&&this.contentParentRef.current&&!this.state.contentParentRef&&(this.resizeObserver.observe(this.contentParentRef.current),this.setState({contentParentRef:this.contentParentRef.current}))};componentDidMount(){this.bindContentParent(),this.attachPaginationWatchers(),this.props.hasContent&&this.props.updateFrontendState({activePID:this.props.contentId})}shouldComponentUpdate(e,i,r){if(this.props===e&&this.state===i&&this.context===r)return!1;if(this.props.contentId!==e.contentId||this.props.hashPurl!==e.hashPurl||this.props.tag!==e.tag){let n=!1;this.props.hashPurl!==e.hashPurl&&this.renderedChildren&&this.renderedChildren.some(o=>o.content.purl===e.hashPurl)&&(n=!0),n||this.setState({pageRenderLimits:{above:0,below:$d}})}return!0}componentDidUpdate(e,i,r){this.bindContentParent(),!this.props.adminMode&&e.contentCRDTState!==qt.Deleted&&this.props.contentCRDTState===qt.Deleted&&(this.props.updateFrontendState({alertModal:{message:"Page not found",type:"notice"}}),Kn.replace("/"+e.contentPurl||"/")),this.props.id&&e.id!==this.props.id&&this.props.fetchContent(this.props.id,{idType:this.props.idType}),this.props.tag&&e.tag!==this.props.tag&&(this.props.updateFrontendState({activePID:void 0}),this.requestPagination()),e.hashPurl!==this.props.hashPurl&&this.props.hashPurl&&this.props.fetchContent(this.props.hashPurl,{idType:"purl"}).then(()=>{this.requestPagination()}),this.props.hasContent&&this.props.contentId!==e.contentId&&(this.props.updateFrontendState({activePID:this.props.contentId}),this.requestPagination()),this.attachPaginationWatchers(),this.props.pageNotFound!==e.pageNotFound&&this.props.updateFrontendState({pageNotFound:this.props.pageNotFound})}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.unobserve(this.contentParentRef.current),this.paginationObserver&&this.paginationObserver.disconnect(),this.props.updateFrontendState({activePID:void 0})}attachPaginationWatchers(){this.paginationObserver&&this.topPaginationWatcherRef.current&&this.bottomPaginationWatcherRef.current?(this.topPaginationWatcherRef.current!==this.topPaginationWatcherEl&&(this.topPaginationWatcherEl&&this.paginationObserver.unobserve(this.topPaginationWatcherEl),this.paginationObserver.observe(this.topPaginationWatcherRef.current),this.topPaginationWatcherEl=this.topPaginationWatcherRef.current),this.bottomPaginationWatcherRef.current!==this.bottomPaginationWatcherEl&&(this.bottomPaginationWatcherEl&&this.paginationObserver.unobserve(this.bottomPaginationWatcherEl),this.paginationObserver.observe(this.bottomPaginationWatcherRef.current),this.bottomPaginationWatcherEl=this.bottomPaginationWatcherRef.current)):(delete this.topPaginationWatcherEl,delete this.bottomPaginationWatcherEl)}onPaginationObserverCallback=e=>{let i=!1;e.forEach(r=>{let n=r.target.dataset.direction;r.isIntersecting?(this.paginationLimitsTriggered[n]=!0,i=!0):this.paginationLimitsTriggered[n]=!1}),i&&this.requestPagination()};requestPagination=async()=>{if(this.isPaginating)return;this.isPaginating=!0;let e=0;for(;this.isPaginating;){if(e++>25){console.log("Exceeded max consecutive pagination attempts...");break}(this.paginationLimitsTriggered.up||this.paginationLimitsTriggered.down)&&this.setState({pageRenderLimits:{above:(this.state.pageRenderLimits.above||0)+(this.paginationLimitsTriggered.up?$d:0),below:(this.state.pageRenderLimits.below||0)+(this.paginationLimitsTriggered.down?$d:0)}}),await mz(this.props,this.paginationLimitsTriggered).then(i=>{i.length===0&&!(this.paginationLimitsTriggered.up&&this.state.pageRenderLimits.above<this.getContentByPosition("above").length)&&!(this.paginationLimitsTriggered.down&&this.state.pageRenderLimits.below<this.getContentByPosition("below").length)&&(this.isPaginating=!1)}).catch(i=>{console.error(i),this.isPaginating=!1}),this.props.tag&&(this.isPaginating=!1,this.setState({pageRenderLimits:{above:9e9,below:9e9}})),await new Promise(i=>setTimeout(i,250))}};getPageContainerPinOffsets=()=>{let e={marginTop:0,marginBottom:0};if(le)return e;let i=r=>(r.hasOverlayPins&&!r.adjustsSelf&&r.adjusterId!==null?r.totalHeight:0)-(r.adjustedLevel==="content"?r.adjusterHeight:0);return _o.default.each(this.context.levelData.levels,(r,n)=>{e.marginTop+=i(r.top),e.marginBottom+=i(r.bottom)}),e}},mz=(t,e,i={})=>new Promise((r,n)=>{if(!t||!e)return n("Missing pagination parameters");if(t.tag)return t.fetchPagesByTag(t.tag.url).then(r).catch(n);let o=t.store.getState(),l=[];if(_o.default.each(e,(u,c)=>{if(!u)return;let d,f;if(c==="up"){let E=_o.default.first(t.children);E&&(f=E.index,d=E.parent)}else if(c==="down"){let E=_o.default.last(t.children);E?(f=E.index,d=E.parent):t.contentType==="set"&&(f=0,d=t.contentId)}if(d===void 0||f===void 0)return;let g=0,v=(E,_,P=[])=>(P.push(_),E[_]?.forEach(A=>{v(E,A,P)}),P),S=v(Qe.getSetsByParent(o),t.parentSetPID);Zl(o.structure,o.pages,o.sets,o.sets.byId[d],f,{reverse:c==="up",callback:(E,_,P)=>{if(!P&&S.includes(E)&&(l.push({parent:E,index:_}),g++),g>=$d)return"break"}})}),l.length>0){let u=_o.default.groupBy(l,"parent"),c=_o.default.map(u,(d,f)=>t.fetchContent(f,{indexes:_o.default.map(d,"index"),idType:"pid"}));Promise.all(c).then(r).catch(n)}else r([])}),Uoe=Un((t,e,i,r,n)=>{let o=[];return Zl(t,e,i,r,n-1,{reverse:!0,traverseUp:!1,includeSets:!0,callback:(l,u,c)=>{if(c)c&&o.unshift({parent:l,index:u,content:c,position:"above"});else return"break"}}),Zl(t,e,i,r,n,{reverse:!1,traverseUp:!1,includeSets:!0,callback:(l,u,c)=>{if(c)c&&o.push({parent:l,index:u,content:c,position:"below"});else return"break"}}),o});Ym.contextType=Ba;Qw=yn(De(Boe,Woe)((0,fz.frontloadConnect)(Hoe,{onMount:!0,onUpdate:!1})(Ym)))});function Voe(t){return Ct({pageMounted:Fe.pageMounted,pageUnMounted:Fe.pageUnMounted,updateFrontendState:Fe.updateFrontendState,fetchContent:Fe.fetchContent,fetchCommerceProducts:Fe.fetchCommerceProducts},t)}var ns,Qa,Xm,jd,Zm,os,Jm,ex,vz,Nu,Gd,yz,bz=T(()=>{_e();ai();ht();Ht();ns=he(xe(),1);Ei();cd();Fi();ho();Ji();Ya();Ti();Fw();Ne();zm();Sr();ne();Qa=new WeakMap,Xm=new WeakMap,jd=new WeakMap,Zm=new WeakMap,vz=t=>{t.forEach(function(e){Qa.has(e.target)&&Qa.get(e.target).onAboveViewPort(e)})},Nu=0;le||(os=new ResizeObserver(function(t){let e={};vz(Jm.takeRecords()),t.forEach(function(i){let r=Qa.get(i.target);if(r&&(r.onResize(i.contentRect),e[r.props.id]=i.contentRect.height),Xm.has(i.target)&&Xm.get(i.target).onBodyCopyResize(i.contentRect.width),jd.has(i.target)||Zm.has(i.target)){var n=window.getComputedStyle(i.target);let o=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),l=parseFloat(n.getPropertyValue("margin-bottom"))+parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("border-bottom"));if(jd.has(i.target)){let u=jd.get(i.target);(u.state.pageContentPad.top!==o||u.state.pageContentPad.bottom!==l)&&u.setState({pageContentPad:{top:o,bottom:l}})}else{let u=Zm.get(i.target);(u.state.pageLayoutPad.top!==o||u.state.pageLayoutPad.bottom!==l)&&u.setState({pageLayoutPad:{top:o,bottom:l}})}}}),Nu!==0&&(document.scrollingElement.scrollTop+=Nu,Nu=0)}),Jm=new IntersectionObserver(vz,{root:document,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}),ex=new IntersectionObserver((t,e)=>{t.forEach(function(i){Qa.has(i.target)&&Qa.get(i.target).onViewportBoundaryIntersection(i)})},{root:document,rootMargin:Math.max(screen.height*6,2500)+"px",threshold:[0,1]}));Gd=class extends se{constructor(e){super(e),this.bodycopyRef=ge(),this.pageContentRef=ge(),this.pageRef=ge(),this.pageLayoutRef=ge(),this.galleryRef=ge(),this.lastBodycopyRef=ge(),this.lastPageContentRef=ge(),this.lastPageRef=ge(),this.lastPageLayoutRef=ge(),this.currentHeight=0,this.state={resizeParentWidth:"100%",mobileOffsetsString:null,pageContentPad:{top:0,bottom:0},pageLayoutPad:{top:0,bottom:0},authorized:localStorage.getItem("images-include-offline"),imageSort:"forward",windowHeight:et.data.window.h,fullyRender:!0,lastPageLayoutHeight:100},this.localStyleRef=ge(),this.scrollingElement={current:le?null:window}}setMobileOffsets=()=>{if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}if(!this.localStyleRef.current)return;let e=Ql(this.localStyleRef.current.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:["ul","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","small-caps"]}]);this.setState({mobileOffsetsString:e})};onBodyCopyResize=e=>{e=parseInt(e),this.lastWidth!==e&&(this.setState({resizeParentWidth:e+"px"}),this.lastWidth=e)};onWindowResize=()=>{this.setState(e=>this.state.windowHeight===et.data.window.h?null:{windowHeight:et.data.window.h})};onResize=(e,i=!0)=>{((this.isAboveViewport??this.pageRef.current?.getBoundingClientRect().bottom<1)||this.props.position==="above"&&this.firstResizeOccurred!==!0)&&(Nu+=e.height-this.currentHeight,i||(document.scrollingElement.scrollTop+=Nu,Nu=0)),this.currentHeight=e.height,this.firstResizeOccurred=!0};onAboveViewPort=e=>{e.rootBounds.height!==0&&(this.isAboveViewport=e.boundingClientRect.bottom<0)};onViewportBoundaryIntersection=e=>{let i=e.isIntersecting;le&&(i=!0),this.setFullRenderState(i)};setFullRenderState=(e,i)=>{this.setState({fullyRender:e,lastPageLayoutHeight:this.pageLayoutRef.current?.getBoundingClientRect().height||100},i)};updateAdminState=e=>{store.dispatch({type:"UPDATE_ADMIN_STATE",payload:e})};zIndexLayerPosition=e=>e?.toString().padStart(2,"0");findPageAdjusteeStatus=e=>{let i={top:null,bottom:null},r=ns.default.pickBy(this.context?.adjustPairs,n=>n.adjusts.indexOf(this.props.pid)!==-1);return ns.default.keys(r).length>0&&ns.default.each(r,function(n){i[n.location]=n.adjustedHeight}),i};getPageInfoContextValue(){return(this.props.isEditingPage!==this.lastProps?.isEditingPage||this.props.pid!==this.lastProps?.pid)&&(this.pageInfoContextValue={isEditing:this.props.isEditingPage,pid:this.props.pid}),this.lastProps=this.props,this.pageInfoContextValue}onItemClick=e=>{if(e.button!==2||!this.state.zoomedOut)return;let i=e?.target.closest("media-item");i&&(e.preventDefault(),this.setState({zoomedOut:!1},()=>{setTimeout(()=>{i?.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:0,preventQuickViewClose:!0,lazyScroll:!1}})),i.classList.add("hey-listen"),this.flashInterval=setInterval(()=>{i.classList.contains("hey-listen")?i.classList.remove("hey-listen"):i.classList.add("hey-listen")},300),setTimeout(()=>{i.classList.remove("hey-listen"),clearInterval(this.flashInterval)},1200)},0)}),console.log(e))};render(){if(!this.props.hasPage)return null;let e=null,i=!1;if(this.state.fullyRender){let r=this.props.contentPad.top+this.state.pageLayoutPad.top+this.state.pageContentPad.top+this.state.pageContentPad.bottom+this.state.pageLayoutPad.bottom+this.props.contentPad.bottom,n=Math.max(10,this.state.windowHeight-r),o=null;this.props.access_level==="password"?o=m(Ru,{target:this.props.pid,onSucces:()=>{this.props.fetchContent(this.props.pid,{force:!0})}}):this.hasOwnProperty("lockedContent")?o=this.lockedContent:o=this.lockedContent=this.props.content,e=m(ie,{children:m(Sf,{pageRef:this.pageRef,value:this.getPageInfoContextValue(),children:[m("style",{id:"img-style",children:`
							body.mobile .page-content{
								${this.state.zoomedOut?"padding: 1px 1px 8rem 1px;":"padding: 2rem 2rem 8rem 2rem;"}
							}
							.page-content {
								${this.state.zoomedOut?"padding: 1px;":"padding: 3rem 3rem 8rem 3rem;"}
							}
							body.mobile .caption {
								font-size: 3rem;
							}
							.caption {

							    margin-top: 1rem;
							    font-size: .75rem;
							    font-weight: 400;
							    color: rgba(0, 0, 0, 0.35);
							    font-style: normal;
							    line-height: 1.3;
							}

							.caption a {
							    color: rgba(0, 0, 0, 0.35);
								text-decoration:none;
							}

							.hey-listen::part(media){
			                	opacity: 0.3;
							}
									

							media-item::part(media){
								transition: opacity ease-in-out 0.1s;								
								outline: 1px solid rgba(0,0,0,0.08);
								outline-offset: -1px;
							}

							media-item:hover a.original {
								display: block;
							}
							.caption a.original {
								padding: 8px;
								margin: -8px;
								display:none;
								float: right;
							}

							.quick-view-background {
								background-color: rgba(21,21,21, 0.8);
							}

							body.mobile .sort-controls text-icon {
								height: 5rem;
								border: 1rem solid white;								
							}

							.sort-controls {
								display: grid;
								position: fixed;
								bottom: 1.8rem;
								left: 1.4rem;
								z-index: 1000;
								column-gap: 1px;
								grid-template-columns: 1fr 1fr 1fr 1fr;
								filter: drop-shadow(0px 1px 2px rgba(0,0,0, 0.2));
							}

							.sort-controls text-icon.active {
								color: black;
							}

							.sort-controls text-icon:active {
								transform: translate3d(0px, 2px, 0px);
							}

							.sort-controls text-icon {
								user-select:none;
								transform: translate3d(0px, 0px, 0px);
								transition: .05s transform linear;
								color: #ccc;
								background-color: white;
								border: .5rem solid white;
								border-radius: 100%;
								height: 2.5rem;
								cursor: pointer;
							}

							.sort-controls text-icon.zoom {
								color: black;
							}

							${this.state.zoomedOut?`
							media-item:hover .caption a.page-link {
								display: block;
							}

							media-item .caption {
								margin: 0;
								padding: 0;
								position: absolute;
								inset: 0;
								pointer-events:none;
							}
							media-item .caption a {
								display: none;
								color: transparent;
								pointer-events:auto;
							}

							media-item .caption a.page-link {
								pointer-events: auto;
								overflow: hidden;
								font-size: 0;

								border-style: solid;
								position: absolute;
								top: 0px;
								right: 0px;
								z-index: 99;
							}

							media-item .caption a.page-link::after {
								display: block;
								padding: 5px;
								content: '\u{1F517}';
								font-size: 14px;
								font-family:monospace;
								color: black;
								filter:saturate(0);
							}

							`:""}
						`}),m("div",{className:"page-layout",ref:this.pageLayoutRef,children:m("div",{className:"page-content",ref:this.pageContentRef,children:[this.state.authorized?m("div",{className:"sort-controls",children:[m("text-icon",{icon:"downwards-arrow",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.setState({imageSort:"forward"})},className:this.state.imageSort==="forward"?"active":""}),m("text-icon",{icon:"upwards-arrow",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.setState({imageSort:"reverse"})},className:this.state.imageSort==="reverse"?"active":""}),m("text-icon",{icon:"shuffle",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.state.imageSort==="shuffle"?this.galleryRef.current.dispatchEvent(new Event("refresh-thumbnail-index")):this.setState({imageSort:"shuffle"})},className:this.state.imageSort==="shuffle"?"active":""}),m("text-icon",{icon:this.state.zoomedOut?"expand-arrows":"collapse-arrows",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.setState({zoomedOut:!this.state.zoomedOut})},className:"zoom"})]}):null,m(Cm,{pageInfo:this.getPageInfoContextValue(),adminMode:this.props.adminMode,bodycopyRef:this.bodycopyRef,children:[m(fo,{portalHost:this.bodycopyRef}),m("bodycopy",{style:{"--fit-height":n+"px","--resize-parent-width":this.state.resizeParentWidth},ref:this.bodycopyRef,children:this.state.authorized?m("gallery-justify",{onContextMenu:this.onItemClick,ref:this.galleryRef,"thumbnail-index":"img:all",sort:this.state.imageSort,"row-height":this.state.zoomedOut?"10vw":"15vw","mobile-row-height":this.state.zoomedOut?"200px":"100vh","show-title":!0,gutter:this.state.zoomedOut?"1px":"2rem 3rem"}):null})]})]})})]})})}else e=m("div",{style:{height:this.state.lastPageLayoutHeight+"px"}});return m("div",{"page-url":this.props.purl?.toLowerCase(),className:"page",ref:this.pageRef,editing:!1,children:[m("a",{id:this.props.purl}),m(nu,{passthrough:!1,scrollingElement:this.scrollingElement,children:e})]})}componentDidUpdate=(e,i,r)=>{this.bindObservers(),this.state.fullyRender===!0&&i.fullyRender===!1?this.onFullComponentRender():this.state.fullyRender===!1&&i.fullyRender===!0&&this.onSparseComponentRender(),(e.activePURL!==this.props.activePURL||e.adminMode!==this.props.adminMode)&&this.updateShowCartLinkCounts(),this.props.local_css!==e.local_css&&this.setMobileOffsets(),e.isMobile!==this.props.isMobile&&this.setMobileOffsets(),this.props.hashPurl!==e.hashPurl&&this.runHashScroll()};shouldComponentUpdate(e,i,r){return!(this.props===e&&this.state===i&&this.context===r||this.hasOwnProperty("lockedContent")&&this.props.content!==e.content&&wf({...this.props,content:null},{...e,content:null})&&this.state===i&&this.context===r)}bindObservers=(e=!1)=>{(this.pageRef.current!==this.lastPageRef.current||e)&&(this.lastPageRef.current&&(Qa.delete(this.lastPageRef.current),os.unobserve(this.lastPageRef.current),Jm.unobserve(this.lastPageRef.current),ex.unobserve(this.lastPageRef.current)),this.pageRef.current&&!e&&(Qa.set(this.pageRef.current,this),os.observe(this.pageRef.current),Jm.observe(this.pageRef.current),ex.observe(this.pageRef.current)),this.lastPageRef.current=this.pageRef.current),(this.pageLayoutRef.current!==this.lastPageLayoutRef.current||e)&&(this.lastPageLayoutRef.current&&(Zm.delete(this.lastPageLayoutRef.current),os.unobserve(this.lastPageLayoutRef.current)),this.pageLayoutRef.current&&!e&&(Zm.set(this.pageLayoutRef.current,this),os.observe(this.pageLayoutRef.current)),this.lastPageLayoutRef.current=this.pageLayoutRef.current),(this.pageContentRef.current!==this.lastPageContentRef.current||e)&&(this.lastPageContentRef.current&&(jd.delete(this.lastPageContentRef.current),os.unobserve(this.lastPageContentRef.current)),this.pageContentRef.current&&!e&&(jd.set(this.pageContentRef.current,this),os.observe(this.pageContentRef.current)),this.lastPageContentRef.current=this.pageContentRef.current),(this.bodycopyRef.current!==this.lastBodycopyRef.current||e)&&(this.lastBodycopyRef.current&&(Xm.delete(this.lastBodycopyRef.current),os.unobserve(this.lastBodycopyRef.current)),this.bodycopyRef.current&&!e&&(Xm.set(this.bodycopyRef.current,this),os.observe(this.bodycopyRef.current)),this.lastBodycopyRef.current=this.bodycopyRef.current)};runHashScroll(){this.props.hashPurl===this.props.purl&&(this.state.fullyRender!==!0?this.setFullRenderState(!0,()=>{this.pageRef.current.scrollIntoView()}):this.pageRef.current.scrollIntoView())}checkLocalStorage=()=>{localStorage.getItem("images-include-offline")&&!this.state.authorized&&(this.setState({authorized:!0}),clearInterval(this.checkStorageInterval))};onKeyDown=e=>{e.keyCode===27&&!store.getState().frontendState.quickView.inited&&(e.preventDefault(),window.location=window.location.origin)};componentDidMount(){window.addEventListener("keydown",this.onKeyDown),this.checkStorageInterval=setInterval(()=>{this.checkLocalStorage()},180);var e=document.body.querySelectorAll("style");e.forEach(i=>{i.id!=="img-style"&&(i.disabled=!0)}),setTimeout(()=>{e.forEach(i=>{i.id!=="img-style"&&(i.disabled=!0)})},100),this.runHashScroll(),et.on("window-resize",this.onWindowResize),this.state.fullyRender===!0&&this.onFullComponentRender()}onFullComponentRender(){if(this.pageLayoutRef.current){let e=function(i){i.childNodes.forEach(r=>r.setSaveable(!0));for(let r of i.childNodes)e(r)};e(this.pageLayoutRef.current)}this.pageRef.current&&(this.initializeScriptTags(),this.props.pageMounted(this.pageRef.current).then(()=>{this.updateShowCartLinkCounts(),this.fetchCommerceProductsByLink()})),this.props.isMobile&&this.setMobileOffsets(),this.bindObservers()}componentWillUnmount(){document.body.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1}),window.removeEventListener("keydown",this.onKeyDown),clearInterval(this.checkStorageInterval);var e=document.body.querySelectorAll("style");e.forEach(i=>{i.disabled=!1}),et.off("window-resize",this.onWindowResize),this.onSparseComponentRender(!0),this.onResize({height:0},!1)}onSparseComponentRender(e=!1){this.bindObservers(e),this.pageRef.current&&this.props.pageUnMounted(this.pageRef.current)}fetchCommerceProductsByLink=()=>{if(!this.pageRef.current||!this.props.has_shop)return;let e=this.pageRef.current.querySelectorAll('[rel="add-to-cart"], [rel="add_to_cart"]'),i=[];ns.default.each(e,r=>{let n=r.getAttribute("data-product");n&&i.push(n)}),this.props.fetchCommerceProducts({idArray:i,onlyNew:!0})};updateShowCartLinkCounts=()=>{if(!this.pageRef.current||!this.props.has_shop||!this.props.cartData||ns.default.isEmpty(this.props.cartData)||this.props.adminFrame)return;let e=ns.default.keys(this.props.cartData).length,i=this.pageRef.current.querySelectorAll('a[rel="show-cart"], a[rel="show_cart"]');ns.default.each(i,r=>{if(r.hasAttribute("show-count")){let n=r.innerHTML.replace(/ *\([^)]*\) */g,"");r.innerText=n+" ("+e+")"}})};initializeScriptTags=()=>{let e=!1,i=function(r){e=!0};window.addEventListener("error",i,!1),ns.default.each(this.bodycopyRef.current?.querySelectorAll("script"),r=>{if(r.getAttribute("type")==="text/thumbnail-metadata")return;e=!1;let n=document.createElement("script");[...r.attributes].forEach(o=>{n.setAttribute(o.nodeName,o.nodeValue)}),n.innerHTML=r.textContent,r.replaceWith(n),e&&(e=!1,n.parentNode.insertBefore(document.createComment(n.outerHTML),n),n.remove(),this.props.adminMode&&window.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"One or more scripts on this page are broken and were disabled.",type:"notice"}}}))}),window.removeEventListener("error",i)}};Gd.defaultProps={contentPad:{top:0,left:0,bottom:0,right:0}};Gd.contextType=Ba;yz=De((t,e)=>{let i={id:"img",purl:"/img",pin:!1,title:"Images",backdrops:{},content:"",access_level:"public"},r=(t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID])?.purl;return!le&&!r&&(r=window.location.pathname.replace(/^\//,"").toLowerCase()),typeof r=="string"&&(r=r.toLowerCase()),{inAdminFrame:!1,isMobile:t.frontendState.isMobile,adminMode:!1,isEditingPage:!1,hasPage:i!==void 0,pid:i?.id,purl:i?.purl,isPin:i?.pin,title:i?.title,backdrops:i?.backdrops,content:i?.content,access_level:i?.access_level,local_css:i?.local_css,pin_options:i?.pin_options,PIDBeingEdited:t.frontendState.PIDBeingEdited,activePID:t.frontendState.activePID,activePURL:r,pageDepth:Qe.getParentSetList(t,e.id).length-1,has_shop:t.site.shop_id!==null,cartData:t.commerce?.cart,Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}},Voe)(Gd)});var wz,uAe,tx,xz,Sz=T(()=>{_e();wz=he(vn(),1);Rs();Ne();uAe=he(xe(),1);ne();tx=class extends se{constructor(e){super(e),this.state={error:!1},this.inputRef=ge()}submit=e=>{e.preventDefault(),this.setState({error:!1,downloadStarted:!1});let i=this.inputRef.current?.value;if(!i)return this.setState({error:"Email address is not valid."});wz.default.post(`https://${Lh?Yl:"dev.cargo.site"}/c3filedownload/validate/${i}/${this.props.hash}`).then(r=>{if(r?.data?.jdata?.valid)return this.setState({error:!1,downloadStarted:!0}),window.location.href=`https://${Lh?Yl:"dev.cargo.site"}/c3filedownload/download/${i}/${this.props.hash}`;this.setState({error:r?.data?.error||"Email address is not valid."})}).catch(r=>{this.setState({error:"Email address is not valid."})})};onKeyDown=e=>{this.setState({error:!1})};render(){return m(ie,{children:[m("style",{children:`

					body {
						letter-spacing: 0;
						padding: 30px;
						color: rgba(0,0,0,.85);
						font-size: 18px;
						line-height: 1;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif, "Sans Serif", Icons;
					}

					.message {
						margin-bottom: 15px;
					}

					.error {
						color: #f00;
					}

					input[type="email"] {
						border-radius: 100px;
						border: 1px solid rgba(0,0,0,0.75);
						padding: 10px 20px;
						font-family: Helvetica;
						font-size: 18px;
						font-style: normal;
						font-weight: 400;
						line-height: 21px;
						letter-spacing: -0.004em;
						text-align: left;
						width: 340px;
					}

					input[type="email"]:placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]::-webkit-input-placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]::-moz-placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]:-moz-placeholder {
						color: rgba(0,0,0,0.75);
					}
					
					.submit {
						-webkit-appearance: none;
						border: none;
						cursor: pointer;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
						font-size: 14.5px;
						white-space: nowrap;
						display: flex;
						margin: 0;
						width: 130px;
						justify-content: flex-start;
						padding: 6.5px 12px 7.5px 15px;
						font-weight: 500;
						flex: 1 1;
						text-align: center;
						height: auto;
						min-height: 28.5px;
						line-height: 1;
						border-radius: 100px;
						user-select: none;
						position: relative;
						background: #262626;
						color: #fff;
						padding-right: 5px;
						margin-top: 10px;
					}
					.submit:active {
						opacity: .7;
					}
				`}),this.state.downloadStarted?m("span",{className:"message",children:"Your download will begin shortly..."}):m(ie,{children:[m("span",{className:"message",children:"Please verify your email address:"}),m("form",{noValidate:!0,onSubmit:this.submit,children:[m("input",{name:"email",type:"Email",placeholder:"Email address...",autofocus:"true",onKeyDown:this.onKeyDown,ref:this.inputRef,formNoValidate:!0}),m("button",{className:"submit",type:"submit",children:"Submit"})]}),this.state.error&&m(ie,{children:[m("br",{}),m("span",{class:"error",children:this.state.error})]})]})]})}},xz=tx});var Cz={};ti(Cz,{default:()=>Yoe});function joe(t,e){return{siteId:t.site.id,contactForm:t.frontendState.contactForm,colorTheme:t.siteDesign?.contact_form?.theme||"auto",adminMode:Ai}}function Goe(t){return Ct({updateFrontendState:Fe.updateFrontendState},t)}var _z,Ez,Qm,nx,ix,bAe,rx,$oe,Koe,Yoe,Pz=T(()=>{_e();We();Ca();_z=he(vn(),1);ht();ai();Ht();Ez=he(xe(),1);Ne();ne();Qm={},nx=window.matchMedia("(max-aspect-ratio: 1/1)"),ix=nx.matches,bAe=nx.addEventListener("change",t=>{ix=t.matches,Qm[1]&&Qm[1].setState({isMobile:ix})}),rx=class extends se{constructor(e){super(e),this.state={loaded:!1,showContents:!1,animate:!1,sent:!1,loading:!1,emailValue:"",messageValue:"",emailError:!1,messageError:!1,isMobile:ix,shadowRoot:null,systemTheme:window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light",transitioningTheme:!1},this.cssLinkRef=ge(),this.contactFormRef=ge(),this.startTime=null,this.inputRef=ge(),this.throttledResize=Ez.default.throttle(this.resizeHandler,200)}componentDidMount(){this.contactFormRef.current&&!this.contactFormRef.current.shadowRoot&&this.contactFormRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.contactFormRef.current?.shadowRoot}),this.props.contactForm.inited||this.props.updateFrontendState({contactForm:{transition:!1,inited:!0}}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.darkModeMediaQueryCallback),this.props.adminMode&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}})}darkModeMediaQueryCallback=e=>{let i=window.matchMedia("(prefers-color-scheme: dark)");this.setState({systemTheme:i.matches?"dark":"light"})};resizeHandler=()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--contact-form-vh",`${e}px`),document.documentElement.style.setProperty("--contact-form-vw",`${i}px`)};handleEmailChange=e=>{this.setState({emailValue:e.target.value,emailError:!1})};handleMessageChange=e=>{this.setState({messageValue:e.target.value,messageError:!1})};submitForm=()=>{this.validate()&&this.setState({loading:!0},()=>{this.startTime=new Date;let e={from:this.state.emailValue,site_id:this.props.siteId,message:this.state.messageValue};_z.default.post("https://cargo.site/dispatch/notifications/sendContactMessage",e,{headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(r=>{let o=new Date-this.startTime;if(this.startTime=null,o<=2500){let l=2500-o;setTimeout(()=>{this.closeForm(null,"submit")},l)}else this.closeForm(null,"submit")}).catch(r=>{window.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"Message failed to send, please try again.",type:"notice"}}}),this.startTime=null,this.handleFormError()})})};closeForm=(e,i)=>{this.startTime===null&&(document.body.style.overflow="",window.removeEventListener("resize",this.throttledResize),i?window.requestAnimationFrame(()=>{this.setState({sent:!0},()=>{this.resetForm()})}):window.requestAnimationFrame(()=>{this.setState({animate:!1},()=>{this.resetForm()})}))};resetForm=()=>{delete Qm[1],setTimeout(()=>{this.props.closeOverlay()},280)};componentDidUpdate=e=>{this.props.contactForm.transition!==e.contactForm.transition&&!e.contactForm.transition&&this.props.contactForm.transition&&this.startTime===null&&this.state.animate&&this.closeForm(),this.props.colorTheme!==e.colorTheme&&this.setState({transitioningTheme:!0},()=>{setTimeout(()=>{this.setState({transitioningTheme:!1})},500)})};componentWillUnmount=()=>{this.props.contactForm.inited&&this.props.updateFrontendState({contactForm:{transition:!1,inited:!1}}),this.props.adminMode&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}}),document.body.style.overflow="",document.documentElement.style.removeProperty("--contact-form-vh"),document.documentElement.style.removeProperty("--contact-form-vw")};handleFormError=()=>{this.setState({loading:!1})};handleTransitionEnd=()=>{};focusInput=()=>{this.inputRef?.current?.focus()};validate=()=>{let e=/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+$/i,i=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)+$/i,r=!0,n=!0,o=this.state.emailValue,l=this.state.messageValue;o.length<=0&&(r=!1),l.length<=0&&(n=!1);let u=o.split("@");return u.length!==2&&(r=!1),e.test(u[0])||(r=!1),i.test(u[1])||(r=!1),r||this.setState({emailError:!0}),n||this.setState({messageError:!0}),!(!r||!n)};onCSSLoad=()=>{this.setState({showContents:!0,isMobile:nx.matches},()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--contact-form-vh",`${e}px`),document.documentElement.style.setProperty("--contact-form-vw",`${i}px`),window.addEventListener("resize",this.throttledResize),document.body.style.overflow="hidden",Qm[1]=this,setTimeout(()=>{this.setState({animate:!0})},33)})};render(){let e=this.props.colorTheme==="auto"||!this.props.colorTheme?this.state.systemTheme:this.props.colorTheme;return m("div",{className:"contact-form",ref:this.contactFormRef,children:[" ",this.state.shadowRoot&&Ke(m(ie,{children:[m("link",{rel:"stylesheet",onLoad:this.onCSSLoad,ref:this.cssLinkRef,type:"text/css",href:"https://build.cargo.site/frontend/4ae1a0/css/front-end/contact-form.css"}),this.state.showContents===!0?m("div",{className:`background${this.state.animate?" active":""}${this.state.sent?" sent":""}${e?" "+e:""}${this.state.transitioningTheme?" transitioning-theme":""}`,children:m("div",{className:`modal${this.state.animate?" active":""}${this.state.sent?" sent":""}${this.state.isMobile?" mobile":""}`,onTransitionEnd:i=>{this.state.sent===!0&&this.handleTransitionEnd(i)},children:m("div",{className:"modal-inner",children:[m("div",{className:"header",children:[m("div",{className:"title"}),m("div",{className:"exit",onPointerUp:i=>{this.closeForm(i)},children:m("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[m("circle",{opacity:"var(--contact-form-close-circle-opacity)",cx:"10",cy:"10",r:"10",fill:"var(--contact-form-color-flat-reverse)"}),m("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0002 11.0607L14.3099 15.3703L15.3705 14.3096L11.0609 10L15.3705 5.69036L14.3099 4.6297L10.0002 8.93934L5.69054 4.62964L4.62988 5.6903L8.93958 10L4.62988 14.3097L5.69054 15.3704L10.0002 11.0607Z",fill:"var(--contact-form-color-flat)"})]})})]}),m("hr",{}),m("div",{onPointerUp:i=>{this.focusInput(i)},className:"email",children:[m("label",{htmlfor:"email",children:["From:","\xA0"]}),m("div",{className:`text-input${this.state.emailError?" error":""}`,children:m("input",{ref:this.inputRef,type:"email",name:"email",autocomplete:"email",value:this.state.emailValue,onChange:i=>{this.handleEmailChange(i)},placeholder:"(enter your email address)..."})})]}),m("hr",{}),m("div",{className:`text-area${this.state.messageError?" error":""}`,children:m("textarea",{name:"message",type:"text",placeholder:"Write your message...",rows:"1",resize:"false",value:this.state.messageValue,onChange:i=>{this.handleMessageChange(i)}})}),m("hr",{}),m("div",{className:"button-area",children:this.state.loading?m(ie,{children:m("button",{className:"send",children:["Sending",m($oe,{})]})}):m(ie,{children:[m("button",{className:"cancel",onPointerUp:i=>{this.closeForm(i)},children:"Cancel"}),m("button",{className:"send",onPointerUp:i=>{this.submitForm(i)},children:"Send"})]})})]})})}):null]}),this.state.shadowRoot)]})}},$oe=()=>m("div",{className:"caution-processing"});Koe=De(joe,Goe)(rx),Yoe=Koe});var Iz={};ti(Iz,{default:()=>Joe,validateShopModel:()=>ig});function Xoe(t){return Ct({updateFrontendState:Fe.updateFrontendState,fetchCommerceProducts:Fe.fetchCommerceProducts,fetchContent:Fe.fetchContent,fetchShopModel:Fe.fetchShopModel,addCommerceProductToCart:Fe.addCommerceProductToCart,resetCommerceCart:Fe.resetCommerceCart},t)}var AAe,tg,eg,Kd,ox,ig,sx,Zoe,Joe,ax=T(()=>{_e();We();Yo();ht();ai();Ht();js();Ne();AAe=he(vn(),1),tg=he(xe(),1);ne();le||(eg=window.matchMedia("(prefers-color-scheme: dark)"),Kd=window.matchMedia("(max-aspect-ratio: 1/1)"),Kd.addEventListener("change",()=>{ox?.setState({isMobile:Kd.matches})}));ig=async()=>{if(Mt.getState().site.shop_id===null)throw"site does not have shop setup";let e=await Mt.dispatch(Fe.fetchShopModel());if(tg.default.isEmpty(e))throw"no model data";if(Ai===!1&&e.has_valid_config===!1&&!Mt.getState().site?.is_template)throw Mt.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{header:"Coming Soon",type:"notice"}}}),"shop modal contains invalid config";return e},sx=class extends se{constructor(e){super(e),ig().then(i=>{this.setState({shopModel:i},()=>{this.openOverlay()})}).catch(i=>{console.warn(i),this.closeOverlay()}),this.state={shopModel:null,loaded:!1,animate:!1,isMobile:Kd.matches,shadowRoot:null,theme:this.getTheme()},this.cartElementRef=ge(),this.iframeRef=ge(),this.startTime=null,this.inputRef=ge(),this.throttledResize=tg.default.throttle(this.resizeHandler,200)}closeOverlay=()=>{Mt.getState().frontendState.cartOpen!==!0?this.props.closeOverlay({replaceHistory:!0}):window.requestAnimationFrame(()=>{this.setState({closing:!0},()=>{setTimeout(this.props.closeOverlay,280)}),document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no")})};onKeyDown=e=>{if(e.key==="Escape"||e.keyCode===9){let r=window.store?.getState()?.frontendState.alertModal!==!1,n=document.querySelector(".alert-window")!==null;if(r||n)return;this.closeOverlay(e)}};openOverlay(){this.cartElementRef.current&&!this.cartElementRef.current.shadowRoot&&this.cartElementRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.cartElementRef.current?.shadowRoot}),this.props.updateFrontendState({cartOpen:!0}),window.addEventListener("keydown",this.onKeyDown,!0),requestAnimationFrame(()=>{this.iframeRef.current&&(document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1"),this.iframeRef.current.src="/following_frame.html")})}onBeforeCartInit=()=>{this.iframeRef.current.contentWindow.__fetchCommerceProducts__=this.props.fetchCommerceProducts,this.iframeRef.current.contentWindow.__fetchContent__=this.props.fetchContent,this.iframeRef.current.contentWindow.__frontend_history__=this.props.history,this.iframeRef.current.contentWindow.__add_to_cart__=this.props.addCommerceProductToCart,this.iframeRef.current.contentWindow.__reset_cart__=this.props.resetCommerceCart,this.iframeRef.current.contentWindow.__close_overlay__=()=>{this.closeOverlay()}};onCartReady=()=>{this.proxyRoute(),this.proxyTheme()};onCSSLoad=()=>{this.setState({loaded:!0,isMobile:Kd.matches},()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--cart-vh",`${e}px`),document.documentElement.style.setProperty("--cart-vw",`${i}px`),window.addEventListener("resize",this.throttledResize),document.body.style.overflow="hidden",document.scrollingElement.style.overflow="hidden",requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.setState({animate:!0})})})})})})})};resizeHandler=()=>{let e=(window.innerHeight-30)*.01,i=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--cart-vh",`${e}px`),document.documentElement.style.setProperty("--cart-vw",`${i}px`)};componentWillUnmount=()=>{this.props.updateFrontendState({cartOpen:!1}),ox=null,eg.removeEventListener("change",this.onThemeChange),window.removeEventListener("cart-before-init",this.onBeforeCartInit),window.removeEventListener("cart-ready",this.onCartReady),document.body.style.overflow="",document.scrollingElement.style.overflow="",window.removeEventListener("resize",this.throttledResize),window.removeEventListener("keydown",this.onKeyDown,!0),document.documentElement.style.removeProperty("--cart-vh"),document.documentElement.style.removeProperty("--cart-vw"),document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no")};componentDidMount(){ox=this,eg.addEventListener("change",this.onThemeChange),window.addEventListener("cart-before-init",this.onBeforeCartInit,!1),window.addEventListener("cart-ready",this.onCartReady,!1)}componentDidUpdate(e,i){this.props.requestedTheme!==e.requestedTheme&&this.onThemeChange(),this.state.theme!==i.theme&&this.proxyTheme(),this.proxyRoute()}onThemeChange=()=>{this.setState({theme:this.getTheme()})};getTheme=()=>this.props.requestedTheme==="auto"?eg.matches?"dark":"light":this.props.requestedTheme;proxyRoute(){!this.iframeRef||!this.iframeRef.current||tg.default.isEqual(this.props.match,this.currentMatch)||this.iframeRef.current.contentWindow.renderRoute&&(this.currentMatch=this.props.match,this.iframeRef.current.contentWindow.renderRoute?.(this.currentMatch))}proxyTheme(){try{this.iframeRef.current.contentWindow.dispatchEvent(new CustomEvent("colorScheme",{detail:this.state.theme}))}catch{}}render(){return this.state.shopModel?m("div",{className:"cart",ref:this.cartElementRef,children:[" ",this.state.shadowRoot&&Ke(m(ie,{children:[m("link",{rel:"stylesheet",onLoad:this.onCSSLoad,type:"text/css",href:"https://build.cargo.site/frontend/4ae1a0/css/front-end/cart.css"}),m("div",{className:`background${this.state.animate?" active":""}${this.state.closing?" closing ":" "}${this.state.theme}`,onMouseDown:()=>{this.currentMatch&&!this.currentMatch.url.match("checkout")&&this.closeOverlay()},style:{height:this.state.loaded?"":"0"},children:m("div",{className:`modal${this.state.animate?" active":""}${this.state.closing?" closing":""}${this.state.isMobile?" mobile":""}`,style:{visibility:this.state.loaded?"":"hidden"},children:m("div",{className:"modal-inner",children:m("iframe",{ref:this.iframeRef,src:"about:blank"})})})})]}),this.state.shadowRoot)]}):null}};Zoe=Ln(De(t=>({requestedTheme:t.siteDesign.cart?.theme||"light"}),Xoe)(sx)),Joe=Zoe});function Qoe(t){return Ct({fetchContent:Fe.fetchContent,updateFrontendState:Fe.updateFrontendState},t)}var lx,el,rg,Az,Tz,ux,Mz,Rz=T(()=>{_e();Yo();ai();gR();ht();Ne();Ht();Ua();Ei();cd();gz();bz();Sz();lx=he(xe(),1);ne();el={ROOT_PATH:"/",IMG_PATH:"/siteimages",SITE_PREVIEW_PROXY_PATH:"/site.preview/*",ADMIN_CLIENT_SIDE_RENDERING_PATH:"/client-side-rendering.html",PAGE_PATH:"/:page",PAGE_BY_ID_PATH:"/pid/:pid/:args?",DIGITAL_PRODUCT_DOWNLOAD:"/filedownload/:hash"},rg={CART:"/cart/:section?/:order_id?",CONTACT:"/contact-form"};le||(Az=(Pz(),wc(Cz)).default,Tz=(ax(),wc(Iz)).default);ux=class extends se{constructor(e){super(e),this.checkForOverlayPath(this.props.location)}shouldComponentUpdate(e){return this.props.location!==e.location&&this.checkForOverlayPath(e.location),!0}checkForOverlayPath=e=>{for(let i in rg){let r=rg[i],n=Ta(e.pathname,{path:r});if(n){if(lx.default.isEqual(n,this.lastMatch))return;this.lastMatch=n,this.lockedUnderlayLocation||(this.lockedUnderlayLocation={...this.props.location},this.lockedUnderlayLocation.pathname===n.url&&(this.lockedUnderlayLocation.pathname="/"));return}else delete this.lastMatch}this.lockedUnderlayLocation&&(this.lockedUnderlayLocation=null)};deferredContentRenderer(e,i){let r=this.props.store.getState(),n=i==="purl"?Qe.getContentByPurl(r,e):Qe.getContentById(r,e);return n?.overlay&&(e=Ly(r,Qe,n.id),i="pid"),le?m(Qw,{id:e,idType:i}):(this.lastRequestedId=e,this.lastRequestedIdType=i,this.currentId?(this.currentId!==this.lastRequestedId||this.currentIdType!==this.lastRequestedIdType)&&(window.__deferred_page_load_promise__=new Promise(o=>{lx.default.defer(l=>{this.props.fetchContent(l,{idType:i}).catch(()=>{}).finally(()=>{this.lastRequestedId===l&&(this.currentId=this.lastRequestedId,this.currentIdType=this.lastRequestedIdType,this.forceUpdate()),delete window.__deferred_page_load_promise__,o()})},this.lastRequestedId)})):(this.currentId=this.lastRequestedId,this.currentIdType=this.lastRequestedIdType),m(xR,{children:m(Qw,{id:this.currentId,idType:this.currentIdType,hashPurl:this.props.hashPurl})}))}setHomepageClass=()=>{this.props.location?.pathname==="/"||this.props.location?.pathname.includes(this.props.homepageId)?document.querySelector("body").classList.add("home"):document.querySelector("body").classList.remove("home")};componentDidUpdate=()=>{this.setHomepageClass()};componentDidMount=()=>{this.setHomepageClass()};render(){if(this.props.adminMode&&this.props.adminInitialized===!1||!this.props.hasSite)return null;let e=null,i=null,r=this.props.location;return this.lockedUnderlayLocation&&(r=this.lockedUnderlayLocation,i=this.props.location,e=m("div",{class:"overlay",children:m(kh,{location:i,children:[m(gn,{exact:!0,path:rg.CART,render:({match:n})=>m(Tz,{closeOverlay:(o={})=>{this.props.history[o.replaceHistory?"replace":"push"](this.lockedUnderlayLocation.pathname,{preventScrollReset:!0})}})}),m(gn,{exact:!0,path:rg.CONTACT,render:({match:n})=>m(Az,{closeOverlay:()=>{this.props.history.push(this.lockedUnderlayLocation.pathname,{preventScrollReset:!0})}})})]})})),m(ie,{children:[e,m(kh,{location:r,children:[m(gn,{exact:!0,path:el.ROOT_PATH,render:({match:n})=>this.props.isFeed?this.deferredContentRenderer("root","pid"):this.deferredContentRenderer(this.props.homepageId||"root","pid")}),m(gn,{exact:!0,path:el.DIGITAL_PRODUCT_DOWNLOAD,render:({match:n})=>m(xz,{hash:n.params.hash})}),m(gn,{exact:!0,path:el.IMG_PATH,render:({match:n})=>m(yz,{})}),m(gn,{exact:!0,path:el.SITE_PREVIEW_PROXY_PATH,render:({match:n})=>this.props.isFeed?this.deferredContentRenderer("root","pid"):this.deferredContentRenderer(this.props.homepageId||"root","pid")}),m(gn,{exact:!0,path:el.ADMIN_CLIENT_SIDE_RENDERING_PATH,render:({match:n})=>null}),m(gn,{exact:!0,path:el.PAGE_PATH,render:({match:n})=>this.deferredContentRenderer(n.params.page.toLowerCase(),"purl")}),m(gn,{exact:!0,path:el.PAGE_BY_ID_PATH,render:({match:n})=>this.deferredContentRenderer(n.params.pid,"pid")}),m(gn,{path:"*",render:({location:n})=>this.deferredContentRenderer(n.pathname.substring(1),"purl")})]})]})}};Mz=yn(Ln(De((t,e)=>{let i=le?null:window.location.hash.substring(1).toLowerCase();return{hasSite:!!t.site,homepageId:Qe.getHomepageId(t),isFeed:t.sets.byId.root.stack,adminInitialized:t.adminState?.initialized||!1,adminMode:t.frontendState.adminMode,hashPurl:i}},Qoe)(ux)))});var Nz,kz,Oz=T(()=>{_r();Nz=he(xe(),1);Ne();kz={};le||(kz=window.lightbox={});(function(){"use strict";(function(r,n){r===void 0&&window!==void 0&&(r=window),r.PhotoSwipe=n()})(this,function(){"use strict";var r=function(n,o,l,u){var c={features:null,bind:function(x,M,k,N){var ae=(N?"remove":"add")+"EventListener";M=M.split(" ");for(var Se=0;Se<M.length;Se++)M[Se]&&x[ae](M[Se],k,!1)},isArray:function(x){return x instanceof Array},createEl:function(x,M){var k=document.createElement(M||"div");return x&&(k.className=x),k},getScrollY:function(){var x=window.pageYOffset;return x!==void 0?x:document.documentElement.scrollTop},unbind:function(x,M,k){c.bind(x,M,k,!0)},removeClass:function(x,M){var k=new RegExp("(\\s|^)"+M+"(\\s|$)");x.className=x.className.replace(k," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(x,M){c.hasClass(x,M)||(x.className+=(x.className?" ":"")+M)},hasClass:function(x,M){return x.className&&new RegExp("(^|\\s)"+M+"(\\s|$)").test(x.className)},getChildByClass:function(x,M){for(var k=x.firstChild;k;){if(c.hasClass(k,M))return k;k=k.nextSibling}},arraySearch:function(x,M,k){for(var N=x.length;N--;)if(x[N][k]===M)return N;return-1},extend:function(x,M,k){for(var N in M)if(M.hasOwnProperty(N)){if(k&&x.hasOwnProperty(N))continue;x[N]=M[N]}},easing:{sine:{out:function(x){return Math.sin(x*(Math.PI/2))},inOut:function(x){return-(Math.cos(Math.PI*x)-1)/2}},cubic:{out:function(x){return--x*x*x+1}}},detectFeatures:function(){if(c.features)return c.features;var x=c.createEl(),M=x.style,k="",N={};if(N.oldIE=document.all&&!document.addEventListener,N.touch="ontouchstart"in window,window.requestAnimationFrame&&(N.raf=window.requestAnimationFrame,N.caf=window.cancelAnimationFrame),N.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!N.pointerEvent){var ae=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var Se=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);Se&&Se.length>0&&(Se=parseInt(Se[1],10),Se>=1&&Se<8&&(N.isOldIOSPhone=!0))}var ke=ae.match(/Android\s([0-9\.]*)/),He=ke?ke[1]:0;He=parseFloat(He),He>=1&&(He<4.4&&(N.isOldAndroid=!0),N.androidVersion=He),N.isMobileOpera=/opera mini|opera mobi/i.test(ae)}for(var tt=["transform","perspective","animationName"],Le=["","webkit","Moz","ms","O"],Ye,ft,It=0;It<4;It++){k=Le[It];for(var Si=0;Si<3;Si++)Ye=tt[Si],ft=k+(k?Ye.charAt(0).toUpperCase()+Ye.slice(1):Ye),!N[Ye]&&ft in M&&(N[Ye]=ft);k&&!N.raf&&(k=k.toLowerCase(),N.raf=window[k+"RequestAnimationFrame"],N.raf&&(N.caf=window[k+"CancelAnimationFrame"]||window[k+"CancelRequestAnimationFrame"]))}if(!N.raf){var gr=0;N.raf=function(oi){var Qt=new Date().getTime(),ci=Math.max(0,16-(Qt-gr)),Ri=window.setTimeout(function(){oi(Qt+ci)},ci);return gr=Qt+ci,Ri},N.caf=function(oi){clearTimeout(oi)}}return N.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,c.features=N,N}};c.detectFeatures(),c.features.oldIE&&(c.bind=function(x,M,k,N){M=M.split(" ");for(var ae=(N?"detach":"attach")+"Event",Se,ke=function(){k.handleEvent.call(k)},He=0;He<M.length;He++)if(Se=M[He],Se)if(typeof k=="object"&&k.handleEvent){if(!N)k["oldIE"+Se]=ke;else if(!k["oldIE"+Se])return!1;x[ae]("on"+Se,k["oldIE"+Se])}else x[ae]("on"+Se,k)});var d=this,f=25,g=3,v={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,animatedCloseOnScroll:!0,showCaption:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:222,showAnimationDuration:222,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(x){return x.tagName==="A"},getDoubleTapZoom:function(x,M){return x||M.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};c.extend(v,u);var Lo=null,S=function(){var x=c.getScrollY();Lo===null&&(Lo=x),vl||(Gi=Gi+(x-Lo),Lo=x,V<=d.currItem.fitRatio&&!Vr&&v.modal&&(!v.animatedCloseOnScroll||Ao||dr?Gi=0:$e&&Math.abs(Gi)>0&&!Hr&&(Tn(),nc()),Pr&&clearTimeout(Pr),v.animatedCloseOnScroll,Pr=setTimeout(function(){Tn(),ua()},200)))},E=function(){return{x:0,y:0}},_=function(){return{x:0,y:0,rotation:0}},P,A,L,z,q,H,re=E(),Q=_(),O=_(),ee,ue,J,G={},D={},V,K,Y,oe,$,U,X=0,te={},ce=E(),fe,me,Ae=0,Ie,Oe,ze,at,$e,ot,Ee=!0,ct,ut=[],je,Ge,jt,Bt,_t,zt,st,Wi={},Jt=!1,Co,Hr=!1,En=function(x,M){c.extend(d,M.publicMethods),ut.push(x)},ss=function(x){var M=ir();return x>M-1?x-M:x<0?M+x:x},Po={},wi=function(x,M){return Po[x]||(Po[x]=[]),Po[x].push(M)},gt=function(x){var M=Po[x];if(M){var k=Array.prototype.slice.call(arguments);k.shift();for(var N=0;N<M.length;N++)M[N].apply(d,k)}},Er=function(){return new Date().getTime()},ur=function(x){ta=x,d.bg.style.opacity=x*v.bgOpacity},nl=function(x,M,k,N,ae,Se){(!Jt||ae&&ae!==d.currItem)&&(N=N/(ae?ae.fitRatio:d.currItem.fitRatio)),k=k+D.top,x[$e]=Y+M+"px, "+k+"px"+oe+" scale("+N+") rotateZ("+Se+"rad)"},ui=function(x){pr&&(x&&(V>d.currItem.fitRatio?Jt||(nn(d.currItem,!1,!0),Jt=!0):Jt&&(nn(d.currItem),Jt=!1)),nl(pr,O.x,O.y,V,null,O.rotation))},Io=function(x){x.container&&nl(x.container.style,x.initialPosition.x,x.initialPosition.y,x.initialZoomLevel,x,0)},as=function(x,M,k){k[$e]=Y+x+"px, "+M+"px"+oe},ol=function(x,M){if(!v.loop&&M){var k=z+(ce.x*X-x)/ce.x,N=x-Br.x;(k<0&&N>0||k>=ir()-1&&N<0)&&(x=Br.x+N*v.mainScrollEndFriction)}Br.x=x,as(x,0,q)},zu=function(x,M){var k=Oo[x]-te[x];return Q[x]+re[x]+k-k*(M/K)},Vi=function(x,M){x.x=M.x,x.y=M.y,M.id&&(x.id=M.id)},qu=function(x){x.x=Math.round(x.x),x.y=Math.round(x.y)},Hu=null,Uu=function(){Hu&&(c.unbind(document,"mousemove",Uu),c.addClass(n,"quick-view-has-mouse"),v.mouseUsed=!0,gt("mouseUsed")),Hu=setTimeout(function(){Hu=null},100)},Mg=function(){c.bind(document,"keydown",d),st.transform&&c.bind(d.scrollWrap,"click",d),v.mouseUsed||c.bind(document,"mousemove",Uu),c.bind(window,"resize scroll orientationchange",d),gt("bindEvents")},Rg=function(){c.unbind(window,"resize scroll orientationchange",d),c.unbind(window,"scroll",J.scroll),c.unbind(document,"keydown",d),c.unbind(document,"mousemove",Uu),st.transform&&c.unbind(d.scrollWrap,"click",d),dr&&c.unbind(window,ee,d),clearTimeout(Co),gt("unbindEvents")},sl=function(x,M){var k=ra(d.currItem,G,x);return M&&(dt=k),k},ip=function(x){return x||(x=d.currItem),x.initialZoomLevel},rp=function(x){return x||(x=d.currItem),x.w>0?v.maxSpreadZoom:1},np=function(x,M,k,N){return N===d.currItem.initialZoomLevel?(k[x]=d.currItem.initialPosition[x],!0):(k[x]=zu(x,N),k[x]>M.min[x]?(k[x]=M.min[x],!0):k[x]<M.max[x]?(k[x]=M.max[x],!0):!1)},Bu=function(){if($e){var x=st.perspective&&!ct;Y="translate"+(x?"3d(":"("),oe=st.perspective?", 0px)":")";return}$e="left",c.addClass(n,"quick-view-ie"),as=function(M,k){k.left=M+"px"},Io=function(M){var k=M.fitRatio>1?1:M.fitRatio,N=M.container.style,ae=k*M.w,Se=k*M.h;N.width=ae+"px",N.height=Se+"px",N.left=M.initialPosition.x+"px",N.top=M.initialPosition.y+"px"},ui=function(){if(pr){var M=pr,k=d.currItem,N=k.fitRatio>1?1:k.fitRatio,ae=N*k.w,Se=N*k.h;M.width=ae+"px",M.height=Se+"px",M.left=O.x+"px",M.top=O.y+"px"}}},Ng=function(x){var M="";v.escKey&&x.keyCode===27?M="close":v.arrowKeys&&(x.keyCode===37?M="prev":x.keyCode===39&&(M="next")),x.keyCode===32&&(x.preventDefault(),x.stopImmediatePropagation(),M="close"),M&&!x.ctrlKey&&!x.altKey&&!x.shiftKey&&!x.metaKey&&(x.preventDefault?x.preventDefault():x.returnValue=!1,d[M]())},Wu=function(x){x&&(Cn||Xn||$i||us)&&(x.preventDefault(),x.stopPropagation())},op=function(){d.setScrollOffset(0,c.getScrollY())};le||window.addEventListener("scroll",S);var cr={},Ao=0,Xs=function(x){cr[x]&&(cr[x].raf&&Ge(cr[x].raf),Ao--,delete cr[x])},Vu=function(x){cr[x]&&Xs(x),cr[x]||(Ao++,cr[x]={})},Zs=function(){for(var x in cr)cr.hasOwnProperty(x)&&Xs(x)},ls=function(x,M,k,N,ae,Se,ke){var He=Er(),tt;Vu(x);var Le=function(){if(cr[x]){if(tt=Er()-He,tt>=N){Xs(x),Se(k),ke&&ke();return}Se((k-M)*ae(tt/N)+M),cr[x].raf=je(Le)}};Le()},kg={shout:gt,listen:wi,viewportSize:G,options:v,isMainScrollAnimating:function(){return $i},getZoomLevel:function(){return V},getCurrentIndex:function(){return z},isDragging:function(){return dr},isZooming:function(){return tn},setScrollOffset:function(x,M){te.x=x,zt=te.y=M,gt("updateScrollOffset",te)},applyZoomPan:function(x,M,k,N){O.x=M,O.y=k,V=x,ui(N)},init:function(){if(!(P||A)){e("init",d);var x;d.framework=c,d.template=n,d.bg=c.getChildByClass(n,"quick-view-bg"),d.captionPositioner=c.getChildByClass(n,"quick-view-caption-positioner"),d.captionWrapper=c.getChildByClass(d.captionPositioner,"quick-view-caption-wrapper"),d.caption=c.getChildByClass(d.captionWrapper,"quick-view-caption"),jt=n.className,P=!0,st=c.detectFeatures(),je=st.raf,Ge=st.caf,$e=st.transform,_t=st.oldIE,d.scrollWrap=c.getChildByClass(n,"quick-view-scroll-wrap"),d.container=c.getChildByClass(d.scrollWrap,"quick-view-container"),q=d.container.style,d.itemHolders=fe=[{el:d.container.children[0],wrap:0,index:-1},{el:d.container.children[1],wrap:0,index:-1},{el:d.container.children[2],wrap:0,index:-1}],fe[0].el.style.display=fe[2].el.style.display="none",Bu(),J={resize:d.updateSize,orientationchange:function(){clearTimeout(Co),Co=setTimeout(function(){G.x!==d.scrollWrap.clientWidth&&d.updateSize()},500)},scroll:op,keydown:Ng,click:Wu};var M=st.isOldIOSPhone||st.isOldAndroid||st.isMobileOpera;for((!st.animationName||!st.transform||M)&&(v.showAnimationDuration=v.hideAnimationDuration=0),x=0;x<ut.length;x++)d["init"+ut[x]]();if(o){var k=d.ui=new o(d,c);k.init()}gt("firstUpdate"),z=z||v.index||0,(isNaN(z)||z<0||z>=ir())&&(z=0),d.currItem=rn(z),(st.isOldIOSPhone||st.isOldAndroid)&&(Ee=!1),n.setAttribute("aria-hidden","false"),v.modal&&(Ee?n.style.position="fixed":(n.style.position="absolute",n.style.top=c.getScrollY()+"px")),n.classList.add("quick-view-vertical-align-"+v.alignVertical),n.classList.add("quick-view-horizontal-align-"+v.alignHorizontal),zt===void 0&&(gt("initialLayout"),zt=Bt=c.getScrollY());var N="quick-view-open ";for(v.mainClass&&(N+=v.mainClass+" "),v.showHideOpacity&&(N+="quick-view-animate_opacity "),N+=ct?"quick-view-touch":"quick-view-notouch",N+=st.animationName?" quick-view-css_animation":"",N+=st.svg?" quick-view-svg":"",c.addClass(n,N),d.updateSize(),H=-1,Ae=null,x=0;x<g;x++)as((x+H)*ce.x+D.left,0,fe[x].el.style);_t||c.bind(d.scrollWrap,ue,d),wi("initialZoomInEnd",function(){d.setContent(fe[0],z-1),d.setContent(fe[2],z+1),fe[0].el.style.display=fe[2].el.style.display="block",v.focus&&n.focus(),Mg()}),d.setContent(fe[1],z),d.updateCurrItem(),setTimeout(d.updateCaption,v.showAnimationDuration+50),gt("afterInit",z),e("after-init",d),Ee||($=setInterval(function(){!Ao&&!dr&&!tn&&V===d.currItem.initialZoomLevel&&d.updateSize()},1e3)),c.addClass(n,"quick-view-visible")}},close:function(){P&&(P=!1,A=!0,gt("close"),e("closing",d),Rg(),tc(d.currItem,null,!0,d.destroy))},destroy:function(){gt("destroy"),e("destroy",d),hr&&clearTimeout(hr),n.setAttribute("aria-hidden","true"),n.className=jt,$&&clearInterval($),c.unbind(d.scrollWrap,ue,d),c.unbind(window,"scroll",d),window.removeEventListener("scroll",S),Xu(),Zs(),Po=null},panTo:function(x,M,k){k||(x>dt.min.x?x=dt.min.x:x<dt.max.x&&(x=dt.max.x),M>dt.min.y?M=dt.min.y:M<dt.max.y&&(M=dt.max.y)),O.x=x,O.y=M,ui()},handleEvent:function(x){x=x||window.event,J[x.type]&&J[x.type](x)},goTo:function(x){x=ss(x);var M=x-z;Ae=M,z=x,d.currItem=rn(z),X-=M,ol(ce.x*X),Zs(),$i=!1,d.updateCurrItem()},next:function(){d.goTo(z+1)},prev:function(){d.goTo(z-1)},updateCurrZoomItem:function(x){if(x&&(gt("beforeChange",0),e("before-slide-change",d,0)),fe[1].el.children.length){var M=fe[1].el.children[0];c.hasClass(M,"quick-view-zoom-wrap")?pr=M.style:pr=null}else pr=null;dt=d.currItem.bounds,K=V=d.currItem.initialZoomLevel,O.x=dt.center.x,O.y=dt.center.y,x&&(gt("afterChange",z),e("after-slide-change",d))},invalidateCurrItems:function(){U=!0;for(var x=0;x<g;x++)fe[x].item&&(fe[x].item.needsUpdate=!0)},updateCaption:function(){if(d.currItem.caption&&v.showCaption){for(;d.caption.childNodes.length>0;)d.caption.childNodes[0].parentNode.removeChild(d.caption.childNodes[0]);d.caption.appendChild(d.currItem.caption),Wt(d.currItem),d.caption.classList.remove("hidden")}else if(v.showCaption){var x=function(){for(;d.caption.childNodes.length>0;)d.caption.childNodes[0].parentNode.removeChild(d.caption.childNodes[0]);d.caption.removeEventListener("transitionend",x)};d.caption.classList.contains("hidden")?x():(d.caption.addEventListener("transitionend",x),d.caption.classList.add("hidden"))}},updateCurrItem:function(x){if(Ae!==0){var M=Math.abs(Ae),k;if(!(x&&M<2)){d.currItem=rn(z),Jt=!1,gt("beforeChange",Ae);var N=Ae;N===null&&(N=0),e("slide-change",d,N),M>=g&&(H+=Ae+(Ae>0?-g:g),M=g);for(var ae=0;ae<M;ae++)Ae>0?(k=fe.shift(),fe[g-1]=k,H++,as((H+2)*ce.x+D.left,0,k.el.style),d.setContent(k,z-M+ae+1+1)):(k=fe.pop(),fe.unshift(k),H--,as(H*ce.x+D.left,0,k.el.style),d.setContent(k,z+M-ae-1-1));if(pr&&Math.abs(Ae)===1){var He=rn(me);He.initialZoomLevel!==V&&(ra(He,G),nn(He),Io(He))}var Se=1+-Ae,ke=fe[Se];Ae=0,d.updateCurrZoomItem(),me!==void 0&&d.updateCaption();var He=rn(me),tt=He?.container?.querySelector("media-item");tt&&(tt.pause?.(),tt.getAttribute("autoplay")!="true"&&tt.setCurrentTime?.(0),tt.removeAttribute("autoplay"));var Le=rn(z),Ye=Le?.container?.querySelector("media-item");Ye&&(Ye.setAttribute("force-visible",!0),Ye.onload=()=>{Le.autoplay?Ye.play?.():setTimeout(()=>{Ye?.play?.()},400)}),me=z,gt("afterChange",z)}}},updateSize:function(x){if(!Ee&&v.modal){var M=c.getScrollY();if(zt!==M&&(n.style.top=M+"px",zt=M),!x&&Wi.x===window.innerWidth&&Wi.y===window.innerHeight)return;Wi.x=window.innerWidth,Wi.y=window.innerHeight,n.style.height=Wi.y+"px"}var k=window.getComputedStyle(d.template),N=parseFloat(k.getPropertyValue("padding-left"))+parseFloat(k.getPropertyValue("border-left-width")),ae=parseFloat(k.getPropertyValue("margin-left")),Se=parseFloat(k.getPropertyValue("padding-right"))+parseFloat(k.getPropertyValue("border-right-width")),ke=parseFloat(k.getPropertyValue("margin-right")),He=parseFloat(k.getPropertyValue("padding-top"))+parseFloat(k.getPropertyValue("border-top-width")),tt=parseFloat(k.getPropertyValue("margin-top")),Le=parseFloat(k.getPropertyValue("padding-bottom"))+parseFloat(k.getPropertyValue("border-bottom-width")),Ye=parseFloat(k.getPropertyValue("margin-bottom"));let ft="quick-view-vertical-align-"+v.alignVertical,It="quick-view-horizontal-align-"+v.alignHorizontal;ft!=="quick-view-vertical-align-center"&&n.classList.remove("quick-view-vertical-align-center"),ft!=="quick-view-vertical-align-top"&&n.classList.remove("quick-view-vertical-align-top"),ft!=="quick-view-vertical-align-bottom"&&n.classList.remove("quick-view-vertical-align-bottom"),It!=="quick-view-horizontal-align-center"&&n.classList.remove("quick-view-horizontal-align-center"),It!=="quick-view-horizontal-align-left"&&n.classList.remove("quick-view-horizontal-align-left"),It!=="quick-view-horizontal-align-right"&&n.classList.remove("quick-view-horizontal-align-right"),n.classList.add(ft),n.classList.add(It),D.top=He,D.left=N,D.bottom=Le,D.right=Se,D.marginTop=tt,D.marginLeft=ae,D.marginBottom=Ye,D.marginRight=ke;var Si=d.scrollWrap.getBoundingClientRect();if(G.x=Si.width,G.y=Si.height,op(),ce.x=G.x+G.x*v.spacing,ce.y=G.y,ol(ce.x*X),gt("beforeResize"),H!==void 0){for(var gr,oi,Qt,ci=0;ci<g;ci++)gr=fe[ci],as((ci+H)*ce.x+D.left,0,gr.el.style),Qt=z+ci-1,v.loop&&ir()>2&&(Qt=ss(Qt)),oi=rn(Qt),oi&&(U||oi.needsUpdate||!oi.bounds)?(d.cleanSlide(oi),d.setContent(gr,Qt),ci===1&&(d.currItem=oi,d.updateCurrZoomItem(!0)),oi.needsUpdate=!1):gr.index===-1&&Qt>=0&&d.setContent(gr,Qt),oi&&oi.container&&(ra(oi,G),nn(oi),Io(oi));U=!1}K=V=d.currItem.initialZoomLevel,dt=d.currItem.bounds,dt&&(O.x=dt.center.x,O.y=dt.center.y,ui(!0)),gt("resize")},zoomTo:function(x,M,k,N,ae){M&&(K=V,Oo.x=Math.abs(M.x)-O.x,Oo.y=Math.abs(M.y)-O.y,Vi(Q,O));var Se=sl(x,!1),ke={};np("x",Se,ke,x),np("y",Se,ke,x);var He=V,tt={x:O.x,y:O.y};qu(ke);var Le=function(Ye){Ye===1?(V=x,O.x=ke.x,O.y=ke.y,d.currItem.caption&&v.showCaption&&(Math.abs(V-d.currItem.fitRatio)>.01?d.caption.classList.add("hidden"):d.caption.classList.remove("hidden"))):(V=(x-He)*Ye+He,O.x=(ke.x-tt.x)*Ye+tt.x,O.y=(ke.y-tt.y)*Ye+tt.y),ae&&ae(Ye),ui(Ye===1)};k?ls("customZoomTo",0,1,k,N||c.easing.sine.inOut,Le):Le(1)}},$u=30,ju=10,sp,al,er={},To={},tr={},mi={},Mo={},Ur=[],Ro={},Js,No=[],ko={},ll,us,Qs,ul=0,cl=E(),Gu=0,dr,dl,Xn,Cn,pl,Pn,Mi,tn,ap,Ku,dt,Br=E(),pr,$i,Oo=E(),Zn=E(),ji,hl,ea,ta,ia,lp=function(x,M){return x.x===M.x&&x.y===M.y},up=function(x,M){return Math.abs(x.x-M.x)<f&&Math.abs(x.y-M.y)<f},Yu=function(x,M){return ko.x=Math.abs(x.x-M.x),ko.y=Math.abs(x.y-M.y),Math.sqrt(ko.x*ko.x+ko.y*ko.y)},Xu=function(){pl&&(Ge(pl),pl=null)},cp=function(){dr&&(pl=je(cp),zg())},Og=function(){return!(v.scaleMode==="fit"&&V===d.currItem.initialZoomLevel)},Zu=function(x,M){return!x||x===document||x.getAttribute("class")&&x.getAttribute("class").indexOf("quick-view-scroll-wrap")>-1?!1:M(x)?x:Zu(x.parentNode,M)},Ju={},dp=function(x,M){return Ju.prevent=!Zu(x.target,v.isClickableElement),gt("preventDragEvent",x,M,Ju),Ju.prevent},pp=function(x,M){return M.x=x.pageX+-D.left+-D.marginLeft,M.y=x.pageY+-D.top+-D.marginTop,M.clientY=x.clientY,M.id=x.identifier,M},hp=function(x,M,k){k.x=(x.x+M.x)*.5,k.y=(x.y+M.y)*.5},Qu=function(x,M,k){if(x-al>50){var N=No.length>2?No.shift():{};N.x=M,N.y=k,No.push(N),al=x}},fp=function(){var x=O.y-d.currItem.initialPosition.y;return Math.min(1.2-Math.abs(x/(G.y/2)),1)},cs={},Dg={},Jn=[],fl,Rt=function(x){for(;Jn.length>0;)Jn.pop();return ot?(fl=0,Ur.forEach(function(M){fl===0?Jn[0]=M:fl===1&&(Jn[1]=M),fl++})):x.type.indexOf("touch")>-1?x.touches&&x.touches.length>0&&(Jn[0]=pp(x.touches[0],cs),x.touches.length>1&&(Jn[1]=pp(x.touches[1],Dg))):(cs.x=x.pageX,cs.y=x.pageY,cs.clientY=x.clientY,cs.id="",Jn[0]=cs),Jn},Nt=function(x,M){var k,N=0,ae=O[x]+M[x],Se,ke=M[x]>0,He=Br.x+M.x,tt=Br.x-Ro.x,Le,Ye;if(ae>dt.min[x]||ae<dt.max[x]?k=v.panEndFriction:k=1,ae=O[x]+M[x]*k,(v.allowPanToNext||V===d.currItem.initialZoomLevel)&&(pr?ji==="h"&&x==="x"&&!Xn&&(ke?(ae>dt.min[x]&&(k=v.panEndFriction,N=dt.min[x]-ae,Se=Math.round(dt.min[x]-Q[x])),(Se<=0||tt<0)&&ir()>1?(Ye=He,tt<0&&He>Ro.x&&(Ye=Ro.x)):dt.min.x!==dt.max.x&&(Le=ae)):(ae<dt.max[x]&&(k=v.panEndFriction,N=ae-dt.max[x],Se=Math.round(Q[x]-dt.max[x])),(Se<=0||tt>0)&&ir()>1?(Ye=He,tt>0&&He<Ro.x&&(Ye=Ro.x)):dt.min.x!==dt.max.x&&(Le=ae))):Ye=He,x==="x"))return Ye!==void 0&&(ol(Ye,!0),Ye===Ro.x?Pn=!1:Pn=!0),dt.min.x!==dt.max.x&&(Le!==void 0?O.x=Le:Pn||(O.x+=M.x*k)),Ye!==void 0;$i||Pn||V>d.currItem.fitRatio&&(O[x]+=M[x]*k)},mp=null,Lg=function(x){if(!(x.type==="mousedown"&&x.button>0)){if(ds){x.preventDefault();return}if(!(Qs&&x.type==="mousedown")){if(dp(x,!0)&&x.preventDefault(),la=x.type,mp=setTimeout(function(){d.template.classList.add("mouse-down")},200),gt("pointerDown"),ot){var M=c.arraySearch(Ur,x.pointerId,"id");M<0&&(M=Ur.length),Ur[M]={x:x.pageX,y:x.pageY,clientY:x.clientY,id:x.pointerId}}var k=Rt(x),N=k.length;Mi=null,Zs(),(!dr||N===1)&&(dr=hl=!0,c.bind(window,ee,d),ll=Vr=ia=ea=us=Pn=Cn=dl=Xn=!1,ji=null,rc=k[0].y+-zt,gt("firstTouchStart",k),Vi(Q,O),re.x=re.y=0,Vi(mi,k[0]),Vi(Mo,mi),Ro.x=ce.x*X,No=[{x:mi.x,y:mi.y}],al=sp=Er(),sl(V,!0),Xu(),cp()),!tn&&N>1&&!$i&&!Pn&&(K=V,Xn=!1,tn=dl=!0,re.y=re.x=0,Vi(Q,O),Vi(er,k[0]),Vi(To,k[1]),hp(er,To,Zn),Oo.x=Math.abs(Zn.x)-O.x,Oo.y=Math.abs(Zn.y)-O.y,ap=Ku=Yu(er,To))}}},Fg=function(x){if(x.preventDefault(),ot){var M=c.arraySearch(Ur,x.pointerId,"id");if(M>-1){var k=Ur[M];k.x=x.pageX,k.y=x.pageY,k.clientY=x.clientY}}if(dr){var N=Rt(x);if(!ji&&!Cn&&!tn)if(Br.x!==ce.x*X)ji="h";else{var ae=Math.abs(N[0].x-mi.x)-Math.abs(N[0].y-mi.y);Math.abs(ae)>=ju&&(ji=ae>0?"h":"v",Mi=N)}else Mi=N;aa=aa+(rc-N[0].clientY),rc=N[0].clientY}},zg=function(){if(Mi){var x=Mi.length;if(x!==0)if(Vi(er,Mi[0]),tr.x=er.x-mi.x,tr.y=er.y-mi.y,tn&&x>1){if(mi.x=er.x,mi.y=er.y,!tr.x&&!tr.y&&lp(Mi[1],To))return;Vi(To,Mi[1]),Xn||(Xn=!0,gt("zoomGestureStarted"),d.currItem.caption&&v.showCaption&&d.caption.classList.add("hidden"));var M=Yu(er,To),k=xi(M);k>d.currItem.initialZoomLevel+d.currItem.initialZoomLevel/15&&(ia=!0);var N=1,ae=ip(),Se=rp();if(k<ae)if(v.pinchToClose&&!ia&&K<=d.currItem.initialZoomLevel){var ke=ae-k,He=1-ke/(ae/1.2);ur(He),gt("onPinchClose",He),ea=!0}else N=(ae-k)/ae,N>1&&(N=1),k=ae-N*(ae/3);else k>Se&&(N=(k-Se)/(ae*6),N>1&&(N=1),k=Se+N*ae);N<0&&(N=0),ap=M,hp(er,To,cl),re.x+=cl.x-Zn.x,re.y+=cl.y-Zn.y,Vi(Zn,cl),O.x=zu("x",k),O.y=zu("y",k),ll=k>V,V=k,ui()}else{if(!ji||(hl&&(hl=!1,Math.abs(tr.x)>=ju&&(tr.x-=Mi[0].x-Mo.x),Math.abs(tr.y)>=ju&&(tr.y-=Mi[0].y-Mo.y,aa-=-(Mi[0].y-Mo.y))),mi.x=er.x,mi.y=er.y,tr.x===0&&tr.y===0))return;if(ji==="v"&&v.animatedCloseOnScroll&&la==="touchstart"){if(Gi=aa,aa=0,!Vr&&!Hr){Vr=!0,Tn(),nc();var tt=!1,Le=0,Ye=1,ft=0;Do=0,sn=0;var It=mi.y,Si=mi.y,gr,oi,Qt=document.documentElement.scrollTop,ci=document.documentElement.scrollHeight,Ri=G.y,hs=!1,yl=document.querySelectorAll(".content_container, .pinned > div:not(.fixed)"),bl=[],oc=function(){hs||(hs=!0,oi=requestAnimationFrame(function(){yl.style.transform="translateY("+-sn+"px)",bl.each(function(Ce){var it=this.parentElement.__backdropData,bt=this.parentElement.__cached_size,ei=this.parentElement.__cached_page_size;if(it){var Et=0,Fo=0,Ki=0;bt&&(Et=bt.top,Fo=bt.height,Ki=Fo),ei&&(Ki=ei.height);var Yi=parseFloat(it.yPos)||0;this.style.position==="fixed"&&(this.style.position="absolute");var Mn=Qt+sn,fs=Qt+sn+Cargo.Backdrop.cache_window_data.height,Ir=Et+Qt,pa=Et+Qt+Ki;if(Ir<=Mn&&pa>=fs){var wl=Ir-Mn;this.style.transform="translateY("+-wl+"px)"}else pa<fs?this.style.transform="translateY("+(Ki-Cargo.Backdrop.cache_window_data.height)+"px)":this.style.transform="translateY(0px)"}}),hs=!1}))},da=function(Ce){if(Ce.touches.length==0||Ce.touches.length>1){$r(),rr();return}Ce.preventDefault(),Do=Si-Ce.touches[0].pageY,sn=Do,Do+Qt<=0?(scrollMonitor.__frozen=!0,sn=-Qt):Do+Qt+Ri>=ci?(scrollMonitor.__frozen=!0,sn=0):scrollMonitor.__frozen&&delete scrollMonitor.__frozen,ft=It-Ce.touches[0].pageY,It=Ce.touches[0].pageY,oc()},$r=function(){window.removeEventListener("touchmove",da),window.removeEventListener("touchend",$r),window.addEventListener("touchstart",rr),cancelAnimationFrame(oi),yl.style.transform="",bl.each(function(){this.__cacheStyle&&(this.style=this.__cacheStyle,delete this.__cacheStyle)}),document.documentElement.scrollTop=document.documentElement.scrollTop+Do,j(),requestAnimationFrame(function(){scrollMonitor.__frozen&&delete scrollMonitor.__frozen,Cargo.View.Backdrop.updateBackdropScrollPosition(!0),Cargo.Event.trigger("lightbox-scroll-finished")})},rr=function(){ft=0,cancelAnimationFrame(gr),window.removeEventListener("touchstart",rr)},j=function(){Ye=Ye*.95;var Ce=ft*Ye;document.documentElement.scrollTop=document.documentElement.scrollTop+Ce,Math.abs(Ce)>.5?gr=requestAnimationFrame(function(){j()}):rr()};window.addEventListener("touchmove",da),window.addEventListener("touchend",$r)}return}else if(ji==="v"&&v.closeOnVerticalDrag&&!Og()){re.y+=tr.y,O.y+=tr.y;var pe=fp();us=!0,gt("onVerticalDrag",pe),ur(pe),ui();return}Qu(Er(),er.x,er.y),ji==="h"&&v.showCaption&&!Cn&&d.caption.classList.add("hidden"),Cn=!0,dt=d.currItem.bounds;var de=Nt("x",tr);de||(Nt("y",tr),qu(O),ui())}}},qg=function(x){if(la="",st.isOldAndroid){if(Qs&&x.type==="mouseup")return;x.type.indexOf("touch")>-1&&(clearTimeout(Qs),Qs=setTimeout(function(){Qs=0},600))}clearTimeout(mp),d.template.classList.remove("mouse-down"),gt("pointerUp"),dp(x,!1)&&x.preventDefault();var M;if(ot){var k=c.arraySearch(Ur,x.pointerId,"id");if(k>-1)if(M=Ur.splice(k,1)[0],navigator.pointerEnabled)M.type=x.pointerType||"mouse";else{var N={4:"mouse",2:"touch",3:"pen"};M.type=N[x.pointerType],M.type||(M.type=x.pointerType||"mouse")}}var ae=Rt(x),Se,ke=ae.length;if(x.type==="mouseup"&&(ke=0),ke===2)return Mi=null,!0;ke===1&&Vi(Mo,ae[0]),ke===0&&!ji&&!$i&&(M||(x.type==="mouseup"?M={x:x.pageX+-D.left+-D.marginLeft,y:x.pageY+-D.top+-D.marginTop,type:"mouse"}:x.changedTouches&&x.changedTouches[0]&&(M={x:x.changedTouches[0].pageX+-D.left+-D.marginLeft,y:x.changedTouches[0].pageY+-D.top+-D.marginTop,type:"touch"})),gt("touchRelease",x,M));var He=-1;if(ke===0&&(dr=!1,c.unbind(window,ee,d),Xu(),tn?He=0:Gu!==-1&&(He=Er()-Gu)),Gu=ke===1?Er():-1,He!==-1&&He<150?Se="zoom":Se="swipe",tn&&ke<2&&(tn=!1,ke===1&&(Se="zoomPointerUp"),gt("zoomGestureEnded")),Mi=null,!(!Cn&&!Xn&&!$i&&!us&&!Vr)){if(Zs(),Js||(Js=Hg()),Js.calculateSwipeSpeed("x"),Vr)Pr&&clearTimeout(Pr),Vr=!1,Tn(),ua();else if(us){var tt=fp();if(tt<v.verticalDragRange)d.close();else{var Le=O.y,Ye=ta;ls("verticalDrag",0,1,300,c.easing.cubic.out,function(It){O.y=(d.currItem.initialPosition.y-Le)*It+Le,ur((1-Ye)*It+Ye),ui()}),gt("onVerticalDrag",1)}return}if((Pn||$i)&&ke===0){var ft=Ug(Se,Js);if(ft)return;Se="zoomPointerUp"}if(!$i){if(Se!=="swipe"){ec();return}!Pn&&V>d.currItem.fitRatio&&gp(Js)}}},Hg=function(){var x,M,k={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(N){No.length>1?(x=Er()-al+50,M=No[No.length-2][N]):(x=Er()-sp,M=Mo[N]),k.lastFlickOffset[N]=mi[N]-M,k.lastFlickDist[N]=Math.abs(k.lastFlickOffset[N]),k.lastFlickDist[N]>20?k.lastFlickSpeed[N]=k.lastFlickOffset[N]/x:k.lastFlickSpeed[N]=0,Math.abs(k.lastFlickSpeed[N])<.1&&(k.lastFlickSpeed[N]=0),k.slowDownRatio[N]=.95,k.slowDownRatioReverse[N]=1-k.slowDownRatio[N],k.speedDecelerationRatio[N]=1},calculateOverBoundsAnimOffset:function(N,ae){k.backAnimStarted[N]||(O[N]>dt.min[N]?k.backAnimDestination[N]=dt.min[N]:O[N]<dt.max[N]&&(k.backAnimDestination[N]=dt.max[N]),k.backAnimDestination[N]!==void 0&&(k.slowDownRatio[N]=.7,k.slowDownRatioReverse[N]=1-k.slowDownRatio[N],k.speedDecelerationRatioAbs[N]<.05&&(k.lastFlickSpeed[N]=0,k.backAnimStarted[N]=!0,ls("bounceZoomPan"+N,O[N],k.backAnimDestination[N],ae||300,c.easing.sine.out,function(Se){O[N]=Se,ui()}))))},calculateAnimOffset:function(N){k.backAnimStarted[N]||(k.speedDecelerationRatio[N]=k.speedDecelerationRatio[N]*(k.slowDownRatio[N]+k.slowDownRatioReverse[N]-k.slowDownRatioReverse[N]*k.timeDiff/10),k.speedDecelerationRatioAbs[N]=Math.abs(k.lastFlickSpeed[N]*k.speedDecelerationRatio[N]),k.distanceOffset[N]=k.lastFlickSpeed[N]*k.speedDecelerationRatio[N]*k.timeDiff,O[N]+=k.distanceOffset[N])},panAnimLoop:function(){if(cr.zoomPan&&(cr.zoomPan.raf=je(k.panAnimLoop),k.now=Er(),k.timeDiff=k.now-k.lastNow,k.lastNow=k.now,k.calculateAnimOffset("x"),k.calculateAnimOffset("y"),ui(),k.calculateOverBoundsAnimOffset("x"),k.calculateOverBoundsAnimOffset("y"),k.speedDecelerationRatioAbs.x<.05&&k.speedDecelerationRatioAbs.y<.05)){O.x=O.x,O.y=O.y,ui(),Xs("zoomPan");return}}};return k},gp=function(x){if(x.calculateSwipeSpeed("y"),dt=d.currItem.bounds,x.backAnimDestination={},x.backAnimStarted={},Math.abs(x.lastFlickSpeed.x)<=.05&&Math.abs(x.lastFlickSpeed.y)<=.05)return x.speedDecelerationRatioAbs.x=x.speedDecelerationRatioAbs.y=0,x.calculateOverBoundsAnimOffset("x"),x.calculateOverBoundsAnimOffset("y"),!0;Vu("zoomPan"),x.lastNow=Er(),x.panAnimLoop()},Ug=function(x,M){var k;$i||(ul=z);var N;if(x==="swipe"){var ae=mi.x-Mo.x,Se=M.lastFlickDist.x<10;ae>$u&&(Se||M.lastFlickOffset.x>20)?N=-1:ae<-$u&&(Se||M.lastFlickOffset.x<-20)&&(N=1)}var ke;N&&(z+=N,z<0?(z=v.loop?ir()-1:0,ke=!0):z>=ir()&&(z=v.loop?0:ir()-1,ke=!0),(!ke||v.loop)&&(Ae+=N,X-=N,k=!0));var He=ce.x*X,tt=Math.abs(He-Br.x),Le;return!k&&He>Br.x!=M.lastFlickSpeed.x>0?Le=333:(Le=Math.abs(M.lastFlickSpeed.x)>0?tt/Math.abs(M.lastFlickSpeed.x):333,Le=Math.min(Le,400),Le=Math.max(Le,250)),ul===z&&(k=!1),$i=!0,gt("mainScrollAnimStart"),ls("mainScroll",Br.x,He,Le,c.easing.cubic.out,ol,function(){Zs(),$i=!1,ul=-1,(k||ul!==z)&&d.updateCurrItem(),gt("mainScrollAnimComplete")}),k?d.updateCurrItem(!0):d.updateCaption(),k},xi=function(x){return 1/Ku*x*K},ec=function(){var x=V,M=ip(),k=rp();V<M?x=M:V>k&&(x=k);var N=1,ae,Se=ta;return ea&&!ll&&!ia&&V<M?(d.close(),!0):(ea&&(ae=function(ke){ur((N-Se)*ke+Se)}),d.zoomTo(x,0,200,c.easing.cubic.out,ae),!0)};En("Gestures",{publicMethods:{initGestures:function(){var x=function(M,k,N,ae,Se){Ie=M+k,Oe=M+N,ze=M+ae,Se?at=M+Se:at=""};ot=st.pointerEvent,ot&&st.touch&&(st.touch=!1),ot?navigator.pointerEnabled?x("pointer","down","move","up","cancel"):x("MSPointer","Down","Move","Up","Cancel"):st.touch?(x("touch","start","move","end","cancel"),ct=!0):x("mouse","down","move","up"),ee=Oe+" "+ze+" "+at,ue=Ie,ot&&!ct&&(ct=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),d.likelyTouchDevice=ct,J[Ie]=Lg,J[Oe]=Fg,J[ze]=qg,at&&(J[at]=J[ze]),st.touch&&(ue+=" mousedown",ee+=" mousemove mouseup",J.mousedown=J[Ie],J.mousemove=J[Oe],J.mouseup=J[ze]),ct||(v.allowPanToNext=!1)}}});var hr,tc=function(x,M,k,N){if(hr&&clearTimeout(hr),ds=!0,ml=!0,k){let tt=x.el?.closest?.("gallery-slideshow");if(tt){let Le=x.el?.assignedSlot?.name?.replace("slot-","")??-1;Le!==-1&&tt.goToSlide(parseInt(Le))}}var ae;x.initialLayout?(ae=x.initialLayout,x.initialLayout=null):ae=v.getThumbBoundsFn&&v.getThumbBoundsFn(z);var Se=k?v.hideAnimationDuration:v.showAnimationDuration,ke=function(){if(Xs("initialZoom"),k)d.template.removeAttribute("style"),d.bg.removeAttribute("style");else{if(ur(1),M&&(M.style.display="block"),x.autoplay){let tt=x.container.querySelector("media-item");tt&&(tt.onload=()=>{tt.play?.()})}c.addClass(n,"quick-view-hide-overflow"),c.addClass(n,"quick-view-animated-in"),gt("initialZoom"+(k?"OutEnd":"InEnd"))}N&&N(),ds=!1};if(!Se||!ae||ae.x===void 0){gt("initialZoom"+(k?"Out":"In")),V=x.initialZoomLevel,Vi(O,x.initialPosition),ui(),n.style.opacity=k?0:1,ur(1),Se?setTimeout(function(){ke()},Se):ke();return}var He=function(){var tt=L,Le=d.currItem.loadError||v.showHideOpacity,Ye=Vr,ft=k?25:90;tt&&(ft=0),x.miniImg&&(x.miniImg.style.webkitBackfaceVisibility="hidden");var It=parseFloat(x.w),Si=parseFloat(x.h);x.useViewportWidth&&(It=(G.x-(D.left+D.right))*x.viewportWidthPercentage),x.useViewportHeight&&(Si=(G.y-(D.top+D.bottom))*x.viewportHeightPercentage);var gr=ae.w/ae.h,oi=It/Si,Qt=gr>oi;if(!k){V=Qt?ae.h/Si:ae.w/It;var ci=(ae.w-It*V)*.5,Ri=(ae.h-Si*V)*.5,hs=ci*Math.cos(ae.transform.rotation)-Ri*Math.sin(ae.transform.rotation),yl=ci*Math.sin(ae.transform.rotation)+Ri*Math.cos(ae.transform.rotation);O.rotation=ae.transform.rotation,O.y=ae.y+-(D.top+D.marginTop)+yl,O.x=ae.x+-(D.left+D.marginLeft)+hs,d[Le?"template":"bg"].style.opacity=.001,ui(),O.rotation=0}if(Vu("initialZoom"),k&&!tt&&c.removeClass(n,"quick-view-animated-in"),k){c.removeClass(n,"quick-view-hide-overflow");var bl=d.getCurrentIndex();Nz.default.each(d.itemHolders,function($r){$r.index!==bl&&($r.el.style.display="none")}),v.showCaption&&d.caption.classList.add("hidden")}let oc=d.currItem.el?.getAttribute?.("rel")==="quick-view";(Le||Ye||oc)&&(k?c[(tt?"remove":"add")+"Class"](n,"quick-view-animate_opacity"):setTimeout(function(){c.addClass(n,"quick-view-animate_opacity")},30));var da=function(){if(gt("initialZoom"+(k?"Out":"In")),k){var $r=Qt?ae.h/Si:ae.w/It,rr=(ae.w-It*$r)*.5,j=(ae.h-Si*$r)*.5,pe=rr*Math.cos(ae.transform.rotation)-j*Math.sin(ae.transform.rotation),de=rr*Math.sin(ae.transform.rotation)+j*Math.cos(ae.transform.rotation),Ce={x:O.x,y:O.y,rotation:0},it=V,bt=ta,ei=document.documentElement.scrollTop,Et=sn,Fo=function(Ki){var Yi=ei-document.documentElement.scrollTop,Mn=Et-sn;if(Ki===1?(V=$r,O.x=ae.x+-(D.left+D.marginLeft)+pe,O.y=ae.y+Yi+Mn+-(D.top+D.marginTop)+de,O.rotation=ae.transform.rotation):(V=($r-it)*Ki+it,O.x=(ae.x+-Ce.x+-(D.left+D.marginLeft)+pe)*Ki+Ce.x,O.y=(ae.y+Yi+Mn+-(D.top+D.marginTop)+de)*Ki+(1-Ki)*(Ce.y+Yi+Mn),O.rotation=(ae.transform.rotation-Ce.rotation)*Ki+Ce.rotation),ui(),Ye){var fs=1-Ki;if(Math.hasOwnProperty("cbrt")){var Ir=1-Math.cbrt(fs);fs=1-Ir*Ir*Ir*Ir}n.style.opacity=fs}else Le?n.style.opacity=1-Ki:ur(bt-Ki*bt)};tt?ls("initialZoom",0,1,Se,c.easing.cubic.out,Fo,ke):(Fo(1),hr=setTimeout(ke,Se+20))}else{if(V=x.initialZoomLevel,Vi(O,x.initialPosition),ui(),ur(1),pr){pr.opacity="",pr.transitionDuration="";let Ki=x.container.offsetHeight}Le?n.style.opacity=1:ur(1),hr=setTimeout(ke,Se+20)}};ft===0?da():hr=setTimeout(function(){da()},ft)};He()},Qn,kt={},eo=[],ml,ds,vp={index:0,errorMsg:'<div class="quick-view-error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Qn.length}},rn,ir,fr,Bg=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},Cr=function(x,M,k){var N=x.bounds;v.alignHorizontal==="left"?N.center.x=0:v.alignHorizontal==="right"?N.center.x=kt.x-M+x.hGap.left:N.center.x=(kt.x-M)/2+x.hGap.left,v.alignVertical==="top"?N.center.y=0:v.alignVertical==="bottom"?N.center.y=kt.y-k+x.vGap.top:N.center.y=(kt.y-k)/2+x.vGap.top,N.max.x=M>kt.x?kt.x-M+x.hGap.left:N.center.x,N.max.y=k>kt.y?kt.y-k+x.vGap.top:N.center.y,N.min.x=M>kt.x?x.hGap.left:N.center.x,N.min.y=k>kt.y?x.vGap.top:N.center.y},ra=function(x,M,k){var N=!k;if(N&&(x.vGap||(x.vGap={top:0,bottom:0}),x.hGap||(x.hGap={left:0,right:0}),gt("parseVerticalMargin",x)),x.useViewportHeight||x.useViewportWidth?(kt.x=M.x-x.hGap.left-x.hGap.right,kt.y=M.y-x.vGap.top-x.vGap.bottom):(kt.x=M.x-x.hGap.left-x.hGap.right+-(D.left+D.right),kt.y=M.y-x.vGap.top-x.vGap.bottom+-(D.top+D.bottom)),N){var He=x.w,tt=x.h;x.useViewportWidth&&(He=(M.x-(D.left+D.right))*x.viewportWidthPercentage),x.useViewportHeight&&(tt=(M.y-(D.top+D.bottom))*x.viewportHeightPercentage);var ae=kt.x/He,Se=kt.y/tt;x.useViewportHeight||x.useViewportWidth?x.fitRatio=1:x.fitRatio=ae<Se?ae:Se;var ke=v.scaleMode;ke==="orig"?k=1:ke==="fit"&&(k=x.fitRatio),k>1&&(k=1),k==0&&(k=.01),x.initialZoomLevel=k,x.bounds||(x.bounds=Bg())}if(k){var He=x.w,tt=x.h;return x.useViewportWidth&&(He=M.x*x.viewportWidthPercentage),x.useViewportHeight&&(tt=M.y*x.viewportHeightPercentage),(x.useViewportHeight||x.useViewportWidth)&&(k=1),Cr(x,He*k,tt*k),N&&k===x.initialZoomLevel&&(x.initialPosition=x.bounds.center),x.bounds}},na=function(x,M,k,N,ae,Se){if(M.loadError)return;N&&(M.imageAppended=!0,nn(M,N,M===d.currItem&&Jt),Se?(M.placeholder&&M.placeholder.classList.remove("quick-view-item"),setTimeout(function(){M&&M.loaded&&M.placeholder&&(M.placeholder.style.display="none",M.placeholder=null)},500)):(N.classList.add("quick-view-item"),k.appendChild(N)));let ke=M.container.querySelector("media-item");if(ke){(x===z||!M.noLazyLoading)&&ke.setAttribute("force-visible",!0),M.hash&&M.hash!=="placeholder"&&ke.hasAttribute("src")?(ke.setAttribute("hash",M.hash),ke.removeAttribute("src")):M.src&&ke.getAttribute("src")!==M.src?(M.posterSrc&&!ke.poster&&ke.setAttribute("poster",M.posterSrc),ke.setAttribute("src",M.src)):M.model&&(ke.model=M.model);let He=ke.shadowRoot.querySelector("video");He&&(He.style.display="table",setTimeout(()=>{He.style.display=""},0)),M.autoplay&&(ke.onload=()=>{setTimeout(()=>{ke?.play?.()})})}},In=function(x){x.loading=!0,x.loaded=!1;var M=document.createElement("img"),k=function(){x.loading=!1,x.loaded=!0,x.loadComplete?x.loadComplete(x):x.img=null,M.onload=M.onerror=null,M=null};M.onload=k,M.onerror=function(){x.loadError=!0,k()};var N=x.el?.shadowRoot?.querySelector('img[part*="media"]')?.src??x.posterSrc??null;N&&x.src&&N!==x.src&&(x.src.toLowerCase().endsWith(".jpg")||x.src.toLowerCase().endsWith(".gif")||x.src.toLowerCase().endsWith(".png")||x.src.toLowerCase().endsWith(".webp")||x.src.toLowerCase().endsWith(".jpeg")||x.src.toLowerCase().endsWith(".svg")?N=x.src:N=null),N?(M.setAttribute("decoding","sync"),M.setAttribute("src",N)):setTimeout(()=>{k()})},oa=function(x,M){if(x.src&&x.loadError&&x.container)return M&&(x.container.innerHTML=""),x.container.innerHTML=v.errorMsg.replace("%url%",x.src),!0},nn=function(x,M,k){M||(M=x.container.lastChild);var N=k?x.w:x.w*x.fitRatio,ae=k?x.h:x.h*x.fitRatio,Se=x.w*x.fitRatio,ke=x.h*x.fitRatio;x.useViewportWidth&&(N=G.x*x.viewportWidthPercentage,N=Se=N-(D.left+D.right)),x.useViewportHeight&&(ae=G.y*x.viewportHeightPercentage,ae=ke=ae-(D.top+D.bottom)),x.renderedSize={w:Se,h:ke},x===d.currItem&&Wt(x),!dr&&D.top>5&&D.right>5&&D.bottom>5&&D.left>5&&(N=Math.round(N),ae=Math.round(ae)),M.style.transform="translate3d(0,0,0)",M.style.width=N+"px",M.style.height=ae+"px",M.style.setProperty("--frame-padding",ae+"px"),M.style.setProperty("padding","0px"),M.style.setProperty("border","none"),M.style.setProperty("outline","none")},Wt=function(x){var M=x.renderedSize.w,k=x.renderedSize.h,N=Math.max(1,x.fitRatio);d.captionWrapper.style.width=M/N+"px",d.captionWrapper.style.right=D.right+"px",d.captionWrapper.style.left=D.left+"px";var ae=0;switch(v.alignVertical){case"center":ae=(G.y+-D.bottom+-D.top+-k/N)*.5+D.bottom;break;case"top":ae=G.y+-D.bottom+-D.top+-k/N+D.bottom;break;case"bottom":ae=D.bottom;break}d.captionWrapper.style.height=ae+"px"},An=function(){if(eo.length){for(var x,M=0;M<eo.length;M++)x=eo[M],x.holder.index===x.index&&na(x.index,x.item,x.baseDiv,x.img,!1,x.clearPlaceholder);eo=[]}};En("Controller",{publicMethods:{lazyLoadItem:function(x){x=ss(x);var M=rn(x);!M||(M.loaded||M.loading)&&!U||(gt("gettingData",x,M),In(M))},initController:function(){c.extend(v,vp,!0),d.items=Qn=l,rn=d.getItemAt,ir=v.getNumItemsFn,fr=v.loop,ir()<3&&(v.loop=!1),wi("beforeChange",function(x){var M=v.preload,k=x===null?!0:x>=0,N=Math.min(M[0],ir()),ae=Math.min(M[1],ir()),Se;for(Se=1;Se<=(k?ae:N);Se++)d.lazyLoadItem(z+Se);for(Se=1;Se<=(k?N:ae);Se++)d.lazyLoadItem(z-Se)}),wi("initialLayout",function(){d.currItem.initialLayout=v.getThumbBoundsFn&&v.getThumbBoundsFn(z)}),wi("mainScrollAnimComplete",An),wi("initialZoomInEnd",An),wi("destroy",function(){for(var x,M=0;M<Qn.length;M++)x=Qn[M],x.container&&(x.container=null),x.placeholder&&(x.placeholder=null),x.img&&(x.img=null),x.preloader&&(x.preloader=null),x.loadError&&(x.loaded=x.loadError=!1);eo=null})},getItemAt:function(x){return x>=0&&Qn[x]!==void 0?Qn[x]:!1},allowProgressiveImg:function(){return!0},setContent:function(x,M){v.loop&&(M=ss(M));var k=d.getItemAt(x.index);k&&(k.container=null);var N=d.getItemAt(M),ae;if(!N){x.el.innerHTML="";return}gt("gettingData",M,N),x.index=M,x.item=N;var Se=N.container=c.createEl("quick-view-zoom-wrap"),ke=x.el?.querySelector("media-item"),He=!1;if(ke){let ft=ke.getFileType();(ft.startsWith("vimeo")||ft.startsWith("youtube")||ft==="url")&&(He=!0)}if(He?x.el.classList.add("iframe-item"):x.el.classList.remove("iframe-item"),oa(N),ra(N,G),!N.loadError&&!N.loaded){N.loadComplete=function(ft){if(P){if(x&&x.index===M){if(oa(ft,!0)){ft.loadComplete=ft.img=null,ra(ft,G),Io(ft),x.index===z&&d.updateCurrZoomItem();return}ft.imageAppended||(st.transform&&($i||ds)?eo.push({item:ft,baseDiv:Se,img:ft.img,index:M,holder:x,clearPlaceholder:!0}):na(M,ft,Se,ft.img,$i||ds,!0))}ft.loadComplete=null,ft.img=null,gt("imageLoadComplete",M,ft)}};var tt="quick-view-item",Le=c.createEl(tt,"media-item");if(Le.setAttribute("force-visible",N.noLazyLoading&&M!==z?"false":"true"),Le.setAttribute("disable-scroll-animation",!0),Le.setAttribute("disable-zoom",!0),Le.setAttribute("width",N.w),Le.setAttribute("height",N.h),Le.setAttribute("uses","inline-part-styles"),Le.setAttribute("media-style","padding: 0px; border-width: 0px; border-radius: 0px; outline-width: 0px; background: transparent;"),Le.setAttribute("style","padding: 0, border-width: 0px; border-radius: 0px; outline-width: 0px; background: transparent;"),N.usePlaceholder)Le.setAttribute("hash","placeholder");else if(N.fileType=="video"||N.fileType.startsWith("vimeo")||N.fileType.startsWith("youtube"))N.src?N.posterSrc?Le.setAttribute("src",N.posterSrc):Le.setAttribute("src",N.src):N.hash&&N.hash!=="placeholder"&&Le.setAttribute("hash",N.hash),N.autoplay?(N.el?.getCurrentTime?.().then(ft=>{Le.onload=()=>{setTimeout(()=>{Le.setCurrentTime?.(ft)},0)}}),Le.setAttribute("muted",!0),Le.setAttribute("loop",!0),Le.setAttribute("autoplay",!0),Le.setAttribute("browser-default",!1)):(N.el?.pause?.(),N.poster&&Le.setAttribute("poster",N.poster),Le.setAttribute("browser-default",!0));else if(N.fileType==="image"){var Ye=N.el?.shadowRoot?.querySelector('img[part*="media"]')?.src;Ye&&N.src&&Ye!==N.src&&(Ye=N.src),Ye?Le.setAttribute("src",Ye):N.src?Le.setAttribute("src",N.src):N.hash&&N.hash!=="placeholder"&&Le.setAttribute("hash",N.hash)}else N.fileType==="url"&&(N.src?Le.setAttribute("src",N.src):N.hash&&N.hash!=="placeholder"&&Le.setAttribute("hash",N.hash));nn(N,Le),Se.appendChild(Le),N.placeholder=Le,N.loading||In(N),d.allowProgressiveImg()&&(!ml&&st.transform?eo.push({item:N,baseDiv:Se,img:N.img,index:M,holder:x}):na(M,N,Se,N.img,!0,!0))}else N.loadError?N.fileType=="url"&&nn(N,null):(ae=c.createEl("quick-view-item","media-item"),ae.setAttribute("force-visible",!1),ae.setAttribute("disable-scroll-animation",!0),ae.setAttribute("disable-zoom",!0),ae.setAttribute("width",N.w),ae.setAttribute("height",N.h),ae.setAttribute("disable-scroll-animation",!0),ae.setAttribute("disable-zoom",!0),ae.setAttribute("width",N.w),ae.setAttribute("height",N.h),ae.setAttribute("uses","inline-part-styles"),ae.setAttribute("media-style","padding: 0px; border-width: 0px; border-radius: 0px; outline-width: 0px;"),ae.setAttribute("style","padding: 0, border-width: 0px; border-radius: 0px; outline-width: 0px;"),N.usePlaceholder?ae.setAttribute("hash","placeholder"):N.hash?ae.setAttribute("hash",N.hash):N.src&&ae.setAttribute("src",N.src),(N.fileType=="video"||N.fileType.startsWith("vimeo")||N.fileType.startsWith("youtube"))&&(N.autoplay?(ae.setAttribute("muted",!0),ae.setAttribute("loop",!0),ae.setAttribute("browser-default",!1)):ae.setAttribute("browser-default",!0)),nn(N,ae),na(M,N,Se,ae,!0));!ml&&M===z?(pr=Se.style,tc(N,ae||N.img)):Io(N),x.el.innerHTML="",x.el.appendChild(Se)},cleanSlide:function(x){x.img&&(x.img.onload=x.img.onerror=null),x.loaded=x.loading=x.img=x.imageAppended=!1}}});var on,ic={},sa=function(x,M,k){var N=document.createEvent("CustomEvent"),ae={origEvent:x,target:x.target,releasePoint:M,pointerType:k||"touch"};N.initCustomEvent("pswpTap",!0,!0,ae),x.target.dispatchEvent(N)};En("Tap",{publicMethods:{initTap:function(){wi("firstTouchStart",d.onTapStart),wi("touchRelease",d.onTapRelease),wi("destroy",function(){ic={},on=null})},onTapStart:function(x){x.length>1&&(clearTimeout(on),on=null)},onTapRelease:function(x,M){if(M&&!Cn&&!dl&&!Ao){var k=M;if(on&&(clearTimeout(on),on=null,up(k,ic))){gt("doubleTap",k);return}if(M.type==="mouse"){sa(x,M,"mouse");return}var N=x.target.tagName.toUpperCase();if(N==="BUTTON"||c.hasClass(x.target,"quick-view-single-tap")){sa(x,M);return}Vi(ic,k),on=setTimeout(function(){sa(x,M),on=null},300)}}}});var gl,aa=0,rc=0,Gi=0,ps=!1,Wr=0,Vr=!1,Do=0,sn=0,la="",Lo=null,vl=!1,nc=function(){Hr=!0,yp()},Tn=function(){gl&&(Ge(gl),gl=null,Wr=0,Gi=0,Hr=!1)},ua=function(){if(!(Hr||ca)){var x=O.y,M=O.x,k=ta,N=V;ls("resetVertical",0,1,300,c.easing.cubic.out,function(ae){V=d.currItem.initialZoomLevel*ae+(1-ae)*N,O.y=(d.currItem.initialPosition.y-x)*ae+x;var Se=(d.currItem.initialZoomLevel*parseFloat(d.currItem.w)-V*parseFloat(d.currItem.w))*.5;O.x=d.currItem.initialPosition.x+Se,ur((1-k)*ae+k),ui()})}},yp=function(){ps||(ps=!0,Hr&&(gl=je(yp),mr(),ps=!1))},ca=!1,mr=function(){!Vr&&vl&&(document.documentElement.scrollTop=document.documentElement.scrollTop+Gi);var x=Math.min(G.y,G.x),M=Math.abs(Gi)/x,k=Math.max(0,Math.min(1.3-Math.abs(Wr/(x/3)),1));if(k<.85||ca||M>.2){Tn(),Pr&&clearTimeout(Pr),ca||(ca=!0,Vr?(L=!0,d.close()):setTimeout(function(){L=!0,d.close()},25));return}ur(k);var N=Math.abs(Wr)/(G.y*.75);if(d.currItem.hasOwnProperty("thumbRect")){var ae=d.currItem.initialZoomLevel*parseFloat(d.currItem.h)*.5<d.currItem.thumbRect.h;ae&&(N=0)}V=(1-N*N)*d.currItem.initialZoomLevel;var Se=(d.currItem.initialZoomLevel*parseFloat(d.currItem.w)-V*parseFloat(d.currItem.w))*.5,ke=(d.currItem.initialZoomLevel*parseFloat(d.currItem.h)-V*parseFloat(d.currItem.h))*.5;O.y=d.currItem.initialPosition.y+ke+-Wr,O.x=d.currItem.initialPosition.x+Se,ui(),Wr=Wr+Gi,Gi=0},Pr,gi;En("DesktopZoom",{publicMethods:{initDesktopZoom:function(){_t||(ct?d.setupDesktopZoom():d.setupDesktopZoom(!0))},setupDesktopZoom:function(x){gi={};var M="wheel mousewheel DOMMouseScroll";wi("bindEvents",function(){c.bind(n,M,d.handleMouseWheel)}),wi("unbindEvents",function(){gi&&c.unbind(n,M,d.handleMouseWheel)}),d.mouseZoomedIn=!1;var k,N=function(){d.mouseZoomedIn&&(c.removeClass(n,"quick-view-zoomed-in"),d.mouseZoomedIn=!1),V<1?c.addClass(n,"quick-view-zoom-allowed"):c.removeClass(n,"quick-view-zoom-allowed"),ae()},ae=function(){k&&(c.removeClass(n,"quick-view-dragging"),k=!1)};wi("resize",N),wi("afterChange",N),wi("pointerDown",function(){d.mouseZoomedIn&&(k=!0,c.addClass(n,"quick-view-dragging"))}),wi("pointerUp",ae),x||N()},handleMouseWheel:function(x){if(vl=!0,V<=d.currItem.fitRatio&&v.modal&&(!v.closeOnScroll||Ao||dr?x.preventDefault():$e&&Math.abs(x.deltaY)>2&&(L=!0,d.close())),gi.x=0,"deltaX"in x)x.deltaMode===1?(gi.x=x.deltaX*18,gi.y=x.deltaY*18):(gi.x=x.deltaX,gi.y=x.deltaY);else if("wheelDelta"in x)x.wheelDeltaX&&(gi.x=-.16*x.wheelDeltaX),x.wheelDeltaY?gi.y=-.16*x.wheelDeltaY:gi.y=-.16*x.wheelDelta;else if("detail"in x)gi.y=x.detail;else return;if(V<=d.currItem.fitRatio&&!Vr){Gi=Gi+gi.y,v.modal&&(!v.animatedCloseOnScroll||Ao||dr?(x.preventDefault(),Gi=0):$e&&Math.abs(gi.y)>0&&!Hr&&(Tn(),nc()),Pr&&clearTimeout(Pr),Pr=setTimeout(function(){Tn(),ua()},200));return}else Gi=0,x.stopPropagation();sl(V,!0);var M=O.x-gi.x,k=O.y-gi.y;(v.modal||M<=dt.min.x&&M>=dt.max.x&&k<=dt.min.y&&k>=dt.max.y)&&x.preventDefault(),d.panTo(M,k)},toggleDesktopZoom:function(x){x=x||{x:G.x/2+te.x,y:G.y/2+te.y};var M=v.getDoubleTapZoom(!0,d.currItem),k=V===M;d.mouseZoomedIn=!k,d.zoomTo(k?d.currItem.initialZoomLevel:M,x,333),c[(k?"remove":"add")+"Class"](n,"quick-view-zoomed-in"),d.currItem.caption&&v.showCaption&&(k?d.caption.classList.remove("hidden"):d.caption.classList.add("hidden"))}}}),c.extend(d,kg)};return r}),this.template=`<div class="quick-view" tabindex="-1" role="dialog" aria-hidden="true"> 
	

</div>`;var t=function(){var r=document.querySelector(".quick-view-container");r.outerHTML=this.template,r=null}.bind(this),e=function(){};this.setEventProxy=function(r){typeof r=="function"&&(e=r)};var i=function(r,n,o,l,u,c,d){var f=Math.acos,g=Math.atan,v=Math.sqrt,S=Math.PI,E={x:u,y:c},_=0,P={x:1,y:1},A={x:0,y:0},L=r*l-n*o;if(d)r?(A={x:g(o/r),y:g(n/r)},P={x:r,y:L/r}):n?(_=S*.5,P={x:n,y:L/n},A.x=g(l/n)):(P={x:o,y:l},A.x=S*.25);else if(r||n){var z=v(r*r+n*n);_=n>0?f(r/z):-f(r/z),P={x:z,y:L/z},A.x=g((r*o+n*l)/(z*z))}else if(o||l){var q=v(o*o+l*l);_=S*.5-(l>0?f(-o/q):-f(o/q)),P={x:L/q,y:q},A.y=g((r*o+n*l)/(q*q))}else P={x:0,y:0};return{scale:P,translate:E,rotation:_,skew:A}};this.isActive=!1,this.activeGallery=void 0,this.openImageArray=function(r,n,o){if(!(r===void 0||this.activeGallery!==void 0)){var l=document.querySelectorAll(".quick-view")[0],u=this,c=o.alignVertical||"center",d=o.alignHorizontal||"center",f=o.useControls,g=o.animatedCloseOnScroll,v=o.showCaption,S={index:n,maxSpreadZoom:1,getThumbBoundsFn:function(z){if(o&&o.preventAnimation||u.activeGallery==null)return!1;var q=u.activeGallery.getItemAt(z),H;if(!q||!q.el)return!1;q.el.tagName==="A"?H=q.el.querySelector("media-item, video, iframe, img")||q.el:H=q.el;let re=H.closest("marquee-set");if(re){let Ee=re.querySelector('marquee-inner[slot="contents"]'),ct=re.querySelector('marquee-inner[slot="contents-clone"]');if(u.isActive&&ct)return!1}if(H&&H.tagName==="MEDIA-ITEM"&&(H=H.shadowRoot.querySelector('[part*="media"]')),!H)return!1;let Q=H.getRootNode();for(;Q&&Q!==document;)Q instanceof ShadowRoot?Q=Q.host.getRootNode():Q=void 0;if(!Q)return!1;let O=getComputedStyle(H),ee=parseFloat(O.getPropertyValue("padding-top"))||0,ue=parseFloat(O.getPropertyValue("padding-bottom"))||0,J=parseFloat(O.getPropertyValue("padding-left"))||0,G=parseFloat(O.getPropertyValue("padding-right"))||0,D=parseFloat(O.getPropertyValue("border-top"))||0,V=parseFloat(O.getPropertyValue("border-bottom"))||0,K=parseFloat(O.getPropertyValue("border-left"))||0,Y=parseFloat(O.getPropertyValue("border-right"))||0,oe={rotation:0,scale:{x:1,y:1},skew:{x:0,y:0},translate:{x:0,y:0}},$=H,U=H,X=0,te=0,ce=0,fe=0;for(;$;)O=getComputedStyle($),ee=parseFloat(O.getPropertyValue("padding-top"))||0,ue=parseFloat(O.getPropertyValue("padding-bottom"))||0,J=parseFloat(O.getPropertyValue("padding-left"))||0,G=parseFloat(O.getPropertyValue("padding-right"))||0,D=parseFloat(O.getPropertyValue("border-top"))||0,V=parseFloat(O.getPropertyValue("border-bottom"))||0,K=parseFloat(O.getPropertyValue("border-left"))||0,Y=parseFloat(O.getPropertyValue("border-right"))||0,$==H?(ce=$.offsetWidth-(J+K+G+Y),fe=$.offsetHeight-(ee+D+ue+V),X=X+$.offsetLeft+K+J,te=te+$.offsetTop+D+ee):(X=X+$.offsetLeft+K,te=te+$.offsetTop+D),$=$.offsetParent;let me=[];for(;U;){let Ee=[],ct=getComputedStyle(U),ut=ct.getPropertyValue("transform"),je=ct.getPropertyValue("position")==="fixed",Ge;var Ae=ut.indexOf("matrix(")>-1,Ie=ut.indexOf("matrix3d(")>-1,Oe=Ae||Ie;if(Ae){Ee=ut.replace(")","").replace("matrix(","").split(",");for(var ze=0;ze<Ee.length;ze++)Ee[ze]=parseFloat(Ee[ze]);Ge=i(Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5],!1)}else if(Ie){Ee=ut.replace(")","").replace("matrix3d(","").split(",");for(var ze=0;ze<Ee.length;ze++)Ee[ze]=parseFloat(Ee[ze]);Ge=i(Ee[0],Ee[1],Ee[4],Ee[5],Ee[12],Ee[13],!1)}else Ge={rotation:0,scale:{x:1,y:1},skew:{x:0,y:0},translate:{x:0,y:0}};if(Oe){let jt=X+ce*.5,Bt=te+fe*.5,_t=X-jt,zt=te-Bt,st=_t*Math.cos(Ge.rotation)-zt*Math.sin(Ge.rotation),Wi=_t*Math.sin(Ge.rotation)+zt*Math.cos(Ge.rotation);X=st+jt,te=Wi+Bt,X+=Ge.translate.x,te+=Ge.translate.y,oe.rotation=Ge.rotation+oe.rotation,oe.scale.x=Ge.scale.x+oe.scale.x,oe.scale.y=Ge.scale.y+oe.scale.y,oe.translate.y=Ge.translate.y+oe.translate.y,oe.translate.x=Ge.translate.x+oe.translate.x}U?.assignedSlot?U=U.assignedSlot:U=U.parentNode,U?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(U=U.host),U?.nodeType!==Node.ELEMENT_NODE&&(U=null),U&&(je?me.push("fixed"):me.push(U.scrollTop))}let at=me.findIndex(Ee=>Ee==="fixed");at!==-1&&(me=me.slice(0,at));let $e=me.reduce((Ee,ct=0)=>Ee+ct);te=te-$e;var ot={x:X,y:te,w:ce,h:fe,padding:{top:ee,bottom:ue,left:J,right:G},border:{top:D,bottom:V,left:K,right:Y},transform:oe};return q.thumbRect=ot,ot},closeEl:!0,arrowEl:!1,tapToClose:!0,closeOnScroll:!1,alignHorizontal:d,alignVertical:c,useControls:f,animatedCloseOnScroll:g,showCaption:v},E=!1,_=!1,P=function(){_=!0},A=function(){_=!1};if(window.addEventListener("touchend",A),window.addEventListener("touchstart",P),o!==void 0&&typeof o=="object"){for(var L in o)o.hasOwnProperty(L)&&(S[L]=o[L]);o.disableZoom===!0&&(E=!0,S.zoomEl=!1,S.getDoubleTapZoom=function(z,q){return q.initialZoomLevel},S.pinchToClose=!1)}return this.activeGallery=new this.PhotoSwipe(l,this.PhotoSwipeUI_Default,r,S),o.afterInit&&this.activeGallery.listen("afterInit",o.afterInit),E?l.classList.add("quick-view-zoom-disabled"):l.classList.remove("quick-view-zoom-disabled"),this.activeGallery.init(),this.isActive=!0,this.activeGallery.elementArray=r,this.activeGallery.listen("destroy",function(){l.parentNode!==null?(l.parentNode.removeChild(l),window.removeEventListener("touchend",A),window.removeEventListener("touchstart",P)):(window.removeEventListener("touchend",A),window.removeEventListener("touchstart",P)),u.isActive=!1,u.activeGallery=void 0}),this.activeGallery}};(function(r,n){r===void 0&&window!==void 0&&(r=window),r.PhotoSwipeUI_Default=n()})(this,function(){"use strict";var r=function(n,o){var l=this,u=!1,c=!0,d,f,g,v,S,E,_,P={closeElClasses:["holder","caption","zoom-wrap","ui","top-bar","container"],timeToIdle:1500,timeToIdleOutside:1500,closeEl:!0,fullscreenEl:!0,zoomEl:!0,counterEl:!0,arrowEl:!0,tapToClose:!1,tapToToggleControls:!0,useControls:!1,clickToCloseNonZoomable:!0,fitControlsWidth:1200},A,L,z=function($){if(A)return!0;$=$||window.event,_.timeToIdle&&_.mouseUsed&&!v&&J();for(var U=$.target||$.srcElement;U.nodeName==="svg"||U.nodeName==="path"||U.nodeName==="circle"||U.nodeName==="polyline"||U.nodeName==="g"||U.nodeName==="foreignObject"||U.nodeName==="line";)U=U.parentNode;for(var X,te=U.getAttribute("class")||"",ce,fe=0;fe<Y.length;fe++)X=Y[fe],X.onTap&&te.indexOf("quick-view-"+X.name)>-1&&(X.onTap(),ce=!0);if(ce){$.stopPropagation&&$.stopPropagation(),A=!0;var me=o.features.isOldAndroid?600:30;L=setTimeout(function(){A=!1},me)}},q=function(){return!n.likelyTouchDevice||_.mouseUsed||screen.width>_.fitControlsWidth},H=function($,U,X){o[(X?"add":"remove")+"Class"]($,"quick-view-"+U)},re=function($){for(var U=0;U<_.closeElClasses.length;U++)if(o.hasClass($,"quick-view-"+_.closeElClasses[U]))return!0},Q,O,ee=0,ue=!1,J=function($){if($){var U=Ra($.target,function(X){if(X&&X.nodeType===Node.ELEMENT_NODE)return X.classList.contains("left-arrow")||X.classList.contains("right-arrow")||X.classList.contains("close-button")});ue=!!U}clearTimeout(O),ee=0,v&&l.setIdle(!1)},G=function($){$=$||window.event;var U=$.relatedTarget||$.toElement;(!U||U.nodeName==="HTML")&&(clearTimeout(O),O=setTimeout(function(){l.setIdle(!0)},_.timeToIdleOutside))},D=function(){_.fullscreenEl&&!o.features.isOldAndroid&&(d||(d=l.getFullscreenAPI()),d?(o.bind(document,d.eventK,l.updateFullscreen),l.updateFullscreen(),o.addClass(n.template,"quick-view-supports-fs")):o.removeClass(n.template,"quick-view-supports-fs"))},V=function(){_.timeToIdle&&S("mouseUsed",function(){o.bind(document,"mousemove",J),o.bind(document,"mouseout",G),Q=setInterval(function(){ee++,ee===2&&l.setIdle(!0)},_.timeToIdle/2)})},K=function(){S("onVerticalDrag",function(U){c&&U<.95?l.hideControls():!c&&U>=.95&&l.showControls()});var $;S("onPinchClose",function(U){c&&U<.9?(l.hideControls(),$=!0):$&&!c&&U>.9&&l.showControls()}),S("zoomGestureEnded",function(){$=!1,$&&!c&&l.showControls()})},Y=[{name:"button--zoom",option:"zoomEl",onTap:n.toggleDesktopZoom},{name:"button-close",option:"closeEl",onTap:n.close},{name:"button-prev",option:"arrowEl",onTap:n.prev},{name:"button-next",option:"arrowEl",onTap:n.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){d.isFullscreen()?d.exit():d.enter()}}],oe=function(){var $,U,X,te=function(me){if(me){for(var Ae=me.length,Ie=[],Oe=0;Oe<Ae;Oe++){$=me[Oe],U=$.className;for(var ze=0;ze<Y.length;ze++)X=Y[ze],U.indexOf("quick-view-"+X.name)>-1&&(_[X.option]?(o.removeClass($,"quick-view-element--disabled"),Ie.push($),X.onInit&&X.onInit($)):o.addClass($,"quick-view-element--disabled"))}Ie.length>0}};te(f.children);for(var ce=f.querySelectorAll(".quick-view-group"),fe=0;fe<ce.length;fe++)te(ce[fe].children)};l.init=function(){o.extend(n.options,P,!0),_=n.options,f=o.getChildByClass(n.scrollWrap,"quick-view-ui"),S=n.listen,S("beforeChange",l.update),S("doubleTap",function($){var U=n.currItem.initialZoomLevel;n.getZoomLevel()!==U?n.zoomTo(U,$,333):n.zoomTo(_.getDoubleTapZoom(!1,n.currItem),$,333)}),S("preventDragEvent",function($,U,X){var te=$.target||$.srcElement;te&&te.getAttribute("class")&&$.type.indexOf("mouse")>-1&&(te.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(te.tagName))&&(X.prevent=!1)}),S("destroy",function(){_.captionEl&&(_fakeCaptionContainer&&f.removeChild(_fakeCaptionContainer),o.removeClass(_captionContainer,"quick-view-caption--empty"))}),l.bindEvents(),D()},l.unbindEvents=function(){Q&&clearInterval(Q),o.unbind(document,"mouseout",G),o.unbind(document,"mousemove",J),o.unbind(n.scrollWrap,"pswpTap",l.onGlobalTap),window.removeEventListener("mousedown",l.onGlobalClick),d&&(o.unbind(document,d.eventK,l.updateFullscreen),d.isFullscreen()&&(_.hideAnimationDuration=0,d.exit()),d=null)},l.setupIdle=function(){V()},l.bindEvents=function(){_.useControls,window.addEventListener("mousedown",l.onGlobalClick),o.bind(n.scrollWrap,"pswpTap",l.onGlobalTap),n.likelyTouchDevice},l.setIdle=function($){window.store?.getState()?.frontendState?.adminMode||ue||(v=$)},l.update=function(){c&&n.currItem?u=!0:u=!1},l.updateFullscreen=function($){$&&setTimeout(function(){n.setScrollOffset(0,o.getScrollY())},50),o[(d.isFullscreen()?"add":"remove")+"Class"](n.template,"quick-view-fs")},l.onGlobalClick=function($){let U=$.target.closest('.quick-view, media-item:not([disable-zoom="true"]), href[rel="quick-view"]');U&&(U.getAttribute("rel")=="quick-view"||U.nodeName==="MEDIA-ITEM")?n.elementArray.findIndex(te=>te.el==U)===-1&&n.close():U||n.close()},l.onGlobalTap=function($){$=$||window.event;var U=$.target||$.srcElement;if(!A){if($.detail&&$.detail.pointerType==="mouse"){if(re(U)){n.close();return}if(o.hasClass(U,"quick-view-item")){if(_.disableZoom){let X=U.getFileType?.();if(X&&!n.currItem.autoplay&&(X.startsWith("vimeo")||X.startsWith("youtube")||X==="video"))return;n.close();return}if(n.getZoomLevel()===1&&n.getZoomLevel()<=n.currItem.fitRatio){if(_.clickToCloseNonZoomable){n.close();return}}else n.toggleDesktopZoom($.detail.releasePoint)}}else if(_.tapToToggleControls&&(c?l.hideControls():l.showControls()),_.tapToClose&&(o.hasClass(U,"quick-view-item")||re(U))){(!U.getFileType||U.getFileType?.()==="image")&&n.close();return}}},l.onMouseOver=function($){$=$||window.event;var U=$.target||$.srcElement;H(f,"ui--over-close",re(U))},l.hideControls=function(){},l.showControls=function(){},l.toggleFullscreen=function(){d.isFullscreen()?d.exit():d.enter()},l.supportsFullscreen=function(){var $=document;return!!($.exitFullscreen||$.mozCancelFullScreen||$.webkitExitFullscreen||$.msExitFullscreen)},l.getFullscreenAPI=function(){var $=document.documentElement,U,X="fullscreenchange";return $.requestFullscreen?U={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:X}:$.mozRequestFullScreen?U={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+X}:$.webkitRequestFullscreen?U={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+X}:$.msRequestFullscreen&&(U={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),U&&(U.enter=function(){if(g=_.closeOnScroll,_.closeOnScroll=!1,this.enterK==="webkitRequestFullscreen")n.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);else return n.template[this.enterK]()},U.exit=function(){return _.closeOnScroll=g,document[this.exitK]()},U.isFullscreen=function(){return document[this.elementK]}),U}};return r})}).call(kz)});var Dz=W((YAe,ese)=>{ese.exports={}});var px={};ti(px,{default:()=>nse,openQuickViewFromElement:()=>dx});function tse(t,e){return{imageSettings:t.siteDesign.images,settings:t.siteDesign.quick_view,quickView:t.frontendState.quickView,adminMode:t.frontendState.adminMode}}function ise(t){return Ct({updateFrontendState:actions.updateFrontendState},t)}var ng,cx,Lz,rse,dx,nse,og=T(()=>{_e();We();ht();ai();Ei();_r();Ne();js();Yo();Oz();ng=he(xe(),1);ne();cx=class extends se{constructor(e){super(e),this.state={lightboxActive:!1,navigationElement:null,showInterface:!1,showArrows:!0,navTransitioning:!1,pointerDown:!1},this.template=ge(),this.navigationRef=ge(),this.lightbox=window.lightbox,this.QuickView=window.QuickView,Promise.resolve().then(()=>he(Dz(),1)),this.htmlTemplate=`
			<div class="quick-view-bg quick-view-background"></div> 
			<div class="quick-view-scroll-wrap"> 

				<div class="quick-view-container"> 
					<div class="quick-view-holder"></div> 
					<div class="quick-view-holder"></div> 
					<div class="quick-view-holder"></div> 
				</div> 

			</div>

			<div class="quick-view-caption-positioner"> 
				<div class="quick-view-caption-wrapper"> 
					<div class="quick-view-caption caption hidden" data-quick-view-caption><span></span></div>
				</div> 
			</div>`}onPointerDown=e=>{this.setState({pointerDown:!0}),ao&&this.hideArrows()};onPointerUp=e=>{this.setState({pointerDown:!1})};onPointerMove=e=>{if(!this.state.showInterface&&!ao&&!this.state.pointerDown&&this.setState({showInterface:!0}),ao)return;let i=document.querySelector(".quick-view-caption");e&&e.target&&(this.state.navigationElement?.contains(e.target)||e.target===i||i&&i.contains(e.target))?this.hideInterface.cancel():!ao&&this.hideInterface()};isInAdmin=()=>Ai&&this.props.adminMode===!0;hideInterface=ng.default.debounce(()=>{this.isInAdmin()||this.setState({showInterface:!1})},1500);hideArrows=ng.default.debounce(()=>{this.isInAdmin()||this.setState({showArrows:!1})},500);bindEvents(){ao||document.addEventListener("pointerleave",this.hideInterface),window.addEventListener("pointerdown",this.onPointerDown),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerdown",this.onPointerMove)}unbindEvents(){ao||document.removeEventListener("pointerleave",this.hideInterface),window.removeEventListener("pointerdown",this.onPointerDown),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerdown",this.onPointerMove)}componentDidUpdate(e,i){this.state.navigationElement!==this.navigationRef.current&&(this.navigationRef.current&&!this.navigationRef.current.shadowRoot&&this.navigationRef.current.attachShadow({mode:"open"}),this.setState({navigationElement:this.navigationRef.current})),this.props.location!==e.location&&this.closeQuickView(),!e.quickView.inited&&this.props.quickView.inited&&this.setState({lightboxActive:!0,showInterface:!1},()=>{this.props.quickView.mode==="preview"?(window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}}),this.previewInAdmin()):this.launchQuickView(),this.bindEvents(),this.lightbox.activeGallery?.listen("initialZoomInEnd",()=>{this.setState({showInterface:!0,showArrows:!1}),!ao&&this.hideInterface()}),this.lightbox.activeGallery?.listen("onVerticalDrag",n=>{this.state.showInterface&&n<.95?this.setState({showInterface:!1}):!this.state.showInterface&&n>=.95&&this.setState({showInterface:!0})});var r;this.lightbox.activeGallery?.listen("onPinchClose",n=>{this.state.showInterface&&n<.9?(this.setState({showInterface:!1}),r=!0):r&&!this.state.showInterface&&n>.9&&this.setState({showInterface:!0})}),this.lightbox.activeGallery?.listen("zoomGestureEnded",()=>{r=!1,r&&!this.state.showInterface&&this.setState({showInterface:!1})}),this.lightbox?.activeGallery?.listen("close",()=>{this.setState({showInterface:!1,showArrows:!0}),this.unbindEvents()}),this.lightbox?.activeGallery?.listen("destroy",()=>{window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}}),this.props.updateFrontendState({quickView:{mode:"default",inited:!1,autoScrolling:!1,activeGallery:null,elementArray:void 0,activeIndex:0}}),this.setState({lightboxActive:!1,showInterface:!1,showArrows:!0})})}),e.quickView.inited&&!this.props.quickView.inited&&this.lightbox.isActive&&this.lightbox.activeGallery.close(),e.quickView.autoScrolling!==this.props.quickView.autoScrolling&&this.lightbox.activeGallery&&(this.props.quickView.autoScrolling?this.lightbox.activeGallery.options.animatedCloseOnScroll=!1:this.lightbox.activeGallery.options.animatedCloseOnScroll=this.props.settings.close_on_scroll),!ng.default.isEqual(e.settings,this.props.settings)&&this.lightbox.activeGallery&&(e.settings.show_ui!==this.props.settings.show_ui&&this.props.settings.show_ui&&(this.setState({showInterface:!0}),this.hideInterface()),this.lightbox.activeGallery.options.alignHorizontal=this.props.settings.contentAlignHorizontal,this.lightbox.activeGallery.options.alignVertical=this.props.settings.contentAlignVertical,this.lightbox.activeGallery.options.animatedCloseOnScroll=this.props.settings.close_on_scroll,this.props.settings.captions!==e.settings.captions&&(this.lightbox.activeGallery.options.showCaption=this.props.settings.captions,this.props.settings.captions?(this.lightbox.activeGallery.caption.style.display="",this.lightbox.activeGallery.updateCaption()):this.lightbox.activeGallery.caption.style.display="none"),this.lightbox.activeGallery.updateSize(!0))}closeQuickView=e=>{Mt.getState().frontendState?.quickView?.inited!==!1&&this.props.updateFrontendState({quickView:{inited:!1}})};render(){return this.state.lightboxActive||this.state.navTransitioning?m(ie,{children:[m("div",{ref:this.template,className:"quick-view",dangerouslySetInnerHTML:{__html:this.htmlTemplate}}),this.props.settings.show_ui?m("div",{className:"quick-view nav",ref:this.navigationRef,children:[this.state.navigationElement?m("style",{children:`
							.quick-view-caption {
								opacity: ${this.state.showInterface?"1":"0"};
							}
						`}):null,this.state.navigationElement?Ke(m(ie,{children:[m("style",{children:`
								[part*="slideshow-nav"],
								.quick-view-caption {
									opacity: ${this.state.showInterface?"1":"0"};
								}
								${ao&&`
									[part*="slideshow-nav-next-button"],
									[part*="slideshow-nav-previous-button"]{
										opacity: ${this.state.showArrows?"1":"0"};
										${this.state.showArrows?"":"pointer-events: none !important;"}
								}`}
								
							`}),m("div",{part:"slideshow-nav",onTransitionStart:e=>{this.setState({navTransitioning:!0})},onTransitionEnd:e=>{this.setState({navTransitioning:!1})},children:[this.isInAdmin()||this.props.quickView.elementArray?.length>1?m(ie,{children:[m("div",{part:"slideshow-nav-previous-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.prev()},children:m("svg",{part:"slideshow-nav-prev",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),m("div",{part:"slideshow-nav-next-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.next()},children:m("svg",{part:"slideshow-nav-next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})})]},"slideshow-nav-buttons"):null,m("div",{part:"slideshow-nav-close-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.close()},children:m("svg",{part:"slideshow-nav-close",x:"0px",y:"0px",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-x",d:"M9.3,9.3L18,18l-8.7,8.7 M26.7,9.3L18,18l8.7,8.7"})]})})]})]}),this.state.navigationElement.shadowRoot):null]}):null]}):null}launchQuickView=()=>{if(!this.props.quickView.elementArray)return;let e=this.props.quickView.activeIndex;(e===-1||isNaN(e))&&(e=0);let i=this.props.quickView.elementArray[e],r=!1,n=i?.el?.getAttribute?.("rel")==="quick-view";lightbox.openImageArray(this.props.quickView.elementArray,e,{disableZoom:!this.props.imageSettings.image_full_zoom,preventAnimation:!1,showHideOpacity:n,animatedCloseOnScroll:!!this.props.settings?.close_on_scroll,alignHorizontal:this.props.settings?.contentAlignHorizontal||"center",alignVertical:this.props.settings?.contentAlignVertical||"center",useControls:!1,showCaption:!!this.props.settings?.captions,isAdmin:!1,afterInit:o=>{let l=lightbox.activeGallery.template,u=window.getComputedStyle(l),c=parseInt(u.getPropertyValue("width")),d=parseInt(u.getPropertyValue("height"));this.props.updateFrontendState({quickView:{activeIndex:o}})}}),lightbox?.activeGallery?.listen("afterChange",o=>{if(!this.props.quickView.inited)return;this.props.updateFrontendState({quickView:{activeIndex:o}}),this.props.quickView.elementArray[o]?.el?.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:250,preventQuickViewClose:!0,lazyScroll:!0}}))})};previewInAdmin=()=>{let i=[[6800,5e3],[5e3,6800],[5e3,5e3]].map(r=>{let n=document.createElement("media-item"),o=document.createElement("span");return o.classList.add("caption-background"),o.innerHTML="Lorem ipsum dolor sit amet, consectetur adipiscing",n.setAttribute("width",r[0]),n.setAttribute("height",r[1]),{useViewportWidth:!1,useViewportHeight:!1,viewportWidthPercentage:1,viewportHeightPercentage:1,autoplay:!1,fileType:"placeholder",w:r[0],h:r[1],caption:o,hash:null,src:n.href,usePlaceholder:!1,el:n}});this.lightbox.openImageArray(i,0,{disableZoom:!this.props.imageSettings.image_full_zoom,preventAnimation:!1,animatedCloseOnScroll:!!this.props.settings?.close_on_scroll,alignHorizontal:this.props.settings?.contentAlignHorizontal||"center",alignVertical:this.props.settings?.contentAlignVertical||"center",useControls:!1,showCaption:!!this.props.settings?.captions,isAdmin:!1})}};Lz=De(tse,ise)(cx),rse=(t="")=>{let e="none";if(t){let l=t.toLowerCase();if(l.endsWith(".mov")||l.endsWith(".mp4")||l.endsWith(".webm"))e="video";else if(l.endsWith(".png")||l.endsWith(".webp")||l.endsWith(".jpg")||l.endsWith(".jpeg")||l.endsWith(".gif")||l.endsWith(".avif")||l.endsWith(".apng")||l.endsWith(".svg"))e="image";else{e="url";var i,r=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,o=t.match(r);if(o&&o[3]){i=o[3];let u=t.split("/");u[u.length-1]!=i&&(i+="/"+u[u.length-1]),e="vimeo:"+i}var n=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,o=t.match(n);o&&o[7].length==11&&(i=o[7],e="youtube:"+i)}}return e},dx=t=>{let e=Mt.getState();if(t&&t.nodeName!=="MEDIA-ITEM"&&(t=t.closest('a[rel="quick-view"]')||t),window.lightbox.activeGallery&&e.frontendState.quickView.elementArray){let d=e.frontendState.quickView.elementArray.findIndex(f=>f.el==t);if(d!==-1){window.lightbox.activeGallery.goTo(d);return}}let i=t.closest(".page"),r=t.getAttribute("hash"),n=[],o=Ra(t,d=>d?.tagName?.startsWith("GALLERY-")),l=!1,u=t.closest("marquee-set");if(o){if(o.getAttribute("thumbnail-index")==="img:all")l=!0;else if(o&&o.getAttribute("disable-zoom")==="true")return;n=Array.from(o.querySelectorAll('media-item:not([disable-zoom="true"]):not([href]), a[rel="quick-view"], media-item[rel="quick-view"], media-item[force-quick-view="true"]'))}else{i?n=Array.from(i.querySelector("bodycopy")?.querySelectorAll('media-item:not([disable-zoom="true"]):not([href]), a[rel="quick-view"], media-item[rel="quick-view"], media-item[force-quick-view="true"]')):n=Array.from(document.querySelectorAll('bodycopy media-item:not([disable-zoom="true"]):not([href]), bodycopy a[rel="quick-view"], bodycopy media-item[rel="quick-view"], bodycopy media-item[force-quick-view="true"]'));let d=u&&t.closest('[slot="contents-clone"]');n=n.filter(f=>!Ra(f,g=>!!(g?.tagName?.startsWith("GALLERY-")||g.tagName==="MARQUEE-INNER"&&(g.slot==="contents-clone"&&!d||g.slot==="contents"&&d))))}n=n.filter(d=>{if(d.tagName!=="A")return!0;let f=d.getAttribute("href")||"";return!(f===""||f=="#"||f.indexOf("mailto:")==0||f.indexOf("tel:")==0)});let c=n.indexOf(t);Promise.all(n.map((d,f)=>new Promise(g=>{var v=!1,S=d?.querySelector("figcaption"),E=S?.innerHTML;S&&E!==""&&(v=document.createElement("span"),v.classList.add("caption-background"),v.innerHTML=E);let _=!1,P=!1,A=1,L=1,z=1600,q=1600,H=null,re=null,Q=!1,O="url",ee=null,ue=null;if(d.tagName==="MEDIA-ITEM"&&d.getAttribute("rel")!=="quick-view"){H=d.getAttribute("hash")||"",re=d.getAttribute("src"),ue=d.getAttribute("poster");var J=d?.shadowRoot?.querySelector("video")?.getAttribute("poster");J||(J=d?.shadowRoot?.querySelector('img[part*="poster"]')?.getAttribute("src")),J=J,O=d.getFileType(),Q=H==="placeholder"&&!re;let V=screen.width,K=screen.height,Y=Math.max(Math.ceil(screen.width/d._size.width),Math.ceil(screen.height/d._size.height));if(Q)g({useViewportWidth:!1,useViewportHeight:!1,viewportWidthPercentage:1,viewportHeightPercentage:1,fileType:O,w:d._size.width*Y,h:d._size.height*Y,caption:v,hash:"placeholder",src:null,posterSrc:J,autoplay:!1,usePlaceholder:!0,el:d,model:d.model});else{var G=null,D=()=>{switch(!0){case O==="url":H=null,_=!0,P=!0;break;case O.startsWith("youtube"):case O.startsWith("vimeo"):case O=="video":z=d._size.width*Y,q=d._size.height*Y;break;default:z=d._size.width*Y,q=d._size.height*Y;break}O.startsWith("youtube")||O.startsWith("vimeo")||O=="video"?d.getAttribute("autoplay")?g({useViewportWidth:_,useViewportHeight:P,viewportWidthPercentage:A,viewportHeightPercentage:L,fileType:O,w:z,h:q,caption:v,hash:H,src:re,posterSrc:J,autoplay:d.getAttribute("autoplay")=="true",usePlaceholder:!1,el:d,model:d.model}):g({useViewportWidth:_,useViewportHeight:P,viewportWidthPercentage:A,viewportHeightPercentage:L,fileType:O,poster:d.getAttribute("poster"),w:z,h:q,caption:v,hash:H,src:re,posterSrc:J,autoplay:d.getAttribute("autoplay")=="true",usePlaceholder:!1,el:d,model:d.model}):g({useViewportWidth:_,useViewportHeight:P,viewportWidthPercentage:A,viewportHeightPercentage:L,fileType:O,w:z,h:q,caption:v,hash:H,posterSrc:null,src:re,autoplay:d.getAttribute("autoplay")=="true",usePlaceholder:!1,el:d,model:d.model})};D()}}else if(O=rse(d.getAttribute("href")),O.startsWith("vimeo")||O.startsWith("youtube")){let V="";O.startsWith("vimeo")?V="https://vimeo.com/api/oembed.json?url="+d.getAttribute("href")+"&width=640":V="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+d.getAttribute("href"),fetch(V,{mode:"cors"}).then(K=>{K.json().then(Y=>{g({useViewportWidth:!1,useViewportHeight:!1,viewportWidthPercentage:1,viewportHeightPercentage:1,autoplay:d.getAttribute("autoplay")=="true",fileType:O,w:Y.width*20,h:Y.height*20,caption:v,hash:null,src:d.href,usePlaceholder:!1,el:d,model:d.model})})})}else if(O==="url"){let V=Gc()&&d.href.indexOf(".pdf")>-1&&d.href.indexOf("docs.google.com/viewer")==-1,K=V?`https://docs.google.com/viewer?url=${d.href}&embedded=true&chrome=false`:d.href;g({useViewportWidth:!0,useViewportHeight:!0,viewportWidthPercentage:A,viewportHeightPercentage:L,fileType:O,noLazyLoading:!!V,w:1600,h:1e3,caption:v,hash:null,src:K,usePlaceholder:!1,el:d,model:d.model})}else{ee=document.createElement("media-item");let V,K=d.href.toLowerCase();ee.onerror=function(){ee?.remove(),g({useViewportWidth:_,useViewportHeight:P,viewportWidthPercentage:A,viewportHeightPercentage:L,autoplay:d.getAttribute("autoplay")=="true",fileType:O,w:1600,h:1e3,caption:v,hash:null,src:d.href,usePlaceholder:!1,el:d,model:d.model})},ee.onload=Y=>{clearTimeout(V),Y.onload=null;let oe=Y.getFileType();if(d.hasAttribute("width")&&d.hasAttribute("height"))d.getAttribute("width").indexOf("%")>-1&&d.getAttribute("height").indexOf("%")>-1?(_=!0,P=!0,A=parseFloat(d.getAttribute("width"))/100,L=parseFloat(d.getAttribute("height"))/100):(z=parseFloat(d.getAttribute("width")),q=parseFloat(d.getAttribute("height")));else switch(!0){case oe==="url":_=!0,P=!0,Q=!1;break;default:z=Y._size.width,q=Y._size.height;break}Y.remove(),g({useViewportWidth:_,useViewportHeight:P,viewportWidthPercentage:A,viewportHeightPercentage:L,autoplay:d.getAttribute("autoplay")=="true",fileType:oe,w:z*1e3,h:q*1e3,caption:v,hash:null,src:d.href,usePlaceholder:!1,el:d,model:d.model})},ee.setAttribute("style","position: fixed; top: -900px; left: -900px; width: 100px; height: 100px; overflow:hidden;"),ee.setAttribute("force-visible",!0),document.body.appendChild(ee),ee.setAttribute("src",d.href)}}))).then(d=>{Mt.dispatch(actions.updateFrontendState({quickView:{mode:"default",inited:!0,autoScrolling:!1,elementArray:d,activeIndex:c===-1?0:c}}))})};Lz.defaultProps={settings:{show_ui:!0,captions:!1,quickViewAlignment:"center-center",contentAlignVertical:"center",contentAlignHorizontal:"center"}};nse=Ln(Lz)});var Gs,hx,fx,Fz=T(()=>{_e();Ne();Yo();Ua();ai();ht();Ht();Ei();Gs=he(xe(),1);Km();ax();le||(window.logSiteStructure=()=>{let t=window.store.getState(),e=t.structure.bySort,i=Object.keys(e);i.sort((n,o)=>e[n]-e[o]);let r={};i.forEach(n=>{let o=t.pages.byId[n]||t.sets.byId[n];r[n]={title:o.title,sort:e[n],index:t.structure.indexById[n],page_count:o.page_count}}),console.table(r)});hx=class extends se{constructor(e){super(e),this.state={},this.isMac=!1,le||(Promise.resolve().then(()=>(og(),px)).then(({openQuickViewFromElement:i})=>{this.setState({openQuickViewFromElement:i})}),this.isMac=jc())}handleGlobalClick=e=>{let i=e.target,r=i;if(i.shadowRoot?i=e.composedPath().find(o=>o.tagName==="A")||i:i.closest("a")&&(i=i.closest("a")),Ui.handleGlobalClick(i,r),!e.defaultPrevented&&i&&(i.nodeName==="A"||i.nodeName==="a")&&i.getAttribute("href")&&i.getAttribute("href")!==""){let o=i.getAttribute("rel");if(this.props.adminMode){e.preventDefault();return}let l=i.getAttribute("href")||"",u=i.getAttribute("target"),c;switch(o){case"history":e.preventDefault();let d=this.props.store.getState(),f=Qe.getContentByPurl(store.getState(),l.replace(/\//,""));if(f?.overlay){Ui.toggleOverlay(f.id);return}c=i.getAttribute("data-tags");let g=!1;if(c?.length>0)l=c;else{let _=Qe.getHomepagePurl(d);l.toLowerCase()===_&&!d.sets.byId.root.stack&&(l="/")}l.startsWith("/")||(l="/"+l),l==="/contact-form"&&(g=!0),r.nodeName==="MEDIA-ITEM"&&r?.classList.contains("thumbnail")&&l.replace(/\//,"")===this.props.activePURL&&window.scrollTo(0,0),this.isMac&&e.metaKey===!0||!this.isMac&&e.ctrlKey===!0?window.open(l,"_blank"):this.props.history.push(l,{preventScrollReset:g});break;case"prev_page":case"prev-page":e.preventDefault(),this.loadPrevPage();break;case"next_page":case"next-page":e.preventDefault(),this.loadNextPage();break;case"home_page":case"home-page":e.preventDefault(),this.props.history.push("/");break;case"random_page":case"random-page":e.preventDefault(),this.loadRandomPage();break;case"top":e.preventDefault();let v=i.closest?.(".pinned.allow-scroll .page-content, .overlay-content.overlay-allow-scroll");v?this.scrollToTop(v):(this.scrollToTop(document.scrollingElement),Gs.default.each(document.querySelectorAll(".pinned.allow-scroll .page-content, .overlay-content.overlay-allow-scroll"),this.scrollToTop));break;case"quick-view":case"quick_view":e.preventDefault(),this.state.openQuickViewFromElement?.(e.target);break;case"close-overlay":case"close_overlay":e.preventDefault();let S=r.closest("[page-url]")?.id;Ui.getOverlay(S)?Ui.closeOverlay(S):this.props.history.push("/");break;case"add-to-cart":case"add_to_cart":e.preventDefault(),this.props.addCommerceProductToCart((i.getAttribute("data-product")||e.target.getAttribute("data-product"))??null,(i.getAttribute("data-variant")||e.target.getAttribute("data-variant"))??null,{callback:()=>{this.props.history.push("/cart",{preventScrollReset:!0})},failureCallback:_=>{this.props.updateFrontendState({alertModal:{header:_,type:"notice"}})}});break;case"show_cart":case"show-cart":e.preventDefault(),ig().then(_=>{this.props.history.push("/cart",{preventScrollReset:!0})}).catch(_=>{console.warn(_)});break;case"filter-index":case"filter_index":e.preventDefault(),c=i.getAttribute("data-tags");let E=i.getAttribute("data-set");var n=new CustomEvent("filter-thumbnail-index",{bubbles:!0,cancelable:!0,composed:!0,detail:{filter:c?"tag:"+c:E?"set:"+E:"all"}});i.dispatchEvent(n);break;default:this.props.isInHomepagePreview?(e.preventDefault(),parent.window.open(l)):u!=="_blank"&&(e.preventDefault(),parent.location.href=l);break}}};openAdmin=()=>{if(window.parent!==window)return;let e=this.props.activePID;if(this.props.store.getState().sets.byId[e]!==void 0){let i=document.querySelector(".content .pages .page");i?e=i.id:e=""}e?window.location.href="/edit/"+e:window.location.href="/edit"};showCargoSiteIndicator=()=>{let e=new Image;e.onload=function(){let i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.zIndex="2147483647",i.style.position="fixed",i.style.background='url("https://static.cargo.site/assets/C3/c3label.svg") center center / contain no-repeat',i.style.backgroundSize="60%",i.style.transform="rotate(-30deg)",setTimeout(function(){i.style.transition="opacity 500ms",setTimeout(function(){i.parentNode.removeChild(i)},700),setTimeout(function(){i.style.opacity="0"})},1e3),document.body.appendChild(i)},e.src="https://static.cargo.site/assets/C3/c3label.svg"};handleGlobalKeyDown=e=>{if(e.target.nodeName==="INPUT"||e.target.nodeName==="TEXTAREA")return;let i=this.props.store.getState();if(!this.props.adminMode){if(this.isMac&&e.metaKey&&e.which===191||!this.isMac&&e.ctrlKey&&e.which===191){this.showCargoSiteIndicator();return}if(this.isMac&&e.metaKey&&e.which===27||!this.isMac&&e.ctrlKey&&e.which===27){this.openAdmin();return}if(e.shiftKey&&(e.keyCode===65||e.keyCode===69)&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&(this.props.inAdminFrame?this.props.editorRole!=="Viewer"&&(this.props.activePID&&this.props.activePID.length>0&&this.props.activePID!=="root"?parent.navigateAdmin("/"+this.props.activePID):parent.navigateAdmin("/")):this.openAdmin()),e.keyCode===82&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey?(e.preventDefault(),this.loadRandomPage()):e.keyCode===37&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey?(e.preventDefault(),this.loadPrevPage()):e.keyCode===39&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey&&(e.preventDefault(),this.loadNextPage()),e.which===27&&!e.metaKey&&!e.ctrlKey){if(i.frontendState?.contactForm?.inited){this.props.updateFrontendState({contactForm:{transition:!0,inited:!0}}),setTimeout(()=>{this.props.updateFrontendState({contactForm:{transition:!1,inited:!1}})},300);return}if(i.frontendState.quickView.inited||i.frontendState.cartOpen||i.frontendState?.contactForm?.inited||i.frontendState.alertModal)return;if(!this.props.inAdminFrame){let r=Ui.getAllOverlays();r.length>0?Ui.closeOverlay(r[r.length-1].pid):this.props.history.location.pathname!=="/"&&this.props.history.push("/")}}}};componentDidMount(){le||(window.addEventListener("click",this.handleGlobalClick),window.addEventListener("keydown",this.handleGlobalKeyDown))}componentWillUnmount(){le||(window.removeEventListener("click",this.handleGlobalClick),window.removeEventListener("keydown",this.handleGlobalKeyDown))}render(){return this.props.children}loadRandomPage=()=>{let e=this.props.store.getState(),i=[];if(Gs.default.each(e.sets.byId,o=>{if(o.stack&&o.id!=="root")o.page_count>0&&e.frontendState.activePID!==o.id&&i.push([o.id]);else{let l=Array.apply(null,{length:o.page_count}).map(Number.call,c=>[o.id,c]),u=Qe.getSetContentsByIndex(e,o.id);i=i.concat(l.filter(([c,d])=>{let f=u[d];return!(f&&(f.id===e.frontendState.activePID||f.id===e.site.homepage_id||f.id===e.site.mobile_homepage_id||f.page_type==="set"||f.pin===!0))}))}}),i.length===0)return;let r=i[Math.floor(Math.random()*i.length)],n=e.sets.byId[r[0]];r.length===2?this.props.fetchContent(n.id,{indexes:[r[1]],idType:"pid"}).then(o=>{o.data&&o.data[0]?this.props.history.push("/"+o.data[0].purl):this.loadRandomPage()}):r.length===1&&this.props.history.push("/"+n.purl)};doScroll=(e,i,r,n)=>{let l=i-r,u=l/(12*12);l!==0&&(n+=(n+u)/l);let c=Math.abs(r-i)<1,d=c?r+l:r+l*(-Math.pow(2,-20*n/1)+1);n>0&&e.scrollTo(0,d),c||requestAnimationFrame(()=>{this.doScroll(e,i,d,n)})};scrollToTop=e=>{let i=e.scrollTop,r=Math.round(i*.2);i>e.clientHeight?this.doScroll(e,0,r,0):this.doScroll(e,0,i,0)};loadNextPage=()=>{let e=this.props.store.getState(),i=e.pages.byId[this.props.activePID]||e.sets.byId[this.props.activePID];if(!i||i.page_type==="set"&&!i.stack)return;let r=e.structure.indexById[i.id];if(r===null){e.adminState?.crdt.initializedAdminList?this.loadNearestContentNeighbor(i,"next"):this.props.fetchContent(i.id,{next:!0}).then(c=>{c?.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)});return}let n=e.sets.byId[Gs.default.findKey(e.structure.byParent,c=>c.includes(i.id))];if(!n||n.page_count===void 0||n.page_count<=1)return;let o=Gs.default.without(e.structure.byParent[n.id]?.map(c=>e.pages.byId[c]||e.sets.byId[c]).map(function(c){if(c&&(c.page_type==="set"&&(c.stack===!1||c.page_count===0)||c.id===e.site.homepage_id||c.id===e.site.mobile_homepage_id))return e.structure.indexById[c.id]}),void 0);if(o.length===n.page_count)return;for(let c=0;c<n.page_count&&(r++,r>=n.page_count&&(r=0),!!o.includes(r));c++);let u=(e.structure.byParent[n.id]?.reduce((c,d)=>(e.structure.indexById[d]!==null&&(c[e.structure.indexById[d]]=d),c),{}))[r];u?this.props.history.push("/"+(e.pages.byId[u]||e.sets.byId[u])?.purl):this.props.fetchContent(n.id,{indexes:[r],idType:"pid"}).then(c=>{this.loadNextPage()})};loadPrevPage=()=>{let e=this.props.store.getState(),i=e.pages.byId[this.props.activePID]||e.sets.byId[this.props.activePID];if(!i||i.page_type==="set"&&!i.stack)return;let r=e.structure.indexById[i.id];if(r===null){e.adminState?.crdt.initializedAdminList?this.loadNearestContentNeighbor(i,"prev"):this.props.fetchContent(i.id,{prev:!0}).then(c=>{c.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)});return}let n=e.sets.byId[Gs.default.findKey(e.structure.byParent,c=>c.includes(i.id))];if(!n||n.page_count===void 0||n.page_count<=1)return;let o=Gs.default.without(e.structure.byParent[n.id]?.map(c=>e.pages.byId[c]||e.sets.byId[c]).map(function(c){if(c&&(c.page_type==="set"&&(c.stack===!1||c.page_count===0)||c.id===e.site.homepage_id||c.id===e.site.mobile_homepage_id))return e.structure.indexById[c.id]}),void 0);if(o.length===n.page_count)return;for(let c=0;c<=n.page_count&&(r--,r<0&&(r=n.page_count-1),!!o.includes(r));c++);let u=(e.structure.byParent[n.id]?.reduce((c,d)=>(c[e.structure.indexById[d]]=d,c),{}))[r];u?this.props.history.push("/"+(e.pages.byId[u]||e.sets.byId[u])?.purl):this.props.fetchContent(n.id,{indexes:[r],idType:"pid"}).then(c=>{this.loadPrevPage()})};loadNearestContentNeighbor=(e,i)=>{let r=this.props.store.getState();if(i!=="next"&&i!=="prev")throw'direction needs to be "next" or "prev"';let n=Object.keys(r.structure.bySort).sort((c,d)=>r.structure.bySort[c]-r.structure.bySort[d]);i==="prev"&&n.reverse();let o=n.indexOf(e.id);if(o===-1)throw"Unable to locate current id in sort list";let l;for(let c=1;c<n.length+1;c++){let d=n[(o+c)%n.length],f=r.structure.byParent.hasOwnProperty(d);if(f&&r.sets.byId[d]?.stack===!0){l=d;break}else if(!f&&r.structure.indexById[d]!==null&&d!==r.site.homepage_id&&d!==r.site.mobile_homepage_id){l=d;break}}let u=r.pages.byId[l]||r.sets.byId[l];u?this.props.history.push("/"+u.purl):this.props.fetchContent(l,{idType:"pid"}).then(c=>{c.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)})}},fx=yn(Ln(De((t,e)=>{let i;return t.auth.data?.id&&(i=Gs.default.find(t.site?.editors,r=>r.id===parseInt(t.auth.data.id))?.role),{editorRole:i,adminMode:t.frontendState.adminMode,inAdminFrame:t.frontendState.inAdminFrame,activePID:t.frontendState.activePID,isInHomepagePreview:t.auth.previewing,activePURL:(t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID])?.purl}},t=>Ct({updateFrontendState:Fe.updateFrontendState,fetchContent:Fe.fetchContent,addCommerceProductToCart:Fe.addCommerceProductToCart},t))(hx)))});var zz=T(()=>{});var qz=T(()=>{We();zz();ne()});var Hz=T(()=>{});var Uz,sg,Bz=T(()=>{We();Uz=he(xe());qz();gf();Hz();ne();sg=class extends se{constructor(e){super(e),this.ref=Be.createRef(),this.maxValue=100,this.speed=9,this.currValue=null,this.rafID=null,this.state={value:0,complete:!1,successLoading:!1}}componentDidMount=()=>{this.ref.current.addEventListener("mousestart",this.unlockStartHandler,!1)};unlockStartHandler=()=>{window.cancelAnimationFrame(this.rafID),this.currValue=this.state.value};unlockEndHandler=()=>{this.currValue=+this.state.value,this.currValue>=this.maxValue?this.successHandler():(this.rafID=window.requestAnimationFrame(this.animateHandler),this.setState({complete:!1}))};animateHandler=()=>{this.setState({value:this.currValue}),this.currValue>-1&&window.requestAnimationFrame(this.animateHandler),this.currValue=this.currValue-this.speed,setTimeout(Uz.default.bind(function(){this.setState({value:0})},this),150)};successHandler=()=>{this.setState({successLoading:!0,complete:!1}),setTimeout(()=>{this.props.onConfirm()},800)};onRangeChange(e){e.persist(),this.setState({value:e.currentTarget.value}),this.setState({complete:e.currentTarget.value>=100})}componentWillUnmount=()=>{this.ref?.current?.removeEventListener("mousestart",this.unlockStartHandler,!1)};render(){return m("div",{className:`slide-confirm-slider${this.state.successLoading?" success-loading":""}`,ref:this.ref,onMouseDown:e=>{this.unlockStartHandler(e)},onMouseUp:e=>{this.unlockEndHandler(e)},onTouchEnd:e=>{this.unlockEndHandler(e)},children:[m("span",{className:"slide-message",children:this.props.slideMessage}),m("div",{className:"slide-progress",style:{left:"calc("+this.state.value+"% - calc("+this.state.value/100+" * 40px))"}}),m("input",{type:"range",min:"0",value:this.state.value,className:`pullee${this.state.complete?" complete":""}`,onChange:e=>{this.onRangeChange(e)}}),this.state.successLoading?m(Zo,{className:"accent"}):null]})}}});var Wz=T(()=>{});var mx,gx,ag,Vz=T(()=>{We();mx=he(xe());Bz();gf();Wz();ne();gx=Be.createContext({header:null,message:null,slideMessage:null,placeholder:null,existingValue:null,type:"alert",children:null,customElement:null,preventCancel:!1,preventClose:!1,cancelButton:!1,overCart:!1,checkBoxConfirmation:null,checkBoxConfirmationValue:!1,confirmButton:"Yes",denyButton:"No",maxInputLength:null,validateInput:()=>!0,onOpen:()=>null,onConfirm:()=>null,onCancel:()=>null,onDeny:()=>null,onClose:()=>null}),ag=class extends se{constructor(e){super(e),this.modalDefaults={header:null,htmlHeader:null,message:null,slideMessage:null,htmlMessage:null,type:"alert",children:null,customElement:null,preventCancel:!1,preventClose:!1,confirmButton:"OK",denyButton:"Cancel",cancelButton:!1,overCart:!1,checkBoxConfirmation:null,checkBoxConfirmationValue:!1,frontendData:null,maxInputLength:null,closeManually:!1,validateInput:()=>!0,onOpen:()=>null,onConfirm:()=>null,onCancel:()=>null,onDeny:()=>null,onClose:()=>null},this.state={modalOpen:!1,animate:!1,processConfirm:!1,...this.modalDefaults},this.overlayRef=Be.createRef(),this.inputRef=Be.createRef(),this.transitioning=!1,this.ignoreUnmount=!1,this.internalHotKeySet=!1,this.alterEventExecution=!0,this.clickStartedInModal=!1}openModal=e=>{if(this.transitioning||this.state.modalOpen||this.state.animate)return;document.activeElement?.blur(),this.transitioning=!0;let i=mx.default.defaults(e,this.modalDefaults),r=new Event("openAlertModal");window.dispatchEvent(r),i.onOpen&&i.onOpen(),window.__c3_admin__===!0&&(window.store.getState().adminState.pauseGlobalEventExecution?this.alterEventExecution=!1:window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}})),i.manuallyBindHotkeys&&(this.internalHotKeySet=!0,window.addEventListener("keydown",this.onKeyDown,!0)),window.addEventListener("keydown",this.onTabKeyDown),i.ignoreUnmount&&(this.ignoreUnmount=!0),this.originalStyle=window.getComputedStyle(document.body).overflow,document.body.style.overflow="hidden",window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!1,...i},()=>{window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!0},()=>{setTimeout(()=>{this.transitioning=!1},280)})})})}),i.frontendData&&i.frontendData.contentWindow.getSelection().removeAllRanges(),window.focus()};dispatchCloseEvents=()=>{let e=new Event("closeAlertModal");window.dispatchEvent(e),window.__c3_admin__===!0&&this.alterEventExecution&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}})};unbindInternalHotkeys=()=>{this.internalHotKeySet&&(this.internalHotKeySet=!1,window.removeEventListener("keydown",this.onKeyDown,!0)),window.removeEventListener("keydown",this.onTabKeyDown)};closeModal=e=>{if(!this.state.modalOpen)return;let i=mx.default.defaults(e,this.modalDefaults);this.transitioning=!0,this.dispatchCloseEvents(),this.unbindInternalHotkeys(),document.body.style.overflow=this.originalStyle,window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!1},()=>{setTimeout(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!1,animate:!1},()=>{this.state.onClose&&(this.state.onClose(),this.setState({modalOpen:!1,animate:!1,processConfirm:!1,existingValue:null,...this.modalDefaults},()=>{this.transitioning=!1}))})},280)})})};validateInput=()=>{};confirmModal=e=>{if(this.state.closeManually){this.setState({processConfirm:!0}),this.state.onConfirm();return}if(this.state.type==="dialog"&&this.inputRef.current){if(this.state.onConfirm){let i=this.inputRef.current.value;this.setState({existingValue:i},()=>{this.state.onConfirm(i)})}}else{let i={};i.checkBoxConfirmationValue=this.state.checkBoxConfirmationValue??null,this.state.onConfirm(i)}this.closeModal()};onKeyDown=e=>{e?.key==="Enter"&&this.state.type!=="slide-confirm"&&this.confirmModal(e),e?.key==="Escape"&&(e.preventDefault(),e.stopImmediatePropagation(),this.cancelModal(e))};denyModal=()=>{if(!this.state.processConfirm){if(this.state.onDeny){let e={};e.checkBoxConfirmationValue=this.state.checkBoxConfirmationValue??null,this.state.onDeny(e)}this.closeModal()}};cancelModal=e=>{this.state.preventCancel||this.state.preventClose||(this.state.onDeny&&e==="action"&&this.state.onDeny(),e?.type==="keydown"&&(e.preventDefault(),e.stopImmediatePropagation()),this.state.onCancel&&this.state.onCancel(),this.closeModal())};overlayClick=e=>{if(this.clickStartedInModal){this.clickStartedInModal=!1;return}e.target==this.overlayRef.current&&this.cancelModal()};onMouseDown=e=>{this.clickStartedInModal=!0};onTabKeyDown=e=>{let i=e.key==="Tab"||e.keyCode===9;this.state.modalOpen&&i&&e.preventDefault()};componentDidMount(){}componentWillUnmount(){this.unmounted=!0}render(){let e=this.state.confirmButton||"OK",i=this.state.denyButton||"Cancel",r=this.state.header&&m("div",{className:"header",children:this.state.header}),n=this.state.message&&m("div",{className:"sub-message",children:this.state.message}),o=this.state.htmlHeader&&m("div",{className:"header",dangerouslySetInnerHTML:{__html:this.state.htmlHeader}}),l=this.state.htmlMessage&&m("div",{className:"sub-message",dangerouslySetInnerHTML:{__html:this.state.htmlMessage}}),u=this.state.placeholder?this.state.placeholder:"",c=this.state.existingValue?this.state.existingValue:"",d=this.state.confirmButton!==!1&&m("button",{className:"confirm rounded",onClick:A=>this.confirmModal(A,null),children:[e,this.state.processConfirm?m(Zo,{className:"default-border-radius"}):""]}),f=!this.state.preventCancel&&m("button",{className:"deny rounded",onClick:this.denyModal,children:i}),g=this.state.children&&!this.state.wrapperlessChildren?m("div",{className:"form",children:this.state.children}):this.state.wrapperlessChildren?this.state.children:null,v=()=>m(ie,{children:[m("div",{className:"message",children:[r,n]}),m("div",{className:"opt-buttons",children:[f,d]})]}),S=()=>m(ie,{children:[m("div",{className:"message",children:[r,n,o,l]}),m("div",{className:"input"}),m("div",{className:"buttons",children:d})]}),E=()=>m(ie,{children:[m("div",{className:"message",children:[r,o,n,l]}),g,m("div",{className:"input"}),m("div",{className:"buttons",children:[f,d]})]}),_=()=>m(ie,{children:[m("div",{className:"message",children:[r,n]}),m("div",{className:"input",children:this.state.maxInputLength?m("input",{type:"text",maxLength:this.state.maxInputLength,placeholder:u,autoFocus:!0,defaultValue:c,ref:this.inputRef}):m("input",{type:"text",placeholder:u,autoFocus:!0,defaultValue:c,ref:this.inputRef})}),m("div",{className:"buttons",children:[m("button",{className:"deny rounded",onClick:this.denyModal,children:"Cancel"}),m("button",{className:"confirm rounded",onClick:A=>this.confirmModal(A,null),children:"OK"})]})]}),P=()=>m(ie,{children:[m("div",{className:"message",children:[r,n]}),this.state.checkBoxConfirmation?m("div",{className:"footer",children:m("label",{onClick:A=>{A.preventDefault(),this.setState({checkBoxConfirmationValue:!this.state.checkBoxConfirmationValue})},className:"checkbox",htmlFor:"alert_checkbox_confirmation",children:[this.state.checkBoxConfirmation,m("input",{readOnly:!0,name:"alert_checkbox_confirmation",id:"alert_checkbox_confirmation",type:"checkbox",checked:this.state.checkBoxConfirmationValue?"checked":""})]})}):null,m("div",{className:"buttons",children:[this.state.cancelButton?m("button",{className:"deny rounded",onClick:this.cancelModal,children:"Cancel"}):null,m("button",{className:"deny rounded",onClick:this.denyModal,children:this.state.denyButton}),m("button",{className:"confirm rounded",onClick:A=>this.confirmModal(A,null),children:this.state.confirmButton})]})]});return m(gx.Provider,{value:{openModal:this.openModal,closeModal:this.closeModal},children:[this.state.modalOpen?m(ie,{children:[this.state.HotKeyProxy?m(ie,{children:[this.state.type!=="slide-confirm"&&this.state.HotKeyProxy("enter","all",this.confirmModal),this.state.HotKeyProxy("escape","all",this.cancelModal)]}):null,m("div",{className:`alert-window${this.state.animate?" active":""}${this.state.preventCancel||this.state.preventClose?" no-exit":""}${this.state.overCart?" over-cart":""}`,onClick:this.overlayClick,ref:this.overlayRef,children:this.state.customElement?this.state.customElement:m("div",{onMouseDown:this.onMouseDown,className:`alert-modal${" "+this.state.type}${this.state.className?" "+this.state.className:""}`,children:[this.state.type==="alert"&&m(v,{}),this.state.type==="notice"&&m(S,{}),this.state.type==="confirm"&&m(E,{}),this.state.type==="dialog"&&m(_,{}),this.state.type==="publish"&&m(P,{}),this.state.type==="custom"&&m(ie,{children:[m("div",{className:"message",children:[r,n]}),g]}),this.state.type==="slide-confirm"&&m(ie,{children:[m("div",{className:"message",children:[r,n,o,l,g]}),m("div",{className:"buttons",children:[m("br",{}),m("br",{}),m("button",{className:"deny",onClick:this.denyModal,children:"Cancel"}),m(sg,{onConfirm:A=>this.confirmModal(A,null),slideMessage:this.state.slideMessage??"Slide to delete"})]})]})]})})]}):null,this.props.children]})}}});function sse(t,e){return{alertModal:t.frontendState.alertModal,adminMode:t.frontendState.adminMode}}function ase(t){return Ct({updateFrontendState:Fe.updateFrontendState},t)}var ZTe,ose,lse,$z,jz=T(()=>{_e();ht();ai();Ht();ZTe=he(xe(),1);Vz();ne();ose=({alertModal:t,adminMode:e,...i})=>m(ag,{children:m(gx.Consumer,{children:r=>{t&&!e&&r.openModal({...t,manuallyBindHotkeys:!0,onConfirm:n=>{i.onConfirm&&i.onConfirm(),i.updateFrontendState({alertModal:!1})},onClose:n=>{i.onClose&&i.onclose(),i.updateFrontendState({alertModal:!1})},onCancel:n=>{i.onCancel&&i.onCancel(),i.updateFrontendState({alertModal:!1})}})}})});lse=De(sse,ase)(ose),$z=lse});var lg,vx=T(()=>{lg=(t,e=window)=>new Promise((i,r)=>{var n=e.document.getElementsByTagName("head")[0],o=e.document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=t,o.media="all",o.onload=i,o.onError=r,n.appendChild(o)})});var Gz,Kz,Yz=T(()=>{vx();Gz="https://api.cargo.site/v1/fonts/css?family=",Kz=(t,e)=>new Promise((i,r)=>{if(!e||e.length===0)return i();let n=e.join("%7C").replace(/[\. -]+/g,"");if(n+="&c=3",t.context==="server"){fetch(Gz+n).then(async l=>{let u=await l.text();i(u)}).catch(r);return}let o=e.map(l=>{let u=t.context.document.createElement("span");return u.style=`display:block;position:absolute;top:-9999px;left:-9999px;
			font-size:300px;width:auto;height:auto;line-height:normal;margin:0;
			padding:0;font-variant:normal;white-space:nowrap;font-family:${l};`,u.textContent="BESbswy",u});o.forEach(l=>t.context.document.body.appendChild(l)),lg(Gz+n,t.context).then(l=>{t.context.document.fonts.ready.then(()=>{o.forEach(u=>u.remove()),i()})}).catch(r)})});var use,cse,Xz,Zz=T(()=>{vx();use="https://fonts.googleapis.com/css?family=",cse=["100","100italic","200","200italic","300","300italic","400","400italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"],Xz=(t,e)=>new Promise((i,r)=>{if(!e||e.length===0)return i();if(t.context==="server")return r("Google fonts should only be loaded by the client");let n=e.map(l=>l.indexOf(":")===-1?l+":"+cse.join(","):l).join("%7C").replace(/ /g,"+"),o=e.map(l=>{let u=t.context.document.createElement("span");return u.style=`display:block;position:absolute;top:-9999px;left:-9999px;
			font-size:300px;width:auto;height:auto;line-height:normal;margin:0;
			padding:0;font-variant:normal;white-space:nowrap;font-family:${l};`,u.textContent="BESbswy",u});o.forEach(l=>t.context.document.body.appendChild(l)),lg(use+n,t.context).then(l=>{t.context.document.fonts.ready.then(()=>{o.forEach(u=>u.remove()),i()})}).catch(r)})});var yx,Jz=T(()=>{Yz();Zz();yx=t=>{if(!t)throw"No config given";t.context=t.context||window,t.active=t.active||function(){};let e=[];return e.push(Xz(t,t.families?.reduce?.((i,r)=>(r.provider==="google"&&i.push(r.family),i),[]))),e.push(Kz(t,t.families?.reduce?.((i,r)=>(r.provider==="cargo"&&i.push(r.family),i),[]))),Promise.all(e).catch(i=>{console.log("something went wrong while loading the site's fonts...",i)}).finally(i=>{t.active?.(i)})}});var Qz,bx,wx,Yd,xx=T(()=>{_e();We();ht();Qz=he(xe(),1);Ne();Ei();Sr();ne();bx=new Set,wx=class extends se{constructor(e){super(e),this.state={src:null,lastSrc:null,loaded:!1},this.uid=Qz.default.uniqueId(),this.decodingQueue=[]}blankURI="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";render(e,i){let{model:r,adminMode:n,isZoomable:o,alt:l,hash:u,src:c,decoding:d}=e,f=e.width??r?.width??1600,g=e.height??r?.height??1600,v=this.state.src||this.blankURI;return bx.has(this.state.src)||(v=this.state.lastSrc||this.blankURI),v=this.props.isLazyLoadable?v:this.blankURI,Pt("img",{onClick:this.props.onClick,crossorigin:"",alt:l||null,src:v,width:f,height:g,className:`media${o?" image-zoom":""} `+(this.props.className||""),ref:this.props.mediaRef,onLoad:this.onLoad,decoding:"sync",part:this.props.part||void 0})}onLoad=e=>{this.props.mediaRef.current&&(this.props.mediaRef.current.src===this.blankURI||this.props.mediaRef.current.src===""||(this.setState({loaded:!0}),this.props.onLoad&&(this.props.model?this.props.onLoad({width:this.props.model.width,height:this.props.model.width}):this.props.onLoad({width:this.props.mediaRef.current.naturalWidth,height:this.props.mediaRef.current.naturalHeight}))))};componentDidUpdate(e,i){let r=this.props["dynamic-src"]||this.props.src||void 0,n=e["dynamic-src"]||e.src||void 0;(this.props.renderWidth!==e.renderWidth||this.props.renderHeight!==e.renderHeight||e.isLazyLoadable!==this.props.isLazyLoadable||r!==n||this.props.model&&this.props.model?.hash!==e.model?.hash)&&this.onSizeChange()}componentDidMount(){this.firstLoad=!0,this.onSizeChange()}decodeImage=(e,i)=>{if(this.decodingQueue.indexOf(e)>-1)return;this.decodingQueue.push(e);let r=document.createElement("img"),n=()=>{r.onload=null,bx.has(r.src)?this.forceUpdate():(bx.add(r.src),this.state.src==r.src&&this.forceUpdate())};this.firstLoad?(r.decoding="async",r.onload=n,r.onerror=this.props.onError,r.src=e):(r.decoding="async",r.src=e,r.onerror=this.props.onError,r.decode().then(o=>{n()}).catch(o=>{n()}))};onSizeChange=()=>{let e=this.props["dynamic-src"]||this.props.src||void 0,i=this.props.renderWidth,r=this.props.renderHeight,n=i<500?50:250,o=Math.ceil(i/n)*n,l=r<500?50:250,u=Math.ceil(r/l)*l;this.props.model&&o!==0&&u!==0&&(e=Jl({w:o,h:u},this.props.model).url),this.props.isLazyLoadable&&e&&this.decodeImage(e),this.setState(c=>e==c.src||!e?null:(this.firstLoad=!1,{lastSrc:c.src,src:e}))}},Yd=fn((t,e)=>{let i=t.model?.is_video&&t.model?.poster?t.model.poster:t.model;return i&&i.loading&&(i=null),m(wx,{...t,model:i,mediaRef:e})})});var e5,tl,Xd,dse,il,Zd,pse,Sx,t5,i5=T(()=>{_e();We();e5=he(xe(),1);ne();tl=new Set,Xd="unloaded",dse=function(){if(window?.YT&&(Xd="loaded"),Xd==="unloaded"){let i=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{Xd="loaded",tl.forEach(r=>{r.initYoutubePlayer()}),tl.clear(),typeof i=="function"&&i()},Xd="loading";var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}Xd==="loaded"&&(tl.forEach(i=>{i.initYoutubePlayer()}),tl.clear())},il=new Set,Zd="unloaded",pse=function(){if(window?.Vimeo&&(Zd="loaded"),Zd==="unloaded"){Zd="loading";var t=document.createElement("script");t.onload=()=>{Zd="loaded",il.forEach(i=>{i.initVimeoPlayer()}),il.clear()},t.src="https://player.vimeo.com/api/player.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}Zd==="loaded"&&(il.forEach(i=>{i.initVimeoPlayer()}),il.clear())},Sx=class extends se{constructor(e){super(e),this.state={apiPlayer:null,nativeSize:{width:1,height:1},wasInLazyLoadRange:e.isLazyLoadable},this.uid=e5.default.uniqueId(),this.html="",this.divRef=ge()}render(e){let{src:i,width:r,height:n,model:o}=e;return m(ie,{children:[e.adminMode?m("div",{style:{position:"absolute",zIndex:9999,pointerEvents:"auto",background:"transparent",inset:0}}):null,m("div",{onPointerEnter:this.props.onPointerEnter,onPointerOut:this.props.onPointerOut,dangerouslySetInnerHTML:{__html:this.html},style:{position:"absolute",inset:0},ref:this.divRef})]})}setIframeStyles=()=>{if(!this.divRef.current)return;let e=this.divRef.current.querySelector("iframe");if(e||this.props.fileType.startsWith("youtube:")||this.props.fileType.startsWith("vimeo:")&&this.state.apiPlayer&&(e=this.state.apiPlayer.element),!e)return;let i="margin: auto; position: absolute;";i+="width: 100%; height: 100%; inset: 0;",e.setAttribute("part","iframe iframe"+this.props.statusPartAppendix),e.setAttribute("style",i)};loadAPIPlayer=()=>{il.delete(this),tl.delete(this),this.props.fileType.startsWith("youtube:")?(tl.add(this),dse()):this.props.fileType.startsWith("vimeo:")&&(il.add(this),pse())};initVimeoPlayer=()=>{for(;this.divRef.current?.childNodes?.[0];)this.divRef.current.childNodes[0].remove();let e=this.props.fileType.replace("vimeo:","").split("/"),i=new window.Vimeo.Player(this.divRef.current,{id:e.length>1&&this.props.src?this.props.src:e[0],h:e[1]||void 0,width:this.props.width||640,height:this.props.height||480,loop:this.props.loop,autopause:!1,autoplay:!1,volume:this.props.autoplay||this.props.muted?0:1,background:!this.props["browser-default"],pip:!1,speed:!0,portrait:!1,muted:this.props.autoplay||this.props.muted});this.setState({apiPlayer:i},()=>{Promise.all([i.getVideoWidth(),i.getVideoHeight()]).then(r=>{i.on("loaded",()=>{i.element?.setAttribute("id","vimeo-player-"+this.uid),i.element?.setAttribute("frameborder","0"),this.setIframeStyles()}),i.on("play",()=>{this.props.onPlay?.()}),i.on("pause",()=>{this.props.onPause?.()}),i.on("ended",()=>{this.props.onEnded?.()}),i.pause().then(i.setCurrentTime(0));var n=r[0],o=r[1];this.setState({nativeSize:{width:n,height:o}}),this.props.onNewPlayer&&this.props.onNewPlayer({play:()=>new Promise((l,u)=>{this.props.muted||this.props.autoplay?this.state.apiPlayer.setVolume(0).then(()=>{this.state.apiPlayer.play().then(()=>{l(!0)}).catch(c=>{u(c)})}).catch(c=>{u(c)}):this.state.apiPlayer.play().then(c=>{l(!0)}).catch(c=>{u(c)})}),pause:()=>new Promise((l,u)=>{this.state.apiPlayer.pause().then(c=>{l(!0)})}),setCurrentTime:l=>new Promise((u,c)=>{this.state.apiPlayer.setCurrentTime(l).then(d=>{u(!0)})}),getCurrentTime:()=>new Promise((l,u)=>{this.state.apiPlayer.getCurrentTime().then(c=>{l(c)})}),setVolume:l=>new Promise((u,c)=>{this.state.apiPlayer.setVolume(l).then(d=>{u(!0)})}),getVolume:()=>new Promise((l,u)=>{this.state.apiPlayer.getVolume().then(c=>{l(c)})}),getDuration:()=>new Promise((l,u)=>{this.state.apiPlayer.getDuration().then(c=>{l(!0)})}),stop:()=>new Promise((l,u)=>{Promise.all([i.pause(),i.setCurrentTime(0)]).then(()=>{l(!0)})}),setPlaybackRate:l=>new Promise((u,c)=>{this.state.apiPlayer.setPlaybackRate(l).then(d=>{u(!0)})}),size:{width:n,height:o}})})})};initYoutubePlayer=()=>{for(;this.divRef.current?.childNodes?.[0];)this.divRef.current.childNodes[0].remove();let e=document.createElement("iframe"),i=this.props.fileType.replace("youtube:","");e.setAttribute("style","display:none;"),this.divRef.current.appendChild(e);let r=this.props.src.indexOf("?")>-1?this.props.src.split("?")[0]:this.props.src,n=this.props.fileType?.replace("youtube:","")||null,o="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+r;n&&n.length>0&&(o="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v="+n),fetch(o,{mode:"cors"}).then(l=>{l.json().then(u=>{let c=u.width*2||640,d=u.height*2||480;e.setAttribute("id","youtube-player"),e.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),e.setAttribute("allowfullscreen",""),e.setAttribute("frameborder","0");let f={autoplay:0,width:c,height:d,modestbranding:1,loop:this.props.loop,host:"https://www.youtube.com",controls:this.props["browser-default"]?void 0:0,disablekb:this.props["browser-default"]?1:0,enablejsapi:1,origin:window.location.origin,rel:0},g=Object.entries(f).filter(([S,E])=>E!==void 0).map(([S,E])=>S+"="+E).join("&");e.setAttribute("src","https://www.youtube.com/embed/"+i+"?"+g),this.setState({nativeSize:{width:c,height:d}}),this.setIframeStyles();let v=new YT.Player(e,{videoId:i,playerVars:f,events:{onReady:()=>{this.setState({nativeSize:{width:c,height:d}}),this.props.onNewPlayer&&this.props.onNewPlayer({play:()=>new Promise((S,E)=>{this.state.apiPlayer.playVideo(),S(!0)}),pause:()=>new Promise((S,E)=>{this.state.apiPlayer.pauseVideo(),S(!0)}),stop:()=>new Promise((S,E)=>{this.state.apiPlayer.stopVideo(),esolve(!0)}),size:{width:c,height:d},setCurrentTime:S=>new Promise((E,_)=>{switch(this.state.apiPlayer.getPlayerState()){case 0:case 1:case 2:this.state.apiPlayer.seekTo(S,!1)}E(!0)}),getCurrentTime:()=>new Promise((S,E)=>{S(this.state.apiPlayer.getCurrentTime())}),setVolume:S=>new Promise((E,_)=>{this.state.apiPlayer.setVolume(S*100),E(!0)}),getVolume:S=>new Promise((E,_)=>{E(this.state.apiPlayer.getVolume()/100)}),getDuration:()=>new Promise((S,E)=>{S(this.state.apiPlayer.getDuration())}),setPlaybackRate:S=>new Promise((E,_)=>{this.state.apiPlayer.setPlaybackRate(S),E(!0)})})},onStateChange:S=>{switch(S.data){case YT.PlayerState.ENDED:this.props.onEnded?.();break;case YT.PlayerState.PAUSED:this.props.onPause?.();break;case YT.PlayerState.PLAYING:this.props.onPlay?.();break}}}});this.setState({apiPlayer:v})})})};componentDidUpdate(e,i){if((this.props.width!==e.width||this.props.height!==e.height||this.state.nativeSize!==i.nativeSize||this.props["image-fit"]!==e["image-fit"])&&this.setIframeStyles(),this.props.statusPartAppendix!==e.statusPartAppendix){let r=this.divRef.current?.querySelector("iframe");r&&r.setAttribute("part","iframe iframe"+this.props.statusPartAppendix)}e.isLazyLoadable!==this.props.isLazyLoadable&&this.props.isLazyLoadable&&this.setState({wasInLazyLoadRange:!0}),(e.src!==this.props.src||e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"]||e.loop!==this.props.loop||e.muted!==this.props.muted||i.wasInLazyLoadRange!==this.state.wasInLazyLoadRange)&&(e.src&&this.props.onNewPlayer(null),clearTimeout(this.initPlayerTimeout),this.initPlayerTimeout=setTimeout(()=>{e.fileType.startsWith("youtube")&&this.state.apiPlayer&&(this.state.apiPlayer?.destroy(),this.loadAPIPlayer()),e.fileType.startsWith("vimeo")&&this.state.apiPlayer&&(this.state.apiPlayer.off("loaded"),this.state.apiPlayer.off("play"),this.state.apiPlayer.off("pause"),this.state.apiPlayer?.destroy().then(()=>{this.loadAPIPlayer()}))},0))}componentDidMount(){this.loadAPIPlayer()}componentWillUnmount(){clearTimeout(this.initPlayerTimeout),tl.delete(this),il.delete(this)}},t5=fn((t,e)=>m(Sx,{...t,mediaRef:e}))});var r5,_x,n5,o5=T(()=>{_e();ht();xx();i5();Sr();Ne();We();r5=he(xe(),1);ne();_x=class extends se{constructor(e){super(e),this.nullPlayer={play:()=>new Promise((i,r)=>{r("null player play")}),pause:()=>new Promise((i,r)=>{r("null player pause")}),stop:()=>new Promise((i,r)=>{r("null player stop")}),getDuration:()=>new Promise((i,r)=>{r("null player getDuration")}),getCurrentTime:()=>new Promise((i,r)=>{r("null player getCurrentTime")}),setCurrentTime:()=>new Promise((i,r)=>{r("null player setCurrentTime")}),getVolume:()=>new Promise((i,r)=>{r("null player getVolume")}),setVolume:()=>new Promise((i,r)=>{r("null player setVolume")}),setPlaybackRate:()=>new Promise((i,r)=>{r("null player setPlaybackRate")}),size:{width:0,height:0}},this.state={playing:!1,paused:!0,stopped:!0,hasPlayedThrough:!1,interacted:!1,hasAttention:!1,videoLoaded:!1,posterLoaded:!1,activePlayer:this.nullPlayer},this.posterRef=ge(),this.videoRef=ge(),this.videoPlayerRef=ge()}blankURI="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";render(e){let{model:i,posterModel:r,adminMode:n,isZoomable:o,alt:l,hash:u,src:c,fileType:d,decoding:f,"browser-default":g,"dynamic-src":v}=e,S=e.width??i?.width??1600,E=e.height??i?.height??1600,_=v||c||"",P=null;i&&(i.is_url?P=i.url:P="https://freight.cargo.site/i/"+i.hash+"/"+i.name);let A="";i?.loading||!P?A=_||"":A=P||"",d==="video"&&(A=this.props.isLazyLoadable?A:"");let L=null;r&&!r.loading?r.is_video&&r.poster?L=Jl({w:this.props.renderWidth},r.poster).url||"":L=Jl({w:this.props.renderWidth},r).url||"":i&&i.poster&&!i.poster.loading?L=Jl({w:this.props.renderWidth},i.poster).url||"":(this.props["dynamic-poster"]||this.props.poster)&&(L=this.props["dynamic-poster"]||this.props.poster||null,L=L.startsWith("https://")?L:""),L=this.props.isLazyLoadable?L:"";let z=this.state.playing?"-playing":this.state.stopped?"-stopped":this.state.paused?"-paused":"",q=!g;return m("div",{onPointerEnter:this.onPointerEnter,onPointerOut:this.onPointerOut,part:"media video-player"+(z?" video-player"+z:""),ref:this.props.mediaRef,className:`media${o?" image-zoom":""}`,children:m("div",{className:"video-player-crop",children:[q?m(Yd,{ref:this.posterRef,src:L||this.blankURI,isZoomable:o,onLoad:this.onPosterLoad,isLazyLoadable:this.props.isLazyLoadable,renderWidth:this.props.renderWidth,renderHeight:this.props.renderHeight,width:S,height:E,style:{transform:"rotate(1deg)"},part:"poster"+(z?" poster"+z:"")}):null,d==="video"?m("video",{ref:this.videoRef,playsinline:"true",autoplay:this.props.autoplay,loop:this.props.loop,muted:this.props.muted||this.props.autoplay,src:A,controls:g,onLoadedMetadata:this.onVideoLoad,preload:"metadata",part:"video"+(z?" video"+z:""),poster:g?L:null,onPlay:this.onPlay,onPause:this.onPause,onEnded:this.onEnded,width:S,height:E}):m(t5,{...this.props,statusPartAppendix:z,fileType:d,ref:this.videoRef,loop:this.props.loop,width:S,height:E,onPlay:this.onPlay,onPause:this.onPause,onEnded:this.onEnded,onNewPlayer:this.onNewPlayer,src:A})]})})}componentDidMount(){this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime,Object.defineProperty(this.props.baseNode,"playing",{get:()=>this.state.playing,configurable:!0}),Object.defineProperty(this.props.baseNode,"paused",{get:()=>this.state.paused,configurable:!0}),Object.defineProperty(this.props.baseNode,"stopped",{get:()=>this.state.stopped,configurable:!0}),this.autoplayInterval=setInterval(()=>{this.props.autoplay&&!this.state.playing&&this.props.visible&&!this.state.interacted&&(this.props.loop||!this.state.hasPlayedThrough)&&this.play()},1200),this.configurePlayer(),this.props.visible&&this.enteredView()}configurePlayer=()=>{this.props.muted||this.props.autoplay?this.state.activePlayer.setVolume(0).then(()=>{this.props.visible&&this.enteredView()}).catch(e=>{}):this.state.activePlayer.setVolume(1).catch(e=>{}),this.props["playback-rate"]!=1&&this.state.activePlayer.setPlaybackRate(this.props["playback-rate"]).catch(e=>{})};componentDidUpdate(e,i){i.activePlayer!=this.state.activePlayer&&(this.configurePlayer(),this.setState({interacted:!1})),(this.props.visible!=e.visible||i.activePlayer!=this.state.activePlayer)&&(this.props.visible?this.enteredView():this.exitedView()),this.props.poster!==e.poster&&this.resetVideoPlayer(),this.props.isLazyLoadable!==e.isLazyLoadable&&(this.props.isLazyLoadable||(this.videoRef.current?.pause(),this.videoRef.current?.removeAttribute("src"),this.videoRef.current?.load())),this.props.muted!==e.muted&&this.state.activePlayer.setVolume(this.props.muted||this.props.autoplay?0:1),this.props.fileType==="video"&&(i.videoLoaded!==this.state.videoLoaded||i.posterLoaded!==this.state.posterLoaded)&&(this.props.poster&&this.state.posterLoaded&&this.state.videoLoaded?this.initializeVideoElementPlayer():this.state.videoLoaded&&this.initializeVideoElementPlayer()),(e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"])&&(this.setState({interacted:!1}),this.state.activePlayer.setCurrentTime(0),this.props.autoplay?this.play():this.stop())}componentWillUnmount(){clearInterval(this.autoplayInterval),this.pause(),this.exitedView.cancel(),delete this.props.baseNode.playing,delete this.props.baseNode.paused,delete this.props.baseNode.stopped,delete this.props.baseNode.play,delete this.props.baseNode.pause,delete this.props.baseNode.getCurrentTime,delete this.props.baseNode.setCurrentTime}play=()=>{this.state.activePlayer&&this.state.activePlayer.play().then(()=>{this.setState({playing:!0,paused:!1,stopped:!1})}).catch(e=>{this.state.activePlayer.getVolume().then(i=>{i!==0&&this.state.activePlayer.setVolume(0).then(()=>{this.state.activePlayer.play().then(()=>{this.setState({playing:!0,paused:!1,stopped:!1})}).catch(r=>{})}).catch(r=>{})}).catch(i=>{})})};pause=()=>{this.state.activePlayer&&this.state.activePlayer.pause().then(()=>{this.setState({playing:!1,paused:!0})}).catch(e=>{})};stop=()=>{this.state.activePlayer&&(this.pause(),this.state.activePlayer.pause().then(()=>{this.setState({playing:!1,paused:!0,stopped:!0}),this.state.activePlayer.setCurrentTime(0)}).catch(e=>{}))};onPointerEnter=e=>{this.props["play-on"]==="hover"&&(this.props.poster&&this.state.activePlayer.setCurrentTime(0),this.play()),this.setState({hasAttention:!0})};onPointerOut=e=>{this.props["play-on"]==="hover"&&this.pause(),this.setState({hasAttention:!1})};onPosterLoad=()=>{this.setState({posterLoaded:!0})};onVideoLoad=()=>{this.setState({videoLoaded:!0})};onNewPlayer=e=>{if(!e){this.setState({playing:!1,stopped:!0,paused:!0,hasPlayedThrough:!1,activePlayer:this.nullPlayer},()=>{this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime});return}this.setState({playing:!1,stopped:!0,paused:!0,hasPlayedThrough:!1,activePlayer:e},()=>{this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime,this.props.onLoad&&this.props.onLoad({width:e.size.width,height:e.size.height}),this.props.visible&&this.enteredView()})};initializeVideoElementPlayer=()=>{this.videoRef.current.paused&&this.videoRef.current.currentTime!==0&&(this.videoRef.current.currentTime=0),this.onNewPlayer({play:()=>new Promise((e,i)=>{this.videoRef.current.play().then(function(){e(!0)}).catch(function(r){i(r)})}),pause:()=>new Promise((e,i)=>{this.videoRef.current.pause(),e(!0)}),stop:()=>new Promise((e,i)=>{this.videoRef.current.pause(),this.videoRef.current.currentTime=0,e(!0)}),getDuration:()=>new Promise((e,i)=>{e(this.videoRef.current.duration)}),getCurrentTime:()=>new Promise((e,i)=>{e(this.videoRef.current.currentTime)}),setCurrentTime:e=>new Promise((i,r)=>{this.videoRef.current.currentTime===e?i(!0):(this.videoRef.current.currentTime=e,this.videoRef.current.addEventListener("seeked",()=>{i(!0)},{once:!0}))}),getVolume:()=>new Promise((e,i)=>{e(this.videoRef.current.volume)}),setVolume:e=>new Promise((i,r)=>{this.videoRef.current.volume=e,e==0&&(this.videoRef.current.muted=!0),i(!0)}),setPlaybackRate:e=>new Promise((i,r)=>{this.videoRef.current.playbackRate=Math.max(.1,Math.min(2,parseFloat(e))),"preservesPitch"in this.videoRef.current?this.videoRef.current.preservesPitch=!1:"mozPreservesPitch"in this.videoRef.current?this.videoRef.current.mozPreservesPitch=!1:"webkitPreservesPitch"in this.videoRef.current&&(this.videoRef.current.webkitPreservesPitch=!1),i(!0)}),size:{width:this.videoRef.current.videoWidth||320,height:this.videoRef.current.videoHeight||240}})};onPlay=()=>{this.setState(e=>{let i={...e};return e.hasAttention&&(i.interacted=!0),i.playing=!0,i.paused=!1,i.stopped=!1,i})};onPause=()=>{this.setState(e=>{let i={...e};return e.hasAttention&&(i.interacted=!0),i.playing=!1,i.paused=!0,i})};onEnded=()=>{this.setState({hasPlayedThrough:!0})};resetVideoPlayer=()=>{Promise.all([this.state.activePlayer.setCurrentTime(0),this.state.activePlayer.pause()]).then(()=>{this.setState({hasPlayedThrough:!1,paused:!0,stopped:!0},()=>{this.props.poster&&this.videoRef.current&&this.props["browser-default"]&&this.videoRef.current.load()})})};enteredView(){this.exitedView.cancel(),(this.props.autoplay==!0||this.props["play-on"]==="hover"&&this.state.hasAttention)&&!this.state.playing&&this.play()}exitedView=r5.default.debounce(()=>{this.pause(),Promise.all([this.state.activePlayer.pause(),this.state.activePlayer.getCurrentTime(),this.state.activePlayer.getDuration()]).then(([e,i,r])=>{r-i<.1&&!this.props.loop&&this.resetVideoPlayer()})},500)},n5=fn((t,e)=>m(_x,{...t,mediaRef:e}))});var XMe,Ex,s5,a5=T(()=>{_e();ht();Sr();We();XMe=he(xe(),1);ne();Ex=class extends se{constructor(e){super(e)}render(e){let{model:i,src:r,isLazyLoadable:n}=e,o=i?.is_url?i.url:r;return m("iframe",{part:"media iframe",allowfullscreen:!0,mozallowfullscreen:!0,webkitallowfullscreen:!0,frameborder:"0",className:this.props.loaded?"loaded":"",onload:this.onLoad,ref:this.props.mediaRef,src:n?o:""})}onLoad=()=>{this.props.onLoad&&this.props.onLoad()};componentDidMount(){this.props.isLazyLoadable&&this.startGDocsLoadCheck()}componentDidUpdate(e,i){this.props.loaded!==e.loaded&&(clearInterval(this.gDocsTimeoutCheck),this.props.loaded||this.startGDocsLoadCheck()),this.props.isLazyLoadable!==e.isLazyLoadable&&(clearInterval(this.gDocsTimeoutCheck),this.props.isLazyLoadable&&this.startGDocsLoadCheck())}componentWillUnmount(){clearInterval(this.gDocsTimeoutCheck)}startGDocsLoadCheck=()=>{let e=this.props.model?.is_url?this.props.model.url:this.props.src;if(e.indexOf("https://docs.google.com/viewer")==0){let i=2500;this.gDocsTimeoutCheck=setInterval(()=>{this.props.mediaRef.current?.contentDocument?(this.props.mediaRef.current.setAttribute("src",""),this.props.mediaRef.current.setAttribute("src",e)):clearInterval(this.gDocsTimeoutCheck),i=i+500,i>4e3&&(console.warn("Google Docs Viewer failed to load"),clearInterval(this.gDocsTimeoutCheck))},i)}}},s5=fn((t,e)=>m(Ex,{...t,mediaRef:e}))});var Ks,ku,Cx,Px,l5,u5=T(()=>{_e();We();Ft();Ne();zi();go();Ti();Ks=he(xe(),1);ne();ku=new Set,Cx=Ks.default.debounce(()=>{let t=Array.from(ku),e=[],i=t.filter(o=>o.state.selected).length>1,r=0;if(i){let o=t.map(c=>{let d;return c.state.selected?d=c.props.baseNode.getBoundingClientRect():d={top:-9e9},{component:c,rect:d}});e=Ks.default.sortBy(o,(c,d)=>c.rect.top);let l=e.filter(c=>c.component.state.selected),u=l[l.length-1].component.props.baseNode._size;r=l[l.length-1].rect.bottom+-l[0].rect.top+-u.mediaItemSize.padSize+-u.mediaSize.padSize,e=e.map(c=>c.component)}else e=t;let n=!1;e.forEach(o=>{!i||!o.state.selected?o.setState({pointerProxyAttention:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,multiSelectHeight:null}):n?o.setState({partOfMultipleSelection:!0,showMultipleSelectionButton:!1,multiSelectHeight:null}):(o.setState({pointerProxyAttention:!0,partOfMultipleSelection:!0,showMultipleSelectionButton:!0,multiSelectHeight:r},()=>{o.setEditorFrame()}),n=!0)})},100);le||(CargoEditor&&Object.keys(CargoEditor||{}).length>0?CargoEditor.events.on("cursor-activity",Cx):window.addEventListener("CargoEditor-load",function(){CargoEditor.events.on("cursor-activity",Cx)}),document.addEventListener("selectionchange",Cx));Px=class extends se{constructor(e){super(e),this.state={selected:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,overlayPosition:{x:0,y:0},mediaItemEditorInfo:{},resizeCorner:0,pointerAttention:!1,pointerProxyAttention:!1,activeGallery:null,disabledFigureOptions:[],editorFramePosition:{x:0,y:0},editorMediaFramePosition:{x:0,y:0},UIWindow:!1,cursorOrientation:"nwse-resize",isResizing:!1,dragStartPosition:{x:0,y:0},dragDelta:{x:0,y:0},scalingLimit:1e3,resizeDimensions:{scale:"100%",scaleArray:[100,"%"],newWidth:"auto",newHeight:"auto",width:0,height:0,displayScale:null},initialDimensions:{scale:"100%",scaleArray:[100,"%"],newWidth:"auto",newHeight:"auto",width:0,height:0,displayScale:null},handlePos:{x:100,y:100,w:100,h:100},contextPos:{x:100,y:100,w:100,h:100},mediaCornerPositions:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],multiSelectHeight:null},this.renderElement=qe.getPortal(this.props.baseNode,{noPointerEvents:!1,trackResize:!1,extraMargins:!1,component:this}),this.mediaGhostRef=ge(),this.observer=new MutationObserver(this.checkForEmptyCaption)}render(e,i){let{mediaItemEditorInfo:r,overlayPosition:n,resizeCorner:o,pointerAttention:l,pointerProxyAttention:u,disabledFigureOptions:c,editorFramePosition:d,editorMediaFramePosition:f,isResizing:g,dragStartPosition:v,dragDelta:S,scalingLimit:E,resizeDimensions:_,handlePos:P,mediaCornerPositions:A,cursorOrientation:L,partOfMultipleSelection:z,showMultipleSelectionButton:q,UIWindow:H,contextPos:re}=i,{rotation:Q,dimensions:O,mediaDimensions:ee,baseNode:ue,size:J}=e;if(r?.disableAll==!0)return null;let G=_.width*_.overSize/J.mediaSize.width,D=_.height*_.overSize/J.mediaSize.height,V=1/G||1,K=e.scale;g&&(_.displayScale?K=_.displayScale:_.scaleArray[1]=="px"?K=parseFloat(_.scaleArray[0]).toFixed(0)+_.scaleArray[1]+"":K=parseFloat(_.scaleArray[0]).toFixed(1)+_.scaleArray[1]+""),K=K==="100.0%"?"100%":K;let Y=e.rotation+"\xB0",oe=null;(l||u)&&!r?.disableButton&&!H&&!g&&(q&&z?oe=m("button",{"data-editor-overlay":"true",class:"media-options-button multiple",style:{transform:`translate(${Math.floor(re.x*2)/2}px, ${Math.floor(re.y*2)/2}px)`},onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,onMouseUp:this.onOptionsButtonContextMenu,children:"Edit Multiple"}):!q&&!z&&(oe=m("button",{"data-editor-overlay":"true",class:"media-options-button",style:{transform:`translate(${Math.floor(re.x*2)/2}px, ${Math.floor(re.y*2)/2}px)`},onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,children:m("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("circle",{className:"inner-circle",cx:"8.5",cy:"8.65747",r:"7.5"}),m("circle",{className:"outer-circle",cx:"8.5",cy:"8.65747",r:"8"}),m("circle",{className:"dot",cx:"8.49977",cy:"8.65747",r:"1"}),m("circle",{className:"dot",cx:"5.07",cy:"8.65747",r:"1"}),m("circle",{className:"dot",cx:"11.9295",cy:"8.65747",r:"1"})]})})));let $=null;!g&&l&&!r?.disableResize&&!z&&($=m("button",{class:`resize-handle ${L}`,style:{transform:`translate(${Math.floor(P.x*2)/2}px, ${Math.floor(P.y*2)/2}px)`},onMouseDown:this.onResizePointerDown,children:m("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 32 32",style:"enable-background:new 0 0 32 32;",children:[m("polygon",{class:"outline",points:"24,18 28,15 30,14 30,30 14,30 15,28 18,24 8,14 4,17 2,18 2,2 18,2 17,4 14,8 "}),m("polygon",{class:"inner",points:"8,11 4,14 4,4 14,4 11,8 24,21 28,18 28,28 18,28 21,24 "})]})}));let U=r?.additionalUI?.(this,ue)||null;return m(ie,{children:[m("style",{children:`:host {
				${g?"visibility: hidden!important;":""}
			}
			`}),m(qi,{baseNode:ue,onSelectionChange:this.onSelectionChange}),Ke(m("div",{class:"editor-overlay",style:{height:J.mediaItemSize.height+"px",width:J.mediaItemSize.width+"px",display:l||g||u?"block":"none",transform:`translate3d(${n.x}px, ${n.y}px, 1px) rotate(${e.rotation}deg)`},children:[m("div",{class:`figure-outline${this.state.usingLocalScale?" using-local-scale":""}`,style:{width:J.mediaItemSize.width+"px",height:J.mediaItemSize.height+"px",top:d.y+"px",left:d.x+"px",transform:`rotate(${-e.rotation}deg)`},children:[g&&l&&m("div",{className:"tool-tip figure-sizing visible",style:{transform:`translate(${Math.floor(re.x*2)/2}px, ${Math.floor(re.y*2)/2}px)`},children:m("div",{className:"tooltip-content",children:m("span",{children:`${this.props.limitBy}: ${K}`})})}),oe,$,U]}),m("div",{class:"media-ghost-container",style:{display:g?"block":"none",width:_.width+J.mediaSize.padSize+"px",height:_.height+J.mediaSize.padSize+"px",top:o===2||o===3?"0":"auto",right:o===1||o===2?"auto":"0",left:o===1||o===2?"0":"auto",bottom:o===2||o===3?"auto":"0"},children:m("div",{class:"media-ghost",ref:this.mediaGhostRef})})]}),this.renderElement)]},"media-item-editor")}onOptionsButtonContextMenu=e=>{e.metaKey||e.preventDefault()};onOptionsButtonClick=e=>{if(this.state.mediaItemEditorInfo?.disableAll||e.metaKey||e.target.closest("figcaption"))return;e.preventDefault();let i=[];ku.forEach(o=>{o.state.selected&&i.push(o.props.baseNode)}),i.indexOf(this.props.baseNode)===-1&&(i=[this.props.baseNode]);let r=this.props.baseNode.getBoundingClientRect(),n={x:r.x+10,y:r.y+10,left:r.left+10,right:r.right+10,top:r.top+10,bottom:r.top+10,width:r.width,height:0};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"imageoptions",positionRect:n,closeOnAllClickout:!1,ignoreEditorWindowClickout:!1,props:{selectedMediaItems:i,clickedMediaItem:this.props.baseNode}})};setUIWindow=e=>{this.setState({UIWindow:e})};onSelectionChange=e=>{!e&&this.state.showMultipleSelectionButton&&this.setState({pointerProxyAttention:!1,showMultipleSelectionButton:!1,pointerAttention:!1}),this.setState({selected:e})};checkForEmptyCaption=()=>{let e=this.props.figCaptionElement;if(e){e.classList.contains("caption")||e.classList.add("caption");let i=Array.from(e.childNodes).every(r=>r.nodeType==Node.TEXT_NODE&&r.nodeValue.trim()==="");i&&!e.classList.contains("empty")?e.classList.add("empty"):!i&&e.classList.contains("empty")&&e.classList.remove("empty")}};componentDidMount(){ku.add(this),this.props.baseNode._editorInterface=this,this.setState({usingLocalScale:this.props.baseNode?.hasAttribute("scale")&&this.props.baseNode?.hasAttribute("limit-by")}),this.props.baseNode.addEventListener("contextmenu",this.onOptionsButtonClick),this.checkForEmptyCaption(),this.props.figCaptionElement&&this.observer.observe(this.props.figCaptionElement,{characterData:!0,subtree:!0,childList:!0})}componentWillUnmount(){if(ku.delete(this),this.observer.disconnect(),this.state.UIWindow)if(this.props.baseNode.__willBeReplacedWith){let e=[...this.state.UIWindow.state.selectedMediaItems],i=e.indexOf(this.props.baseNode);i>-1&&(e[i]=this.props.baseNode.__willBeReplacedWith);let r=this.state.UIWindow.state.clickedMediaItem;this.props.baseNode==r&&(r=this.props.baseNode.__willBeReplacedWith),this.state.UIWindow.setState({selectedMediaItems:e,clickedMediaItem:r},()=>{this.state.UIWindow?.getSettingsFromNodes()})}else this.state.UIWindow?.onMutate();delete this.props.baseNode._editorInterface,qe.removePortal(this.props.baseNode,this.renderElement),this.props.baseNode.removeEventListener("contextmenu",this.onOptionsButtonClick)}updatePosition=e=>{(this.state.pointerAttention||this.state.pointerProxyAttention)&&(e.width==0||e.height==0||this.setEditorFrame())};onScroll=e=>{this.ticking||(this.ticking=!0,requestAnimationFrame(()=>{let i=this.props.scrollContext.getScrollPosition().y,r=i-this.scrollPos;this.scrollPos=i,this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(r),qe.testHover(),this.setEditorFrame(),this.ticking=!1}))};componentDidUpdate(e,i){this.props.figCaptionElement!==e.figCaptionElement&&(this.observer.disconnect(),this.props.figCaptionElement&&(this.checkForEmptyCaption(),this.observer.observe(this.props.figCaptionElement,{characterData:!0,subtree:!0,childList:!0}))),(!this.props.height||!this.props.width)&&(!this.props.model?.width||!this.props.model?.height)&&this.props.nativeMediaDimensions.width&&this.props.nativeMediaDimensions.height&&(this.props.nativeMediaDimensions.width!==e.nativeMediaDimensions.width||this.props.nativeMediaDimensions.height!==e.nativeMediaDimensions.height||this.props.height!==e.height||this.props.width!==e.width)&&CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("width",this.props.nativeMediaDimensions.width),this.props.baseNode.setAttribute("height",this.props.nativeMediaDimensions.height)},{preventDraft:!0}),(this.props.src!==e.src||this.props.hash!==e.hash)&&CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.removeAttribute("width"),this.props.baseNode.removeAttribute("height"),this.props.baseNode.removeAttribute("poster")},{preventDraft:!0}),(this.state.UIWindow!==i.UIWindow||this.state.pointerAttention!==i.pointerAttention||this.state.pointerProxyAttention!==i.pointerProxyAttention||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&(this.state.UIWindow||this.state.pointerProxyAttention||this.state.pointerAttention)?(this.scrollPos=this.props.scrollContext.getScrollPosition().y,this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll)),(this.props.size.mediaSize.width!==e.size.mediaSize.width||this.props.size.mediaSize.height!==e.size.mediaSize.height||this.props.size.mediaItemSize.width!==e.size.mediaItemSize.width||this.props.size.mediaItemSize.height!==e.size.mediaItemSize.height||this.props.size.mediaSize.padSize!==e.size.mediaSize.padSize||this.props.size.mediaItemSize.padSize!==e.size.mediaItemSize.padSize||this.props.rotation!==e.rotation)&&(this.state.pointerAttention||this.state.pointerProxyAttention)&&(this.setState({usingLocalScale:this.props.baseNode?.hasAttribute("scale")&&this.props.baseNode?.hasAttribute("limit-by")}),qe.testHover(),this.setEditorFrame())}pointerIn=()=>{let e=this.props.baseNode?.parentNode?._mediaItemEditorInfo||{},i=this.props.baseNode.parentElement?.nodeName=="GALLERY-SLIDESHOW"?this.props.baseNode.parentElement:null;if(i&&!i.thumbnailsVisible&&!this.props.baseNode.assignedSlot?.parentElement?.hasAttribute?.("data-active-slide")){this.pointerOut();return}this.setState({mediaItemEditorInfo:e}),this.state.selected&&ku.forEach(r=>{r.state.showMultipleSelectionButton&&r.setState({pointerProxyAttention:!0})}),this.setState({pointerAttention:!0},()=>{this.setEditorFrame()})};pointerOut=()=>{this.state.selected&&ku.forEach(e=>{e.state.pointerProxyAttention&&e.setState({pointerProxyAttention:!1})}),this.setState({pointerAttention:!1})};onResizePointerDown=e=>{if(e.button==2)return;let i=this.props.mediaElement,r=this.mediaGhostRef.current;if(!i||!r||this.props.size.width?.indexOf?.("%")>-1)return;for(;r.lastChild;)r.lastChild.remove();if(i.tagName=="IMG"){let o=i.cloneNode(!0);o.setAttribute("decoding","sync"),r.appendChild(o)}else if(i.tagName==="VIDEO"&&i.hasAttribute("poster")){let o=document.createElement("img");o.setAttribute("decoding","sync"),o.setAttribute("src",i.getAttribute("poster")),r.appendChild(o)}else i.classList.contains("placeholder")?r.appendChild(i.cloneNode(!0)):r.appendChild(document.createElement("div"));let n=window.getComputedStyle(i);r.firstChild.style.border=n.getPropertyValue("border"),r.firstChild.style.borderRadius=n.getPropertyValue("border-radius"),r.firstChild.style.padding=n.getPropertyValue("padding"),r.firstChild.style.outline=n.getPropertyValue("outline"),this.startDrag(e)};startDrag=e=>{let{handlePos:i,mediaCornerPositions:r,cursorOrientation:n}=this.state,{baseNode:o,rotation:l,limitBy:u,size:c}=this.props,d=this.props.baseNode.closest("bodycopy, column-unit, gallery-freeform"),f=0;if(d){let P=window.getComputedStyle(d);f=d.offsetWidth+-parseFloat(P.getPropertyValue("padding-left"))+-parseFloat(P.getPropertyValue("padding-right"))}else f=window.innerWidth;f=f+-c.mediaSize.padSize+-c.mediaItemSize.padSize;let g={x:e.clientX,y:e.clientY};e.preventDefault();let v=this.props.scale??100,S=Kt(v,u==="width"?"%":"rem");u!=="width"&&u!=="height"&&(S[1]=""),S[0]=parseFloat(S[0]),(S[0]===""||S[1].indexOf("calc(")>-1||S[1].indexOf("var(")>-1)&&(u==="width"?(S[0]=c.mediaSize.width/f*100,S[1]="%"):(S[0]=c.mediaSize.height/window.innerHeight*100,S[1]="vh"));let E=Math.min(S[0].toString().indexOf(".")>-1?S[0].toString().split(".").pop().length:0,3);S[0]=parseFloat(parseFloat(S[0]).toFixed(E));let _={width:c.mediaSize.width,height:c.mediaSize.height,atLimit:Math.abs(c.mediaSize.width-f)<2,scaleArray:S,scale:v,overSize:1,displayScale:null};this.state.mediaItemEditorInfo.beforeScaleChange&&(_=this.state.mediaItemEditorInfo.beforeScaleChange(this.props.baseNode,_)),this.setState({dragStartPosition:g,scalingLimit:f,dragDelta:{x:0,y:0},resizeDimensions:_,initialDimensions:{..._,scaleArray:[..._.scaleArray]},isResizing:!0},()=>{qe.lock(),document.body.style.setProperty("cursor",n,"important"),document.body.classList.add("dragging-figure-in-editor"),be.adminWindow.addEventListener("mouseup",this.onPointerUp),be.adminWindow.addEventListener("pointermove",this.onDrag),window.addEventListener("pointermove",this.onDrag),window.addEventListener("mouseup",this.onPointerUp)})};onDrag=e=>{e.preventDefault();let{dragStartPosition:i,mediaCornerPositions:r,scalingLimit:n,resizeCorner:o,handlePos:l,handleTrack:u,initialDimensions:c}=this.state,{rotation:d,limitBy:f,baseNode:g,size:v}=this.props,{resizeDimensions:S}=this.state,{scale:E,scaleArray:_}=c,P={x:e.clientX-i.x,y:e.clientY+-i.y},A=d*(Math.PI/180)||0,L=r[o],z=r[(o+1)%4],q=r[(o+2)%4],H=r[(o+3)%4],re=this.getDistance(H,l),Q=this.getDistance(q,l),O=parseInt(v.width),ee=parseInt(v.height),ue=45,J=this.getAngle(H,L),G=this.getAngle(L,z),D={x:l.x+P.x,y:l.y+P.y},V=[{x:l.x+Math.cos(G)*10,y:u.y+u.h+-ue+Math.sin(G+Math.PI)*10},{x:l.x,y:u.y+u.h+-ue}],K=[{x:l.x+Math.cos(J)*10,y:u.y+u.h+-ue+Math.sin(J+Math.PI)*10},{x:l.x,y:u.y+u.h+-ue}],Y=0,oe=0,$=0,U,X;if(o%2==0){let Oe=this.getIntersection(V,[z,q]),ze=this.getIntersection(K,[q,H]),at=this.getDistance(q,l),$e=this.getDistance(q,D),ot=this.getAngle(q,D),Ee=this.getDistance(q,l);$=$e/Ee;let ct=this.getDistance(q,Oe);oe=$e/ct;let ut=Math.abs(Math.sin(ot+A));oe*=ut;let je=this.getDistance(ze,q);Y=$e/je;let Ge=Math.cos(ot+A);Y*=Ge}else{let Oe=this.getIntersection(V,[H,L]),ze=this.getIntersection(K,[L,z]),at=this.getDistance(q,l),$e=this.getDistance(q,D),ot=this.getAngle(q,D),Ee=this.getDistance(q,l);$=$e/Ee;let ct=this.getDistance(q,Oe);oe=$e/ct;let ut=Math.abs(Math.sin(ot+A));oe*=ut;let je=this.getDistance(ze,q);Y=$e/je;let Ge=Math.cos(ot+A);Y*=Ge}let te=Math.max(Y,$,oe),ce=Math.min(v.mediaSize.width/O,v.mediaSize.height/ee),fe=O/ee;U=O*ce*te,X=ee*ce*te;let me=!1,Ae=1;if(U>n){let Oe=n/U;me=!0,U=n,X=X*Oe}let Ie=e.altKey||e.metaKey;f==="width"?([_,U]=this.scaleDimension(_,U+v.mediaSize.padSize+v.mediaItemSize.padSize,v.mediaSize.width+v.mediaSize.padSize+v.mediaItemSize.padSize,Ie),U=U+-v.mediaSize.padSize+-v.mediaItemSize.padSize,X=U/fe):([_,X]=this.scaleDimension(_,X+v.mediaSize.padSize+v.mediaItemSize.padSize,v.mediaSize.height+v.mediaSize.padSize+v.mediaItemSize.padSize,Ie),U=fe*(X+-v.mediaSize.padSize+-v.mediaItemSize.padSize),X=U/fe),_[0]=parseFloat(_[0]),S={scale:_.join(""),scaleArray:_,limitBy:f,width:U,height:X,atLimit:me,overSize:Ae,displayScale:null},_[1]=="%"&&f=="width"&&parseFloat(_[0])>=100&&(S.scale="100%",S.scaleArray=[100,"%"]),this.state.mediaItemEditorInfo.whileScaleChange&&(S=this.state.mediaItemEditorInfo.whileScaleChange(this.props.baseNode,{...S})),this.setState({resizeDimensions:S})};scaleDimension=(e,i,r,n)=>{let o=e[0]*(i/r),l=o;n?e[1]=="%"||e[1]=="vh"||e[1]=="vw"||e[1]=="vmax"||e[1]=="vmin"?o=Math.round(o/.5)*.5:o=Math.round(o/10)*10:e[1]=="px"?o=Math.round(o):o=Math.round(o*10)/10,o=Math.max(1,o);let u=o/l||0;return[[o,e[1]],i*u]};onPointerUp=e=>{let{resizeDimensions:i,scalingLimit:r}=this.state;e.preventDefault(),CargoEditor.mutationManager.execute(()=>{this.state.mediaItemEditorInfo.afterScaleChange?this.state.mediaItemEditorInfo.afterScaleChange(this.props.baseNode,i):this.props.baseNode.setAttribute("scale",i.scale),this.props.baseNode.flushMutationQueue()}),qe.unlock(),this.setState({isResizing:!1},()=>{document.body.style.cursor="",be.adminWindow.removeEventListener("mouseup",this.onPointerUp),be.adminWindow.removeEventListener("pointermove",this.onDrag),document.body.classList.remove("dragging-figure-in-editor"),window.removeEventListener("pointermove",this.onDrag),window.removeEventListener("mouseup",this.onPointerUp)})};setEditorFrame=()=>{let{figureElement:e,mediaElement:i,sizingFrameElement:r,baseNode:n,rotation:o,size:l}=this.props;if(!e||!i||!i.parentElement||l.mediaItemSize.width==0||l.mediaItemSize.height==0||!r||!this.state.pointerAttention&&!this.state.pointerProxyAttention)return;let u=o*(Math.PI/180)||0,c=n.getBoundingClientRect(),d={w:l.mediaItemSize.width*Math.cos(u)-l.mediaItemSize.height*Math.sin(u),h:l.mediaItemSize.width*Math.sin(u)+l.mediaItemSize.height*Math.cos(u)},v={x:c.left+(c.width-d.w)*.5+-0,y:c.top+(c.height-d.h)*.5+-0},S=r.getBoundingClientRect(),E=45,_=45,P=this.state.showMultipleSelectionButton&&this.state.multiSelectHeight,A={x:e.offsetLeft,y:e.offsetTop,w:e.offsetWidth,h:e.offsetHeight};P&&(A.h=this.state.multiSelectHeight);let L=i.offsetLeft,z=i.offsetTop,q=i;for(;q&&q.parentNode&&q.parentNode!==n.shadowRoot&&q.parentNode!==e&&q.parentNode!==n;)L=L+q.offsetLeft,z=z+q.offsetTop,q=q.offsetParent;let H={x:L||0,y:z||0},re=[{x:H.x,y:H.y},{x:H.x+l.mediaSize.width+l.mediaSize.padSize,y:H.y},{x:H.x+l.mediaSize.width+l.mediaSize.padSize,y:H.y+l.mediaSize.height+l.mediaSize.padSize},{x:H.x,y:H.y+l.mediaSize.height+l.mediaSize.padSize}],Q=[];if(P)Q=re,Q[2].y=H.y+this.state.multiSelectHeight,Q[3].y=H.y+this.state.multiSelectHeight;else{let Ee={x:A.w*.5,y:A.h*.5};Q=re.map(ct=>{let ut={x:ct.x-Ee.x,y:ct.y-Ee.y},je={x:ut.x*Math.cos(u)-ut.y*Math.sin(u),y:ut.x*Math.sin(u)+ut.y*Math.cos(u)};return{x:je.x+Ee.x,y:je.y+Ee.y}})}if(Ks.default.isEqual(Q))return;let O,ee,ue,J;O=Ks.default.minBy(Q,Ee=>Ee.y);let G=Q.indexOf(O);ee=Q[(G+1)%4],ue=Q[(G+2)%4],J=Q[(G+3)%4];let D={x:0,y:0,w:E,h:_},V={x:0,y:0},K={x:O.x,y:O.y},Y={w:ee.x-J.x,h:ue.y-O.y,x:J.x,y:O.y},oe=[{x:Y.x+Y.w*.5,y:Y.y+Y.h*.5},{x:Y.x+Y.w,y:Y.y+Y.h}],$=this.getIntersection(oe,[ee,ue]),U=this.getIntersection(oe,[J,ue]),X=!1,te=Ks.default.minBy([U,$],Ee=>Ee.y<oe[0].y?9e9:Ee.y);if(te==U)D.x=ue.x,D.y=ue.y;else{let Ee=this.getDistance(ee,te);this.getDistance(ue,te)<Ee?(D.x=ue.x,D.y=ue.y):(D.x=ee.x,D.y=ee.y,X=!0)}let ce,fe=0,me=0;if(X){let Ee=this.getAngle(ee,O),ct=Math.PI-(Math.abs(Ee)+Math.PI*.5),ut=_*Math.cos(ct),je=-Math.cos(ct+Math.PI*.5)*ut,Ge=-Math.sin(ct+Math.PI*.5)*ut;K={x:J.x+-je,y:J.y+-Ge+_},D.x=D.x+je+-E,ce=D.y+Ge+_;let jt=[{x:O.x-E,y:ce},{x:O.x-E,y:ce-10}],Bt=[{x:O.x,y:ce},{x:O.x,y:ce-10}],_t=[this.getIntersection(jt,[J,O]),this.getIntersection(jt,[O,ee]),this.getIntersection(Bt,[J,O]),this.getIntersection(Bt,[O,ee])],zt=Ks.default.maxBy(_t,Jt=>Jt.y);D.y=zt.y,D.h=ce-D.y;let st=Math.max(0,S.bottom+(_+Ge)+-et.data.window.h+-(ue.y-ee.y));me=D.h-_+-st,fe=this.getIntersection([{x:D.x,y:D.y+me},{x:D.x-10,y:D.y+me}],[O,ee]).x-D.x+-E}else{let Ee=this.getAngle(ue,ee),ct=Math.PI-(Math.abs(Ee)+Math.PI*.5),ut=E*Math.cos(ct),je=-Math.cos(ct)*ut,Ge=-Math.sin(ct)*ut;if(ce=D.y+Ge,D.x=D.x+je,D.y=ee.y,D.h=ce-ee.y,K={x:O.x+-je+-E,y:O.y+-Ge},Math.abs(this.getSlope(ee,ue))>1&&S.bottom+Ge>=et.data.window.h){let Bt=S.bottom+-et.data.window.h,_t={x:ue.x,y:ue.y-Bt},zt=this.getIntersection([_t,{x:_t.x+10,y:_t.y}],[ue,ee]);fe=zt.x-(D.x+D.w),me=zt.y-D.y+-_}else{let Bt=[{x:D.x,y:ce},{x:D.x,y:ce-10}],_t=[{x:D.x+D.w,y:ce},{x:D.x+D.w,y:ce-10}],zt=[this.getIntersection(Bt,[J,O]),this.getIntersection(Bt,[O,ee]),this.getIntersection(_t,[J,O]),this.getIntersection(_t,[O,ee])],st=Ks.default.maxBy(zt,Jt=>Jt.y);D.y=st.y,D.h=ce-D.y;let Wi=Math.max(0,S.bottom+-et.data.window.h+Ge);me=D.h-_+-Wi,fe=0}}V.x=D.x+fe,V.y=Math.max(D.y,D.y+me);let Ae=Math.max(0,S.left+S.width+-et.data.window.w);V.x=Math.min(V.x,ee.x-(Ae+E));let Ie=Math.min(0,S.left),Oe=Math.min(0,S.top);K.x=Math.max(K.x,-Ie+J.x),K.y=Math.max(K.y,-Oe+O.y);let ze=this.getIntersection([K,{x:K.x,y:K.y+10}],[J,ue]);K.y=Math.min(K.y,ze.y+-_);let at=(G+2)%4;X&&(at=(at+3)%4);let $e="nwse-resize",ot=this.getAngle(V,Q[(at+2)%4]);Math.abs(Math.PI*.5-ot)<.4?$e="ns-resize":Math.abs(Math.PI-Math.abs(ot))<.4&&($e="ew-resize"),this.setState({mediaCornerPositions:Q,resizeCorner:at,contextPos:K,handlePos:V,cursorOrientation:$e,handleTrack:D,overlayPosition:v,editorMediaFramePosition:{x:H.x,y:H.y},editorFramePosition:{x:0,y:0}})};getAngle=(e,i)=>Math.atan2(-(i.y-e.y),i.x-e.x);getDistance=(e,i)=>Math.sqrt(Math.pow(i.y-e.y,2)+Math.pow(i.x-e.x,2));getSlope=(e,i)=>(i.y-e.y)/(i.x-e.x);getIntersection=(e,i)=>{let r=this.getSlope(...e),n=this.getSlope(...i),o,l;return r==0?(isFinite(n)?o=(n*i[0].x-(i[0].y-e[0].y))/n:o=i[0].x,l=e[0].y):isFinite(r)?(o=(n*i[0].x-r*e[0].x-(i[0].y-e[0].y))/(n-r),l=r*(o-e[0].x)+e[0].y):(o=e[0].x,l=n*(o-i[0].x)+i[0].y),isFinite(o)||(o=null),isFinite(l)||(l=null),{x:o,y:l}}},l5=Px});function hse(t){return Ct({updateFrontendState:actions.updateFrontendState},t)}var c5,Jd,ug,fse,mse,d5=T(()=>{_e();We();ai();ht();c5=he(xe(),1);Ne();_r();Fi();og();Ei();xx();o5();a5();Ji();u5();Ya();ne();_e();le||(Jd=new ResizeObserver(function(t){t.forEach(function(e){if(e.contentRect.width==0&&e.contentRect.height==0&e.contentRect.top==0&&e.contentRect.left==0)return;let i=0,r=0,n=0,o=0,l=0,u=0,c=0,d=0,f=0,g=0,v=e.target.tagName==="DIV";if(e.contentBoxSize&&e.borderBoxSize&&!v)e.borderBoxSize.length?(i=e.borderBoxSize[0].blockSize-e.contentBoxSize[0].blockSize,r=e.borderBoxSize[0].inlineSize-e.contentBoxSize[0].inlineSize):(i=e.borderBoxSize.blockSize-e.contentBoxSize.blockSize,r=e.borderBoxSize.inlineSize-e.contentBoxSize.inlineSize);else{let S=window.getComputedStyle(e.target);n=parseFloat(S.getPropertyValue("padding-left"))||0,o=parseFloat(S.getPropertyValue("padding-right"))||0,l=parseFloat(S.getPropertyValue("border-right-width"))||0,u=parseFloat(S.getPropertyValue("border-left-width"))||0,c=parseFloat(S.getPropertyValue("padding-top"))||0,d=parseFloat(S.getPropertyValue("padding-bottom"))||0,f=parseFloat(S.getPropertyValue("border-bottom-width"))||0,g=parseFloat(S.getPropertyValue("border-top-width"))||0,i=c+d+g+f,r=n+o+l+u}Tt(e.target,"elementResize",{padSize:r,vertPadSize:i,horizPadSize:r,width:e.contentRect.width,height:e.contentRect.height,leftPad:n,rightPad:o,leftBorder:l,rightBorder:u,topPad:c,bottomPad:d,bottomBorder:f,topBorder:g},{bubbles:!1})})}));ug=class extends _i{constructor(e){super(e),this.state={zoomTemporarilyDisabled:!1,scrollTransitionDisabled:!1,slottedMediaNode:null,nativeMediaDimensions:{width:null,height:null},dimensions:{padSize:0,vertPadSize:0,horizPadSize:0,width:0,height:0},mediaDimensions:{padSize:0,vertPadSize:0,horizPadSize:0,width:0,height:0,leftPad:0,rightPad:0,leftBorder:0,rightBorder:0,topPad:0,bottomPad:0,bottomBorder:0,topBorder:0},isVisible:!1,viewportIntersection:{hasLayout:!1,visible:!1,position:"unknown"},isLazyLoadable:!1,loaded:!1},this.uid=c5.default.uniqueId(),this.figureRef=ge(),this.mediaRef=ge(),this.lastMediaRef=ge(),this.figCaptionRef=ge(),this.sizingFrameRef=ge(),Object.defineProperty(this.props.baseNode,"_size",{get:()=>({width:this.props.width??this.props.model?.width??this.state.nativeMediaDimensions.width??1600,height:this.props.height??this.props.model?.height??this.state.nativeMediaDimensions.height??1e3,mediaItemSize:this.state.dimensions,mediaSize:this.state.mediaDimensions}),configurable:!0}),Object.defineProperty(this.props.baseNode,"_nativeMediaDimensions",{get:()=>({width:this.state.nativeMediaDimensions.width??1600,height:this.state.nativeMediaDimensions.height??1600}),configurable:!0}),Object.defineProperty(this.props.baseNode,"_model",{get:()=>this.props.model||null,configurable:!0});let i=this.props.baseNode.onload;Object.defineProperty(this.props.baseNode,"onload",{get:()=>this.onloadCallback,set:n=>{this.onloadCallback=n,this.state.loaded&&n&&this.onLoad()},configurable:!0}),this.props.baseNode.onload=i;let r=this.props.baseNode.onerror;Object.defineProperty(this.props.baseNode,"onerror",{get:()=>this.onErrorCallback,set:n=>{this.onErrorCallback=n},configurable:!0}),this.props.baseNode.onerror=r,this.props.baseNode._setZoomStatus=n=>{this.setState(o=>o.zoomTemporarilyDisabled===n?null:{zoomTemporarilyDisabled:n})},this.props.baseNode._setScrollTransitionStatus=n=>{this.setState(o=>o.scrollTransitionDisabled===n?null:{scrollTransitionDisabled:n})},this.props.baseNode._forceRedraw=n=>{this.setState({forceRedraw:Math.random()})},this.props.baseNode.getFileType=this.getFileType}handleClick=e=>{if(e?.defaultPrevented)return;let i=e.composedPath();if(i.find(d=>d.tagName==="A"))return;let n=this.props.baseNode.shadowRoot.querySelector("a.sizing-frame"),o=!1,l=window.getSelection();if(l&&l.rangeCount>0&&!this.props.adminMode){let d=l.getRangeAt(0);d&&d.commonAncestorContainer&&!d.collapsed&&this.props.baseNode.contains(d.commonAncestorContainer)&&(o=!0)}if(n&&!o&&!this.props.adminMode){n.click();return}let u=this.getFileType(),c=this.isZoomable();if((u==="video"||u.startsWith("vimeo")||u.startsWith("youtube"))&&(!this.props.adminMode&&e.detail==1||e.detail==2)&&!this.props.autoplay&&!c){if(i.some(d=>d.nodeName=="VIDEO"||d.nodeName==="IFRAME")&&this.props["browser-default"])return;e.preventDefault(),this.props.baseNode.playing?this.props.baseNode.pause():this.props.baseNode.play();return}!c||o||!i.find(d=>d&&d.classList?.contains("sizing-frame"))||this.props.adminMode||(e.preventDefault(),dx(this.props.baseNode))};isZoomable=()=>this.props["force-quick-view"]||this.props.imageSettings.image_zoom&&!this.props["disable-zoom"]&&!this.props.href&&!this.state.zoomTemporarilyDisabled;getFileType=()=>{let{model:e,src:i,"dynamic-src":r}=this.props;if(i=r||i,this.props["dynamic-filetype"]!==void 0&&this.props["dynamic-filetype"]!==null)return this.props["dynamic-filetype"];let n="none";if(e)e.is_image?n="image":e.is_video?n="video":e.is_url&&(n="url",e.url_type&&!e.url_id?n=e.url_type:e.url_id&&e.url_type&&(n=e.url_type+":"+e.url_id));else if(i){let f=i.toLowerCase();if(f.endsWith(".mov")||f.endsWith(".mp4")||f.endsWith(".webm"))n="video";else if(f.endsWith(".png")||f.endsWith(".webp")||f.endsWith(".jpg")||f.endsWith(".jpeg")||f.endsWith(".gif")||f.endsWith(".avif")||f.endsWith(".apng")||f.endsWith(".svg"))n="image";else{n="url";var o="",l=/(?:<iframe [^>]*src=")?(?:https?:\/\/(?:[\w]+\.)*vimeo\.com(?:[\/\w:]*(?:\/videos)?)?\/([0-9]+)[^\s]*)"?(?:[^>]*><\/iframe>)?(?:<p>.*<\/p>)?/,d=i.match(l);if(d&&d[0]){let g=d[0].split(/\/|\?h=|&|\?/);for(var u=0;u<g.length;u++)!g[u].includes(":")&&!g[u].includes(".")&&!g[u].includes("vimeo")&&!g[u].includes("=")&&!g[u].includes("video")&&!g[u].includes("showcase")&&!g[u].includes("player")&&g[u].length>3&&(o.length==0?o=g[u]:o+="/"+g[u]);n="vimeo:"+o}var c=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,d=i.match(c);d&&d[7].length==11&&(o=d[7],n="youtube:"+o)}}return n};onCaptionClick=e=>{this.props.adminMode||e.target.closest("a")&&e.stopPropagation()};render(e,i,r){let{dimensions:n,mediaDimensions:o,viewportIntersection:l,loading:u,nativeMediaDimensions:c,scrollTransitionDisabled:d}=i,{rotation:f,drag:g,"force-visible":v,"dynamic-src":S,adminMode:E,imageSettings:_,pageInfo:P,width:A,height:L,baseNode:z,model:q,posterModel:H,href:re,src:Q,hash:O,isMobile:ee}=e,ue=v??this.state.isVisible,J=v??this.state.isLazyLoadable,{uid:G}=this,D=this.props.scale!==void 0?this.props.scale:ee&&_.mobile_image_width_maximize?"100%":_.scale,V=this.props["limit-by"]!==void 0?this.props["limit-by"]:ee&&_.mobile_image_width_maximize?"width":_.limit_by;Q=S||Q;let K=A??q?.width??c.width??1600,Y=L??q?.height??c.height??1e3,oe=Kt(D,V=="height"?"rem":"%"),$=Y/K,X=o.width*$,te=o.horizPadSize+n.horizPadSize,ce=o.vertPadSize+n.vertPadSize,fe=o.width+o.horizPadSize,Ae=(X+o.vertPadSize)/fe,Ie=oe.join(""),Oe,ze=null;isNaN(Ae)&&(Ae=Y/K);let at=K.toString().trim().endsWith("%"),$e=Y.toString().trim().endsWith("%"),ot=Kt(K,"%"),Ee=Kt(Y,"%");if(at&&$e)V==="width"||V=="height"?(Ie=`calc(${ot[0]*.01} * var(--resize-parent-width, 100%) )`,ze=`calc( var(--fit-height) * ${Ee[0]*.01} )`,Oe="var(--custom-fit-height)"):(Ie=`calc(${ot[0]*oe[0]*1e-4} * var(--resize-parent-width, 100%) )`,ze=`calc( var(--fit-height) * ${Ee[0]*oe[0]*1e-4} )`,Oe="var(--custom-fit-height)");else if(V=="height")if($e)ze=`calc( var(--fit-height) * ${Ee[0]*.01} )`,Oe="var(--custom-fit-height)",Ie=`${ot[0]*.01}px`;else{let st="";oe[1]=="%"?st=`( ${oe[0]*.01} * var(--resize-parent-width, 100%) )`:oe[1].indexOf("calc(")>-1?(oe[1]=oe[1].replace(/[\d*\.]+%/g,function(Wi){return`( ${Kt(Wi,"%")[0]*.01} * var(--resize-parent-width, 100%) )`}),st=oe[1].replace("calc(","(")):st=oe.join(""),at?(Ie=`calc( ${ot[0]*.01} * var(--resize-parent-width, 100%) )`,Oe=`calc( ${st} )`):(Ie=`calc( ( ${st} - ${ce}px ) * ( 1 / ${$} ) + ${te}px )`,Oe=Ae*100+"%")}else V==="width"?at?(Ie=`calc( ${ot[0]*.01} * var(--resize-parent-width, 100%) )`,Oe=`${Ee[0]}px`):(oe[1]=="%"?Ie=`calc(${oe[0]*.01} * var(--resize-parent-width, 100%) )`:(oe[1].indexOf("calc(")>-1&&(oe[1]=oe[1].replace(/[\d*\.]+%/g,function(st){return`( ${Kt(st,"%")[0]*.01} * var(--resize-parent-width, 100%) )`})),Ie=oe.join("")),$e?(ze=`calc( var(--fit-height) * ${Ee[0]*.01} )`,Oe="var(--custom-fit-height)"):Oe=Ae*100+"%"):at?(Ie=`calc(${ot[0]*oe[0]*1e-4} * var(--resize-parent-width, 100%) )`,ze=`calc( min( var(--fit-height) * ${oe[0]*.01} , ${Ee[0]*oe[0]*.01}px ) )`,Oe="var(--custom-fit-height)"):$e?(Ie=`calc( min( ${oe[0]*.01} * var(--resize-parent-width, 100%) , ${ot[0]*oe[0]*.01}px ) )`,ze=`calc(  var(--fit-height) * ${oe[0]*Ee[0]*1e-4}  )`,Oe="var(--custom-fit-height)"):(Ie=`calc( ( ( var(--fit-height, 50vh) * ${oe[0]/100} ) - ${te}px ) * ( 1 / ${$} ) + ${te}px )`,Oe=Ae*100+"%");let ct=_?.scroll_animation&&e["disable-scroll-animation"]!==!0&&!d&&this.props.scrollContext.scrollUid!=="default",ut=this.props.uses||"";ut.indexOf("scroll-transition")===-1&&ct&&(ut=ut+" scroll-transition");let je=null,Ge=this.getFileType()||"",jt=this.isZoomable(),Bt=e.autoplay&&e.muted;switch(!0){case(!Bt&&jt&&Ge.startsWith("youtube")&&H&&!e["browser-default"]):case(!Bt&&jt&&Ge.startsWith("vimeo")&&H&&!e["browser-default"]):case(!Bt&&jt&&Ge==="video"&&H&&!e["browser-default"]):case(jt&&Ge==="url"&&H):je=m(Yd,{...e,model:H,isZoomable:jt,ref:this.mediaRef,onLoad:this.onLoad,isLazyLoadable:J,renderWidth:o.width,renderHeight:o.height,part:"media",onError:this.onErrorCallback});break;case Ge=="video":case Ge.startsWith("vimeo:"):case Ge.startsWith("youtube:"):je=m(n5,{...e,baseNode:this.props.baseNode,isZoomable:jt,ref:this.mediaRef,onLoad:this.onLoad,visible:ue,fileType:Ge,isLazyLoadable:J,renderWidth:n.width,renderHeight:n.height,src:Q});break;case Ge=="image":je=m(Yd,{...e,isZoomable:jt,ref:this.mediaRef,onLoad:this.onLoad,isLazyLoadable:J,renderWidth:o.width,renderHeight:o.height,part:"media",onError:this.onErrorCallback});break;case Ge=="url":je=m(s5,{...e,loaded:this.state.loaded,onLoad:this.onLoad,ref:this.mediaRef,isLazyLoadable:J,src:Q});break;default:je=m("div",{ref:this.mediaRef,className:"placeholder",part:"media placeholder",width:"1600",height:"1000",draggable:"true",children:m("svg",{preserveAspectRatio:"none",part:"placeholder-svg",viewBox:"0 0 1600 1600",style:{display:"block",width:"100%",height:"100%"},children:[m("rect",{part:"placeholder-rect"}),m("line",{part:"placeholder-line","vector-effect":"non-scaling-stroke",x1:"0",y1:"0",x2:"1600",y2:"1600",stroke:"rgb(200,200,200)","stroke-width":"1"})]})});break}let _t=m("slot",{onSlotChange:this.onMediaSlotChange,name:"custom-media",children:je},"media-slot-key"),zt=m(ie,{children:[m("style",{id:"media-item",children:`
:host {
	 ${this.state.forceRedraw?`/* ${this.state.forceRedraw} */`:""}
	${!E&&re&&re!==""?"cursor: pointer;":""}
	display: inline-flex;
	vertical-align: bottom;
	flex-direction: column; 
	position: relative;

	width: var(--resize-parent-width, 100%);
	max-width: ${Ie||"100%"};
	${ze?`--custom-fit-height: ${ze};`:""}
	transform-origin: center center;
	margin: 0;
	padding: 0;
	z-index: var(--z-index, initial);    
}
 :host, * {
	box-sizing: border-box;
}
a {
	cursor: inherit;
}

figure {
	flex-direction: column;
	position: relative;
	display: flex;
	width: 100%;
	margin: 0;
	padding: 0;
	z-index: 2;
}

::slotted(figcaption){
	-webkit-user-select: text;	
	user-select: text;
	width: 100%;
}

:host([image-fit="fit"]) {
	--object-fit: contain;
}
:host([image-fit="fill"]) {
	--object-fit: cover;
}
:host([image-fit="stretch"]) {
	--object-fit: fill;
}

[part*="media"],
[part*="video"],
[part*="poster"] {
	object-fit: var(--object-fit, cover);
}

[part*="media"]:-webkit-full-screen,
[part*="media"]:fullscreen,
[part*="video"]:-webkit-full-screen,
[part*="video"]:fullscreen {
	object-fit: contain!important;
}


.sizing-frame {
	display: block;
	width: 100%;
	flex-grow: 1;
	height: 0;
	padding-bottom: var(--frame-padding, ${Oe});
	position: relative;
}

.frame {
	display:contents;
}

/* for images and custom media */
::slotted([slot="custom-media"]),
[part*="media"] {
	object-position: center center;
	display: block;
	margin: 0;
	width: 100%;
	min-width: 100%;
	min-height: 100%;
	height: 100%;
	position: absolute;
	overflow: clip;
	overflow-clip-margin: content-box;
	inset: 0;
}

/*
	for URL fileType and default setup for iframe-videos
*/
iframe {
	opacity: 0;
	pointer-events: ${!E&&!this.props.href&&!jt?"auto":"none"};
}

iframe.loaded {
	opacity: 1;
}

/* enable proper padding cropping for videos, in most scenarios */
.video-player-crop {
	all: inherit;
	filter: unset;
	will-change: unset;
	width: unset;
	height: unset;
	padding: 0;
	border-left-width: ${o.leftPad+o.leftBorder}px;
	border-right-width: ${o.rightPad+o.rightBorder}px;
	border-top-width: ${o.topPad+o.topBorder}px;
	border-bottom-width: ${o.bottomPad+o.bottomBorder}px;
	top: ${-o.topBorder}px;
	left: ${-o.leftBorder}px;
	right: ${-o.rightBorder}px;
	bottom: ${-o.bottomBorder}px;

	min-width: unset;
	min-height: unset;

	margin: auto;
	border-color: transparent;
	background: transparent;
}

/* for video filetype */
[part*="video"], [part*="poster"] {
	object-position: 50% 50%;	
	display: block;
	margin: 0;
	width: 100%;
	height: 100%;
	position: absolute;
	inset: 0;
}

[part*="video"] iframe[part*="iframe"] {
	opacity: 1;
}

[part*="poster"] {
	object-fit: cover;
	z-index: 2;
	opacity: 0;
}
${e["browser-default"]?`[part*="poster-playing"],
[part*="poster-paused"]{
	pointer-events:none;
}
`:""}	
[part*="poster-stopped"]{
	opacity: 1;
}
${u?`[part*="media"] {
	opacity: 0;
}`:""}

${E?`
::slotted(video[slot="custom-media"]),
::slotted(iframe[slot="custom-media"]){
	pointer-events:none;
}

[part*="media"] iframe {
	pointer-events:none!important;
}

`:`
[part*="media"].image-zoom {
	cursor: -webkit-zoom-in;
	cursor: -moz-zoom-in;
	cursor: zoom-in;
}	
`}

${P.isEditing?`
:host, * {
	-webkit-user-select: text;
	user-select: text;	
}
`:""}

				`}),m(xn,{uses:ut,visibility:l,onLazyLoadChange:this.onlazyLoadChange,adminMode:E,customElementMode:!0,baseNode:z,children:m("figure",{draggable:this.props.adminMode?"true":null,part:"figure",ref:this.figureRef,children:[m("div",{part:"frame",className:"frame",children:this.props.href!==void 0?m("a",{ref:this.sizingFrameRef,className:"sizing-frame",part:"link sizing-frame",href:this.props.href,rel:this.props.rel,target:this.props.target,"data-tags":this.props["data-tags"],children:_t}):m("div",{ref:this.sizingFrameRef,className:"sizing-frame",part:"sizing-frame",children:_t})}),m("slot",{name:"caption"})]})},"media-host"),P.isEditing&&E&&Pt(l5,{...this.props,fileType:Ge,limitBy:V,width:A,height:L,rotation:f||0,scale:D,scrollContext:this.props.scrollContext,key:`media-item-editor-${this.uid}`,baseNode:z,nativeMediaDimensions:this.state.nativeMediaDimensions,figCaptionElement:this.figCaptionRef.current,sizingFrameElement:this.sizingFrameRef.current,figureElement:this.figureRef.current,mediaElement:this.mediaRef.current,size:this.props.baseNode._size,uid:this.uid})]},"media-item-fragment");return Ke(zt,z.shadowRoot)}onViewportIntersectionChange=e=>{this.state.viewportIntersection?.position!==e.position?this.setState({isVisible:e.position==="inside",viewportIntersection:e}):(this.state.viewportIntersection.hasLayout!==e.hasLayout||this.state.viewportIntersection.visibility!==e.visibility)&&this.setState({viewportIntersection:e})};onLazyloadIntersectionChange=e=>{let i=e.position==="inside";this.state.isLazyLoadable!==i&&this.setState({isLazyLoadable:i})};onMediaSlotChange=e=>{let i=e.target.assignedNodes();i[0]?(this.setState({nativeMediaDimensions:{width:parseFloat(i[0].getAttribute("width"))||null,height:parseFloat(i[0].getAttribute("height"))||null},slottedMediaNode:i[0]}),this.mediaRef.current=i[0]):this.setState({nativeMediaDimensions:{width:null,height:null},slottedMediaNode:null})};bindMediaListeners=e=>{if(!e)return;let i=parseFloat(e.getAttribute("width"))||null,r=parseFloat(e.getAttribute("height"))||null;i&&r&&this.state.nativeMediaDimensions.width!==i&&this.state.nativeMediaDimensions.height!==r&&this.setState({nativeMediaDimensions:{width:i,height:r}}),Xt(e,"elementResize",this.onMediaResize),Jd.observe(e)};unbindMediaListeners=e=>{e&&(this.setState({nativeMediaDimensions:{width:null,height:null}}),ii(e,"elementResize",this.onMediaResize),Jd.unobserve(e))};componentDidMount(){if(le)return;this.isZoomable()?this.props.baseNode.classList.add("zoomable"):this.props.baseNode.classList.remove("zoomable"),this.props.href!==void 0?this.props.baseNode.classList.add("linked"):this.props.baseNode.classList.remove("linked");let e=this.props["dynamic-src"]||this.props.modelSrc||this.props.src;this.props.hash==="placeholder"&&!e&&!this.props.baseNode.hasAttribute("hash")&&this.onLoad(),Xt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),Xt(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),Xt(this.props.baseNode,"elementResize",this.onResize),this.props.baseNode.addEventListener("click",this.handleClick),this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.bindMediaListeners(this.mediaRef.current),this.lastMediaRef.current=this.mediaRef.current,Jd.observe(this.props.baseNode)}componentWillUnmount(){le||(cancelAnimationFrame(this.itemResizeAfterModelChange),ii(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),ii(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),ii(this.props.baseNode,"elementResize",this.onResize),this.props.baseNode.removeEventListener("dragstart",this.onDragStart),this.props.baseNode.removeEventListener("click",this.handleClick),Jd.unobserve(this.props.baseNode),this.unbindMediaListeners(this.mediaRef.current))}componentDidUpdate(e,i){(this.props.hash!==e.hash||this.props.src!==e.src)&&this.setState({nativeMediaDimensions:{width:null,height:null}});let r=this.getFileType();(r.startsWith("vimeo")||r.startsWith("youtube"))&&(e.src!==this.props.src||e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"]||e.loop!==this.props.loop||e.muted!==this.props.muted)&&this.setState({loaded:!1}),(this.props.imageSettings.image_zoom!==e.imageSettings.image_zoom||this.props["disable-zoom"]!==e["disable-zoom"]||this.state.zoomTemporarilyDisabled!==i.zoomTemporarilyDisabled)&&(this.isZoomable()?this.props.baseNode.classList.add("zoomable"):this.props.baseNode.classList.remove("zoomable")),this.props.href!==e.href&&(this.props.href!==void 0?this.props.baseNode.classList.add("linked"):this.props.baseNode.classList.remove("linked")),this.props.itemLoad!==e.itemLoad&&this.props.itemLoad&&this.state.loaded&&this.onLoad(),this.props.itemResize&&!(this.props.baseNode.slot&&!this.props.baseNode.assignedSlot)&&(this.props.model&&e.model&&e.model.hash!==this.props.model.hash||this.props.width!==e.width||this.props.height!==e.height||this.state.nativeMediaDimensions.width!==i.nativeMediaDimensions.width||this.state.nativeMediaDimensions.height!==i.nativeMediaDimensions.height||this.state.dimensions.width!=i.dimensions.width||this.state.dimensions.height!=i.dimensions.height||this.state.dimensions.padSize!=i.dimensions.padSize||this.state.mediaDimensions.padSize!=i.mediaDimensions.padSize)&&this.props.itemResize(this.props.baseNode._size,this.props.baseNode),e.hash!=="placeholder"&&this.props.hash==="placeholder"&&this.onLoad(),this.lastMediaRef.current!==this.mediaRef.current&&(this.unbindMediaListeners(this.lastMediaRef.current),this.bindMediaListeners(this.mediaRef.current),this.lastMediaRef.current=this.mediaRef.current)}onSetZoomDisabled=e=>{};onResize=e=>{this.setState({dimensions:{...e}})};onMediaResize=e=>{(e.width!==this.state.mediaDimensions.width||e.horizPadSize!==this.state.mediaDimensions.horizPadSize||e.vertPadSize!==this.state.mediaDimensions.vertPadSize||e.height!==this.state.mediaDimensions.height)&&this.setState({mediaDimensions:{...e}})};onDragStart=e=>{typeof this.props.itemDragStart=="function"&&this.props.itemDragStart(e);let i=this.props.baseNode.querySelector("figcaption");this.props.baseNode.contains(e.target)&&(i&&!i.contains(e.target)||!i)&&this.props.adminMode&&this.props.pageInfo.isEditing&&e.dataTransfer.setData("media-drag","true")};onLoad=e=>{this.setState(i=>e&&(e.width!==i.nativeMediaDimensions.width||e.height!==i.nativeMediaDimensions.height)?{nativeMediaDimensions:{...e},loaded:!0}:{loaded:!0},()=>{this.onloadCallback&&this.onloadCallback(this.props.baseNode),this.props.itemLoad&&this.props.itemLoad(this.props.baseNode)})}};ug.defaultProps={scale:void 0,"limit-by":void 0,"force-quick-view":!1,"disable-zoom":!1,"disable-scroll-animation":!1,width:void 0,height:void 0,hash:"placeholder",src:void 0,rotation:0,model:null,"image-fit":"fill","play-on":"click",autoplay:!1,muted:!1,loop:!1,"browser-default":!1,"playback-rate":1};fse=Ut(De((t,e)=>{let i=e["dynamic-hash"]||e.hash||null,r=i?Qe.getMediaByHash(t)[i]:null;e.model&&(r=e.model);let n=e.poster||null,o=null,l;return e.posterModel?o=e.posterModel:n&&!n.includes?.(".")&&(o=Qe.getMediaByHash(t)[n]||null),{posterModel:o,model:r,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,imageSettings:{limit_by:"width",scale:"100%",...t.siteDesign.images}}},hse)(ug)),mse=["itemResize","itemLoad","itemDragStart","model","dynamic-hash","dynamic-filetype","dynamic-src","rotation","limit-by","disable-zoom","disable-scroll-animation","scale","hash","src","force-visible","alt","href","rel","target","tag-text","autoplay","muted","loop","poster","play","browser-default","playback-rate","image-fit","width","height"];ri(fse,"media-item",mse)});var gse,Ou,cg=T(()=>{gse=he(xe(),1),Ou=(t,e,i)=>{let r=window.devicePixelRatio>1,n=i/t-e*((t-1)/t);n=Math.max(n,1);let o=[];n*t+e*(t-1)>i+.001&&(e=Math.floor(i/(t-1)-n));let u=r?Math.round(e*2)/2:Math.round(e);for(let c=0;c<t;c++){let d={left:n*c+e*c,right:n*c+e*c+n};c<t-1?d.right=r?Math.round(d.right*2)/2:Math.round(d.right):d.right=i,c>0&&(d.left=o[c-1].right+u),o.push(d)}return{columnAndGutterMap:o,columnWidth:n,gutterPixelWidth:u,halfPixels:r}}});var RRe,Ix,p5,h5=T(()=>{_e();RRe=he(xe(),1);Ft();Tu();ne();Ix=class extends se{constructor(e){super(e)}render(e,i){let{galleryInstance:r,"vertical-align":n}=e;return m(wo,{...e,disabledFigureOptions:["scale"],gallerySpecificAttributes:this.props.gallerySpecificAttributes,mediaItemEditorInfo:{disableResize:this.props.disableResize,disableButton:!1,afterScaleChange:this.afterScaleChange,beforeScaleChange:this.spanResize,whileScaleChange:this.spanResize},galleryInstance:r,onCleanUp:(o,l,u,c,d,f)=>{u.forEach(g=>{g.getAttribute("grid-vertical-align")===n&&g.removeAttribute("grid-vertical-align"),g.getAttribute("grid-span")===1&&g.removeAttribute("grid-span")}),l.forEach(g=>{g&&(g.classList.remove("last-column"),g.classList.remove("last-row"),g.classList.remove("orphaned-item"))}),this.props.onCleanUp&&this.props.onCleanUp(o,l,u,c,d,f)}})}spanResize=(e,i)=>{let r=this.convertWidthToSpans(i);return{...i,displayScale:r>1?r+" columns":r+" column"}};afterScaleChange=(e,i)=>{let r=this.convertWidthToSpans(i);r===1?e.removeAttribute("grid-span"):e.setAttribute("grid-span",r),this.props.galleryComponent.onItemResize()};convertWidthToSpans=e=>{let{columnAndGutterMap:i}=this.props,r=i.findIndex((n,o)=>{let l=i[o+1]?.left||9e9,u=n.right-n.left;return e.width>=n.left+u*.5&&e.width<=l+u*.5})+1;return Math.max(1,r)}},p5=Ix});var dg,Sn,pg,Ax,hg=T(()=>{_e();We();ht();Us();Mu();Ne();cg();Ws();Fi();Ti();h5();dg=he(xe(),1);Ji();ne();Sn={name:"grid",displayName:"Grid",tagName:"GALLERY-GRID",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"Spans",name:"grid-span",type:"scrubber",value:1,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Vertical Align",name:"grid-vertical-align",type:"radio",value:"inherit",inheritsFrom:"vertical-align",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]}],options:[{labelName:"Columns",name:"columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{vw:30,vh:30,vmax:30,vmin:30,rem:20,em:20,px:300,etc:100},step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Vertical Align",name:"vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Horizontal Align",name:"horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]}],mobileOptions:[{labelName:"Columns",name:"mobile-columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]}]};Sn.mediaItemDefaults=lt(Sn.mediaItemOptions);Sn.defaults=lt(Sn.options);Sn.mobileDefaults=lt(Sn.mobileOptions);pg=class extends se{constructor(e){super(e),this.state={isMobile:et.data.mobile.active,sizeIncrement:0,elWidth:1e3,gutterWidth:0,gutterHeight:0,hasSizes:!1,renderLimit:250},this.uid=dg.default.uniqueId(),this.paginationWatcherRef=ge(),this.paginationObserver=new IntersectionObserver(this.requestPagination,{root:this.props.scrollContext.scrollingElement===window?document:this.props.scrollContext.scrollingElement,rootMargin:screen.height*2+"px",threshold:[0,1]})}requestPagination=async e=>{if(this.isIntersecting=e[0].isIntersecting,!(this.isPaginating||this.state.renderLimit>=this.getMediaItems().length)){for(this.isPaginating=!0;this.isIntersecting;){let i=this.state.renderLimit+100;if(this.setState({renderLimit:i}),i>=this.getMediaItems().length)break;await new Promise(r=>setTimeout(r,250))}this.isPaginating=!1}};getMediaItems(){return Array.from(this.props.baseNode.children).filter(e=>e.nodeName=="MEDIA-ITEM")}render(e,i){let{adminMode:r,baseNode:n,pageInfo:o}=e,{isMobile:l,gutterWidth:u,gutterHeight:c,hasSizes:d}=i,{elWidth:f}=i;d||(f=this.props.baseNode.offsetWidth);let g=this.state.isMobile&&this.props["mobile-vertical-align"]!==void 0?this.props["mobile-vertical-align"]:this.props["vertical-align"];this.props.verticalAlign&&(g=this.props.verticalAlign);let v=this.state.isMobile&&this.props["mobile-columns"]!==void 0?this.props["mobile-columns"]:this.props.columns;v=Math.max(1,parseInt(v))||1;let E=(this.state.isMobile&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter).split(" "),_=(E.length>1,E[0]);_=Kt(_,"rem"),_[1]=="rem"&&l&&(_=["","calc( var(--mobile-padding-offset, 1) * "+_.join("")+" )"]);let P=E.length>1?E[1]:E[0];P=Kt(P,"rem"),P[1]=="rem"&&l&&(P=["","calc( var(--mobile-padding-offset, 1) * "+P.join("")+" )"]);let{columnAndGutterMap:A,columnWidth:L,gutterPixelWidth:z}=Ou(v,u,f),q=this.getMediaItems(),H=[],re=0,Q=0,O=l&&!isNaN(parseInt(this.props["mobile-columns"]))&&parseInt(this.props["mobile-columns"])!==parseInt(this.props.columns);q.forEach((D,V)=>{if(V>this.state.renderLimit)return;H[re]||(H[re]=[]);let K=O?1:parseInt(D.getAttribute("grid-span"))||1;Q%v+K>v&&(K=v-Q%v);let Y=D.getAttribute("grid-vertical-align")||null;H[re].push({index:V,spans:K,hasOrphans:!1,verticalAlign:Y,el:D}),Q=Q+K,Q%v==0&&re++,Q%v!=0&&V==q.length-1&&(H[H.length-1].hasOrphans=!0)});let ee=q.length%v,ue=[],J=[];H.forEach((D,V)=>{let K=dg.default.sumBy(D,ce=>ce.spans),Y=0,oe=[],$=0,U=0,X=D.map((ce,fe)=>{let me=ce.spans,Ae=ce.el._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0,horizPadSize:0,vertPadSize:0},mediaItemSize:{width:0,height:0,padSize:0,vertPadSize:0,horizPadSize:0}},Ie=Y,Oe=Y+me+-1,ze=L*me+u*(me-1),at=(ze+-Ae.mediaItemSize.horizPadSize+-Ae.mediaSize.horizPadSize)/Ae.width||1,$e=Math.round(Ae.height*at+Ae.mediaSize.vertPadSize)||300;ze=A[Oe].right-A[Ie].left,Y+=me,$=Math.max($,$e);let ot={},Ee=` --grid-width: ${ze}px;`;return ot.orphanedItem=D.hasOrphans,fe===D.length-1?(ot.lastColumn=!0,ce.index<q.length-1&&(Ee=` --grid-width: ${f-U}px;`),U=0):(fe==0&&(ot.firstColumn=!0),U=U+ze+u),V==H.length-1&&(ot.lastRow=!0),ot.gridItemPixelHeight=$e,ot.gridItemPixelWidth=ze,ot.gridWidthStyle=Ee,ot});var te=dg.default.maxBy(X,ce=>ce.gridItemPixelHeight);$=te.gridItemPixelHeight,D.forEach((ce,fe)=>{let me=X[fe],Ae=0,Ie=g;switch(ce.verticalAlign){case"top":case"center":case"bottom":Ie=ce.verticalAlign;break}switch(Ie){case"top":Ae=0;break;case"center":Ae=($-me.gridItemPixelHeight)*.5;break;case"bottom":Ae=$-me.gridItemPixelHeight;break}let Oe=`margin-top: ${Ae}px; --frame-padding: ${me.gridItemPixelHeight}px; ${me.gridWidthStyle}`,ze=V==0?" first-row":me.lastRow?" last-row":"",at=me.firstColumn?" first-in-row":me.lastColumn?" last-in-row":"",$e="row-"+V+"-"+ce.index+ze+at;ue.push({slot:$e,itemResize:this.onItemResize,"limit-by":null}),J.push({slot:$e,style:Oe,itemStatuses:me})})}),q.forEach((D,V)=>{let K=ue[V]||{slot:null},Y=D._props||{};xo(D,{...Y,...K},Y,!1,!1)});let G=[];return H.forEach((D,V)=>{G.push(m("div",{part:V==0?"first-row":V===H.length-1?"last-row":"row",className:`row ${D.hasOrphans?"has-orphans":""}`,children:D.map(K=>m("slot",{name:ue[K.index].slot},"slot-"+V+"-"+K.index))},"row-"+V))}),m(ie,{children:[this.props.children,Ke(m(ie,{children:[m("style",{children:`
						:host {
							display: block;
							width: var(--resize-parent-width, 100%);
							max-width: 100%;
							position: relative;							
			 				--grid-gutter-width: ${z}px;
							--grid-gutter-height: ${c}px;
							--grid-columns: ${v};
							margin-top: calc(var(--gutter-expand, 0) * ${c}px );	
						}				

						* {
							box-sizing: border-box;
						}

						${J.map((D,V)=>`::slotted(media-item[slot="${D.slot}"]) {
								${D.style}
								${D.itemStatuses.lastColumn&&!D.itemStatuses.orphanedItem?"flex-grow: 1; --object-fit: fill;":""}
								${D.itemStatuses.lastColumn?"":"margin-right: var(--grid-gutter-width);"}
								${D.itemStatuses.lastRow?"":"margin-bottom: var(--grid-gutter-height);"}
							} `).join("")}
								

						.row {
							max-width: ${f}px;
						    align-items: flex-start;
						    justify-content: flex-start;
							position: relative;
							display: flex;
							flex-direction: row;
							flex-wrap: nowrap;					
							width: 100%;
							clear: both;
						}				
		
						.row.has-orphans {
						    justify-content: flex-start;
						}

						${l&&e["mobile-horizontal-align"]?`
							:host([mobile-horizontal-align="left"]) .row.has-orphans {
								justify-content: flex-start;
							}
			
							:host([mobile-horizontal-align="center"]) .row.has-orphans {
								justify-content: center;
							}
			
							:host([mobile-horizontal-align="right"]) .row.has-orphans {
								justify-content: flex-end;
							}
						`:`
							:host([horizontal-align="left"]) .row.has-orphans {
								justify-content: flex-start;
							}
			
							:host([horizontal-align="center"]) .row.has-orphans {
								justify-content: center;
							}
			
							:host([horizontal-align="right"]) .row.has-orphans {
								justify-content: flex-end;
							}
						`}
		
						:host([hidden]) {
							display: none;
						}
		
						::slotted(media-item) {
							${r?"pointer-events: auto;":""}
							position: relative;
						    display: flex;
						    max-width: 100%;   
						    flex-grow: 0;
						    flex-shrink: 0;
						    flex-basis: var(--grid-width);
						    width: var(--grid-width);
						}
		

		
					`}),m(Dr,{values:{elWidth:"100%",gutterWidth:_.join(""),gutterHeight:P.join("")},onResize:this.onResize}),r&&o.isEditing&&!le&&m(p5,{...e,disableResize:O,gallerySpecificAttributes:["grid-span","grid-vertical-align"],galleryInstance:n,galleryComponent:this,columnAndGutterMap:A}),G,m("div",{ref:this.paginationWatcherRef,class:"pagination-watcher"})]}),this.props.baseNode.shadowRoot)]})}onMobileChange=e=>{this.setState({isMobile:e})};componentDidMount(){et.on("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.observe(this.paginationWatcherRef.current)}componentWillUnmount(){et.off("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.unobserve(this.paginationWatcherRef.current)}onItemResize=e=>{this.setState(i=>({sizeIncrement:i.sizeIncrement+1}))};onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n.hasSizes=!0,n})}};pg.defaultProps={"show-tags":!0,"show-title":!0,columns:Sn.defaults.columns.value,gutter:Sn.defaults.gutter.value,"vertical-align":Sn.defaults["vertical-align"].value,"horizontal-align":Sn.defaults["horizontal-align"].value};Ax=Ut(So(De((t,e)=>({adminMode:t.frontendState.adminMode}))(pg)));ri(Ax,"gallery-grid",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","columns","gutter","mobile-columns","mobile-gutter","vertical-align","horizontal-align","mobile-horizontal-align","mobile-vertical-align"])});var tNe,Tx,f5,m5=T(()=>{_e();tNe=he(xe(),1);Ft();Tu();ne();Tx=class extends se{constructor(e){super(e)}render(e,i){let{galleryInstance:r,gutterWidth:n,elWidth:o,elHeight:l,disabledAttributes:u}=e;return m(wo,{...e,dragIndicationType:"columns",gallerySpecificAttributes:this.props.gallerySpecificAttributes,galleryInstance:r,mediaItemEditorInfo:{disableResize:this.props.disableResize,disableButton:!1,afterScaleChange:this.afterScaleChange,beforeScaleChange:this.spanResize,whileScaleChange:this.spanResize},disabledAttributes:u})}spanResize=(e,i)=>{let r=this.convertWidthToSpans(i);return{...i,displayScale:r>1?r+" columns":r+" column"}};afterScaleChange=(e,i)=>{let r=this.convertWidthToSpans(i);r===1?e.removeAttribute("columnized-span"):e.setAttribute("columnized-span",r),this.props.galleryComponent.onItemResize()};convertWidthToSpans=e=>{let{columnAndGutterMap:i}=this.props,r=i.findIndex((n,o)=>{let l=i[o+1]?.left||9e9,u=n.right-n.left;return e.width>=n.left+u*.5&&e.width<=l+u*.5})+1;return Math.max(1,r)}},f5=Tx});var Mx,Eo,fg,vse,Rx=T(()=>{_e();We();ht();Us();Ne();cg();Ws();Mu();Fi();m5();Ti();Mx=he(xe(),1);Ji();ne();Eo={name:"columnized",displayName:"Columnized",tagName:"GALLERY-COLUMNIZED",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"Column Span",name:"columnized-span",type:"scrubber",value:1,min:1,max:11,step:1,numberOnlyMode:!0}],options:[{labelName:"Columns",name:"columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]}],mobileOptions:[{labelName:"Columns",name:"mobile-columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]}]};Eo.mediaItemDefaults=lt(Eo.mediaItemOptions);Eo.defaults=lt(Eo.options);Eo.mobileDefaults=lt(Eo.mobileOptions);fg=class extends se{constructor(e){super(e),this.state={elWidth:1e3,gutterWidth:0,gutterHeight:0,isMobile:et.data.mobile.active,sizeIncrement:0,hasSizes:!1}}render(e,i){let{gutterWidth:r,gutterHeight:n,isMobile:o,hasSizes:l}=i,{baseNode:u,adminMode:c,pageInfo:d}=e,{elWidth:f}=i;l||(f=this.props.baseNode.offsetWidth);let v=(this.state.isMobile&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter).split(" "),S=(v.length>1,v[0]);S.includes("rem")&&o&&(S="calc( var(--mobile-padding-offset, 1) * "+S+" )");let E=v.length>1?v[1]:v[0];E.includes("rem")&&o&&(E="calc( var(--mobile-padding-offset, 1) * "+E+" )");let _=this.state.isMobile&&this.props["mobile-columns"]!==void 0?this.props["mobile-columns"]:this.props.columns;_=Math.max(1,parseInt(_))||1;let{columnAndGutterMap:P,columnWidth:A,gutterPixelWidth:L,halfPixels:z}=Ou(_,r,f),q=Array.from(u.children).filter(V=>V.tagName=="MEDIA-ITEM"),H=[],re=[],Q=[],O=[],ee=0;ee=(f-(_-1)*r)/_;for(let V=0;V<Math.min(q.length,_);V++)H[V]=[],O[V]=[];for(let V=0;V<_;V++)re[V]={height:0,marginTop:-r,index:V};let ue=_>q.length,J=[],G=o&&!isNaN(parseInt(this.props["mobile-columns"]))&&parseInt(this.props["mobile-columns"])!==parseInt(this.props.columns),D=[];return q.forEach((V,K)=>{let Y=G?1:Math.min(parseInt(V.getAttribute("columnized-span"))||1,_);Y=Math.min(Y,q.length);let oe=-1,$=Mx.default.minBy(re,ut=>{oe++;let je=re.slice(oe+1,oe+Y).map(jt=>jt.height);if(je.length+1<Y)return 9e9;let Ge=ut.height==0?0:Math.abs((oe+(oe%2==0?.25:.75))*2-_);return Mx.default.mean([ut.height,...je])+Ge}),U=`column-${$.index}-slot-${K}`,X=$.height;$.index+Y>_&&(Y=_-$.index),Q[$.index]=K;let te=0,ce=null,fe=A*Y+r*(Y-1),me=V._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};te=me.mediaItemSize.height+me.mediaItemSize.padSize;let Ae=$.index,Ie=$.index+Y+-1;fe=P[Ie].right-P[Ae].left;let Oe=(fe+-me.mediaItemSize.padSize+-me.mediaSize.padSize)/me.width||1;ce=z?Math.round((me.height*Oe+me.mediaSize.padSize)*2)/2||NaN:Math.round(me.height*Oe+me.mediaSize.padSize)||NaN,Number.isNaN(ce)&&(ce=300);let ze=$,at=$.height;for(let ut=1;ut<Y;ut++){let je=$.index+ut;re[je].height>=at&&(ze=re[je],at=re[je].height)}let $e=ze.height,ot=ze.height+me.mediaItemSize.height+me.mediaItemSize.padSize+r;for(let ut=0;ut<Y;ut++){let je=$.index+ut;ut===0?(re[je].marginTop=re[je].marginTop+($e-re[je].height),re[je].height=ot):(re[je].marginTop=re[je].marginTop+(ot-re[je].height),re[je].height=ot)}let Ee={},ct=re[$.index].marginTop;re[$.index].marginTop=0,Ee.styleString="",ct!==n&&(Ee.styleString+=` --column-gutter-height: ${ct+n}px;`),Y>1&&(Ee.styleString+=` --resize-parent-width:${fe}px; min-width: ${fe}px;`),ce!==null&&(Ee.styleString+=` --frame-padding: ${ce}px;`),X===0&&(Ee.firstColumnItem=!0),Ee.slotName=U,D.push(Ee),H[$.index]||(H[$.index]=[]),H[$.index].push(m("slot",{name:U},U)),J.push({slot:U})}),Q.forEach(V=>{D[V].lastInColumn=!0}),q.forEach((V,K)=>{let Y=J[K]||{};Y.itemResize=this.onItemResize;let oe=V._props||{};xo(V,{...oe,...Y},oe,!1,!1)}),m(ie,{children:[this.props.children,Ke(m(ie,{children:[m("style",{children:`
				:host {
					width: var(--resize-parent-width, 100%);
					max-width: 100%;
					${ue?"display: block;":`display: flex;
					    flex-direction: row;
					    flex-wrap: wrap;
					    align-content: flex-start;
					    justify-content: center;`}
				    position: relative;					
					--column-gutter-width: ${L}px;
					--column-gutter-height: ${n}px;
					margin-top: calc(var(--gutter-expand, 0) * ${n}px);
				}

				${D.map((V,K)=>`::slotted(media-item[slot="${V.slotName}"]){
						margin-top: ${V.firstColumnItem?"0;":"var(--column-gutter-height, 0px);"}
						${V.lastInColumn?`
						    flex-grow: 1;
						    flex-shrink: 1;
						    flex-basis: ${_===1?"100%":0};						
						`:""}
						${V.styleString}
					} `).join("")}

				* {
					box-sizing: border-box;
				}	

				:host[hidden] {
					display:none;
				}

				:host .columns-column {
					${ue?`
						display: inline-flex;
						vertical-align: top;
					`:`
					    max-width: ${Math.ceil(f/_)}px;
					`}					
					flex-grow: 0;
					flex-shrink: 0;
				}

				:host .columns-column.last-column {
				    flex-grow: 1;
				    flex-shrink: 1;
				    flex-basis: ${_===1?"100%":0};
				}
				

				:host .columns-column:not(:last-child){
				    margin-right: var(--column-gutter-width, 0px);
				}

				::slotted(media-item) {
					position: relative;
				    width: 100%;
				    max-width: none;
				    display: flex;
				}




				`}),m(Dr,{values:{gutterWidth:S,gutterHeight:E,elWidth:"100%"},onResize:this.onResize}),c&&d.isEditing&&!le&&m(f5,{...this.props,disableResize:G,isMobile:o,gallerySpecificAttributes:["columnized-span"],columnAndGutterMap:P,galleryInstance:u,galleryComponent:this}),H.map((V,K)=>{let Y=P[K];return m("div",{className:`columns-column${K===_-1?" last-column":""}`,style:{width:Y.right-Y.left+"px"},children:V},`columns-column-${K}`)})]}),this.props.baseNode.shadowRoot)]})}componentDidMount(){et.on("mobile-change",this.onMobileChange)}componentWillUnmount(){et.off("mobile-change",this.onMobileChange)}onMobileChange=e=>{this.setState({isMobile:e})};onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n.hasSizes=!0,n})};onItemResize=(e,i)=>{this.setState(r=>({sizeIncrement:r.sizeIncrement+1}))}};fg.defaultProps={"show-tags":!0,"show-title":!0,columns:Eo.defaults.columns.value,gutter:Eo.defaults.gutter.value};vse=Ut(So(De((t,e)=>({adminMode:t.frontendState.adminMode}))(fg)));ri(vse,"gallery-columnized",["thumbnail-index","links-filter-index","show-tags","show-title","thumbnail-index-metadata","columns","gutter","mobile-columns","mobile-gutter"],{renderIntoShadow:!0})});var qr,Nx,g5,v5=T(()=>{_e();qr=he(xe(),1);Tu();zi();Ft();ne();Nx=class extends se{constructor(e){super(e),this.state={pauseRealignment:!1,waitingForRealignment:!1,currentZoom:100,currentHorizontalShift:0,transform:{x:0,y:0},previewShifts:[],previewingTransform:!1,dragStartPosition:{x:0,y:0},scrollDelta:{x:0,y:0},dragDelta:{x:0,y:0},initialPosition:{x:0,y:0},ghostRect:{significantShift:!1,width:0,height:0,x:0,y:0},minHeight:0,overrideHeight:!1,dragSrcIndex:-1,UIWindow:!1,draggedItemIndex:-1,isDragging:!1,showDropTarget:!1,breakOutOfGallery:!1,draggedMediaItem:null,timer:0},this.draggedItem=ge(),this.dragGhostRef=ge(),this.lastPosition=null,this.debouncedCommitTransform=qr.default.debounce(this.commitTransform,500)}render(e,i){let{showDropTarget:r,draggedMediaItem:n,isDragging:o,dragDelta:l,draggedItemIndex:u,initialPosition:c,dragSrcIndex:d,ghostRect:f}=i,{galleryInstance:g}=e;return m(ie,{children:[m("style",{id:"freeform-editor",children:[d>-1&&o?`
			::slotted(media-item:nth-child(${d+1})){
				pointer-events:none;
				opacity: 0;
			}

			.drag-ghost {
				position: absolute;
				top: 0;
				left: 0;
				z-index: 1001;	
				pointer-events: none;
				outline: 1px solid #ccc;
			}

			.drag-ghost.snapping {
				outline: 1px solid var(--baseColor-accent);
			}

			.drag-ghost img {
				position: absolute;
				inset: 0;
				width: 100%;
				height: 100%;
				opacity: 0.5;
				transition: none;
				object-fit: cover;
				transform:translateZ(0);
			}

			`:`

			#freeform-holder {
				transform: scale(${this.state.currentZoom}%) translateX(${this.state.currentHorizontalShift}%);
				transform-origin: center top;
			}

			`,this.state.overrideHeight?`
				:host {
					min-height: ${this.state.minHeight}px;
				}
			`:"",this.state.previewingTransform?this.state.previewShifts.map(v=>`::slotted(media-item[slot="${v.slot}"]){
						--base-translate: translate(${v.x}px , ${v.y}px)!important;
					} `):""]}),m(wo,{...e,gallerySpecificAttributes:this.props.gallerySpecificAttributes,galleryInstance:g,mediaItemEditorInfo:{disableResize:!1,disableButton:!1,afterScaleChange:this.afterScaleChange,whileScaleChange:this.whileScaling,beforeScaleChange:this.beforeScaleChange},onScrollWhileHovered:this.onScrollWhileHovered,onUIWindowSet:this.getUIWindow,onUIWindowRelease:this.releaseUIWindow,disableDragOver:!0,onCleanUp:this.onCleanUp}),m("div",{className:`drag-ghost ${f.significantShift?"snapping":""}`,style:{display:o&&f.width>0&&f.height>0?"block":"none",transform:`translate3d(${f.x}px, ${f.y}px, 1001px)`,width:f.width+"px",height:f.height+"px"},dangerouslySetInnerHTML:{__html:""},ref:this.dragGhostRef})]})}onScrollWhileHovered=e=>{this.setState(i=>i.isDragging?{scrollDelta:{x:0,y:i.scrollDelta.y+e}}:null)};getUIWindow=e=>{this.setState({UIWindow:e})};releaseUIWindow=e=>{this.setState({UIWindow:!1})};beforeScaleChange=(e,i)=>{let r=e.hasAttribute("freeform-scale")?e.getAttribute("freeform-scale"):20;return{...i,scaleArray:[parseFloat(r),"%"],scale:r+""}};whileScaling=(e,i)=>{let{magneticSnap:r,magneticSnapMargin:n}=this.props,o=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};if(!r)return i;let{width:l,height:u,scaleArray:c,overSize:d,atLimit:f,scale:g}=i,{elWidth:v,attributeMap:S}=this.props;v=v+-o.mediaItemSize.padSize+-o.mediaSize.padSize;let E=n*.01*v,_=l/u,P={width:!1,height:!1},A=Array.from(this.props.galleryInstance.children).filter(re=>re.tagName==="MEDIA-ITEM").indexOf(e),L=S[A],z={x1:L.xPx,y1:L.yPx,x2:L.xPx+l,y2:L.yPx+u},q={top:!0,left:!0,right:!1,bottom:!1},H=this.calculateMagnetism(e,z,q);return Math.abs(H.x)<Math.abs(H.y)&&Math.abs(H.x)>.1?P.width=!0:Math.abs(H.y)>.1&&(P.height=!0),Math.abs(H.x)>15&&(P.width=!1,H.x=0),Math.abs(H.y)>15&&(P.height=!1,H.y=0),P.width?(l=l+H.x,u=l/_):P.height&&(u=u+H.y,l=u*_),c[0]=l/v*100,{...i,scale:c.join(""),width:l,height:u,scaleArray:c,overSize:d,atLimit:f}};afterScaleChange=(e,i)=>{let{elWidth:r}=this.props,n=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};r=r+-n.mediaItemSize.padSize+-n.mediaSize.padSize;let o=(100*(i.width/r)).toFixed(2);e.setAttribute("limit-by","width"),e.setAttribute("scale",o),e.setAttribute("freeform-scale",o),this.props.galleryComponent.onItemResize()};onDragStart=(e,i,r)=>{let n=r.draggedMediaItems?.find(E=>this.props.galleryInstance.contains(E))||null;if(!n){this.setState({draggedItemIsInsideGallery:!1});return}let{attributeMap:o,elWidth:l}=this.props;this.draggedItem.current=n,Array.from(this.dragGhostRef.current?.children).forEach(E=>{E.remove()});let u=this.draggedItem.current?.shadowRoot?.querySelector('.sizing-frame [part="media"]'),c=Array.from(this.props.galleryInstance.children),d=c.indexOf(n),f=c.filter(E=>E.tagName==="MEDIA-ITEM").indexOf(n),g=o[f],v={x:g?.xPx??0,y:g?.yPx??0},S=this.props.galleryInstance.offsetHeight;this.setState(E=>(be.globalDragEventController.setCustomDropTarget(this.props.galleryInstance),{dragDelta:{x:0,y:0},draggedItemIsInsideGallery:!0,initialPosition:v,dragStartPosition:{x:r.cursorPosition.x,y:r.cursorPosition.y},scrollDelta:{x:0,y:0},ghostRect:{x:0,y:0,width:0,height:0},dragSrcIndex:d,overrideHeight:!0,minHeight:S,isDragging:!0}))};onDragOver=(e,i,r)=>{if(this.ticking)return;this.ticking=!0,this.dragFrame=requestAnimationFrame(()=>{this.ticking=!1});let{elWidth:n,elHeight:o,mediaItems:l,magneticSnapMargin:u,magneticSnap:c,attributeArray:d}=this.props,f=r.draggedMediaItems.length>0,g=this.props.galleryInstance.contains(r.dropTarget),v=this.props.galleryInstance===r.customDropTarget;r.inAdmin||r.fromOutside||!(g||this.state.draggedItemIsInsideGallery)?be.globalDragEventController.releaseCustomDropTarget(this.props.galleryInstance):this.setState(S=>{if(be.globalDragEventController.setCustomDropTarget(this.props.galleryInstance),S.isDragging){let E={x:r.cursorPosition.x+-S.dragStartPosition.x+S.scrollDelta.x,y:r.cursorPosition.y+-S.dragStartPosition.y+S.scrollDelta.y},_={x:S.initialPosition.x+E.x,y:S.initialPosition.y+E.y};this.lastPosition||(this.lastPosition=_);let P={width:0,height:0,x1:_.x,x2:_.x,y1:_.y,y2:_.y};if(this.draggedItem.current){let q=this.draggedItem.current._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};P.x2=P.x1+q.mediaItemSize.padSize+q.mediaSize.padSize+q.mediaItemSize.width,P.y2=P.y1+q.mediaItemSize.padSize+q.mediaItemSize.height,P.width=q.mediaItemSize.padSize+q.mediaSize.padSize+q.mediaItemSize.width,P.height=q.mediaItemSize.padSize+q.mediaItemSize.height}let A=c?this.calculateMagnetism(this.draggedItem.current,P):{x:0,y:0},L=u*.01*n;Math.abs(A.x)>Math.max(L,6)?A.x=0:A.x!==0&&(_.x=(_.x+A.x)*.5+this.lastPosition.x*.5),Math.abs(A.y)>Math.max(L,6)?A.y=0:A.y!==0&&(_.y=(_.y+A.y)*.5+this.lastPosition.y*.5);let z=Math.abs(A.x)>1||Math.abs(A.y)>1;return this.lastPosition=_,{ghostRect:{significantShift:z,x:_.x,y:_.y,width:P.width,height:P.height},dragDelta:{x:E.x+A.x,y:E.y+A.y}}}else{let E=this.props.galleryInstance.getBoundingClientRect(),_={x:r.cursorPosition.x-E.left,y:r.cursorPosition.y-E.top};return this.draggedItem.current=r.draggedMediaItems[0],{dragDelta:{x:0,y:0},scrollDelta:{x:0,y:0},initialPosition:_,dragStartPosition:{x:r.cursorPosition.x,y:r.cursorPosition.y},ghostRect:{x:0,y:0,width:0,height:0},isDragging:!0,dragSrcIndex:-1}}})};calculateMagnetism=(e,i,r={top:!1,right:!1,bottom:!1,left:!1})=>{let{mediaItems:n,galleryInstance:o,elWidth:l,elHeight:u,magneticSnapMargin:c,attributeMap:d}=this.props,f=Math.round(c*.01*l*32)/32,g=[],v=[],S=[],E={};n.forEach((O,ee)=>{let ue=d[ee];if(O===e)return;S.length=0;let J=O._size;E.x1=ue.xPx,E.y1=ue.yPx,E.x2=J.mediaItemSize.width+J.mediaItemSize.padSize+E.x1,E.y2=J.mediaItemSize.height+J.mediaItemSize.padSize+E.y1,i.x1<E.x2+f*2&&i.x2>E.x1-f*2&&(E.x2<i.x1||E.x1>i.x2?(S.push(E.y1),S.push(E.y2)):(S.push(E.y1-f),S.push(E.y2+f)),S.forEach(G=>{g.indexOf(G)===-1&&g.push(G)})),S.length=0,i.y1<E.y2+f*2&&i.y2>E.y1-f*2&&(E.y2<i.y1||E.y1>i.y2?(S.push(E.x1),S.push(E.x2)):(S.push(E.x1-f),S.push(E.x2+f)),S.forEach(G=>{v.indexOf(G)===-1&&v.push(G)}))}),g.indexOf(0)===-1&&g.push(0),g.indexOf(u)===-1&&g.push(u),v.indexOf(0)===-1&&v.push(0),v.indexOf(l)===-1&&v.push(l);let _=qr.default.minBy(g,O=>Math.abs(O-i.y1)),P=qr.default.minBy(g,O=>Math.abs(O-i.y2)),A=_-i.y1,L=P-i.y2,z=qr.default.minBy(v,O=>Math.abs(O-i.x1)),q=qr.default.minBy(v,O=>Math.abs(O-i.x2)),H=z-i.x1,re=q-i.x2;return{x:qr.default.minBy([r.left?9e9:H,r.right?9e9:re],O=>O!==0?Math.abs(O):9e9),y:qr.default.minBy([r.top?9e9:A,r.bottom?9e9:L],O=>O!==0?Math.abs(O):9e9)}};onDragDrop=(e,i,r)=>{this.setState({isDragging:!1},()=>{this.lastPosition=null,!r.inAdmin&&r.customDropTarget===this.props.galleryInstance&&CargoEditor?.mutationManager&&(CargoEditor.rangy.getSelection().removeAllRanges(),qe.deactivateHoverElement(this.props.galleryInstance),CargoEditor.mutationManager.execute(()=>{let n=Array.from(this.props.galleryInstance.children).filter(f=>f.tagName==="MEDIA-ITEM"),o=qr.default.sortBy(n,f=>parseFloat(f.getAttribute("freeform-y"))||0),l=(this.state.initialPosition.x+this.state.dragDelta.x)/this.props.elWidth*100,u=(this.state.initialPosition.y+this.state.dragDelta.y)/this.props.elWidth*100,c=this.draggedItem.current?.getAttribute("freeform-scale")||20,d=o.find(f=>parseFloat(f.getAttribute("freeform-y"))>u);r.draggedMediaItems.forEach((f,g)=>{f.setAttribute("freeform-z",n.length+200+g),f===this.draggedItem.current?(f.setAttribute("freeform-x",l),f.setAttribute("freeform-y",u)):(f.setAttribute("freeform-x",(l+g*5)%80),f.setAttribute("freeform-y",u+g*5)),f.hasAttribute("freeform-scale")||f.setAttribute("freeform-scale",c),this.props.galleryInstance.insertBefore(f,d),f.flushMutationQueue()}),this.stackZ(),this.centerY(),this.alignDomWithY(),this.props.galleryInstance._editorInterface.flushMutationQueue()}))}),this.unsetMinHeight()};unsetMinHeight=qr.default.debounce(()=>{this.setState({overrideHeight:!1})},100);onDragEnd=(e,i,r)=>{this.setState({isDragging:!1},()=>{this.lastPosition=null}),this.unsetMinHeight()};onCleanUp=(e,i,r,n)=>{CargoEditor&&Object.keys(CargoEditor).length>0&&(!qr.default.isEqual(e,i)||r.length>0)&&CargoEditor.mutationManager.execute(()=>{this.centerY(),this.alignDomWithY()}),this.props.onCleanUp&&this.props.onCleanUp(e,i,r,n)};stackZ=()=>{let e=Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM");qr.default.sortBy(e,r=>parseFloat(r.getAttribute("freeform-z"))||0).forEach((r,n)=>{r.setAttribute("freeform-z",n+1),r.flushMutationQueue()})};centerY=()=>{let e=Array.from(this.props.galleryInstance.children).filter(n=>n.tagName==="MEDIA-ITEM"),i=qr.default.sortBy(e,n=>n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):0),r=i[0]?.hasAttribute("freeform-y")?parseFloat(i[0].getAttribute("freeform-y")):0;r!==0&&i.forEach((n,o)=>{let l=n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):r;n.setAttribute("freeform-y",l-r),n.flushMutationQueue()})};alignDomWithY=()=>{let e=Array.from(this.props.galleryInstance.children).filter(n=>n.tagName==="MEDIA-ITEM"),i=qr.default.sortBy(e,n=>n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):0),r=e[0];i.forEach((n,o,l)=>{if(n!=r){for(let u=r,c=0;(u=u.nextElementSibling)&&c<l.length&&u!=n;c+=1);this.props.galleryInstance.insertBefore(n,r)}else r=n.nextElementSibling;n.flushMutationQueue()})};zoom=e=>{this.setState({currentZoom:e})};commitZoom=()=>{let{magneticSnapMargin:e,attributeMap:i}=this.props,{currentZoom:r}=this.state;Array.from(this.props.galleryInstance.children).filter(o=>o.tagName==="MEDIA-ITEM").forEach((o,l)=>{let u=i[l],c=u["freeform-x"],d=u["freeform-y"],f=u["freeform-scale"],g=Math.sqrt(Math.pow(c-50,2)+Math.pow(d,2)),v=Math.atan2(d,c-50);o.setAttribute("freeform-x",Math.cos(v)*g*(r*.01)+50),o.setAttribute("freeform-y",Math.sin(v)*g*(r*.01)+50*(r*.01)),o.setAttribute("freeform-scale",r*.01*f)});let n=Math.abs(r*.01*e);if(n>.1)for(;n>5;)n*=.5;this.centerY(),this.state.UIWindow?.onChange?.({zoom:100,"magnetic-snap-margin":n}),this.props.galleryInstance._editorInterface.flushMutationQueue(),this.props.galleryComponent.onItemResize()};previewTransform=(e,i)=>{let r=i.map(n=>{let o=(e.x+parseFloat(n.getAttribute("freeform-x")||0))*this.props.elWidth*.01,l=(e.y+parseFloat(n.getAttribute("freeform-y")||0))*this.props.elWidth*.01;return{slot:n.getAttribute("slot"),x:o,y:l}});this.setState({transform:e,previewShifts:r,previewingTransform:!0})};commitTransform=()=>{CargoEditor.mutationManager.execute(()=>{this.state.previewShifts.forEach(i=>{let r=this.props.galleryInstance.querySelector('[slot="'+i.slot+'"]');if(r){let n=parseFloat(r.getAttribute("freeform-x")||0),o=parseFloat(r.getAttribute("freeform-y")||0),l=Math.round((n+this.state.transform.x)*8)/8,u=Math.round((o+this.state.transform.y)*8)/8;r.setAttribute("freeform-x",l),r.setAttribute("freeform-y",u)}}),this.centerY(),this.alignDomWithY(),this.props.galleryInstance._editorInterface.flushMutationQueue()});let e=Array.from(this.props.galleryInstance.children).find(i=>i._editorInterface)?._editorInterface?.state?.UIWindow||null;e&&e.onChange({"shift-x":0,"shift-y":0}),this.setState({transform:{x:0,y:0},previewShifts:[],previewingTransform:!1},()=>{this.props.galleryInstance._editorInterface.flushMutationQueue(),this.props.galleryComponent.onItemResize()})};horizontalShift=e=>{this.setState({currentHorizontalShift:e})};commitHorizontalShift=()=>{let{currentHorizontalShift:e}=this.state,{attributeMap:i}=this.props;Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM").forEach((r,n)=>{let l=i[n]["freeform-x"];r.setAttribute("freeform-x",l+e)}),this.state.UIWindow?.onChange?.({horizontalShift:0}),this.props.galleryComponent.onItemResize()};fitToWidth=()=>{let{magneticSnapMargin:e,attributeMap:i}=this.props;CargoEditor.mutationManager.execute(()=>{let{elWidth:r,attributeMap:n}=this.props,o=Array.from(this.props.galleryInstance.children).filter(g=>g.tagName==="MEDIA-ITEM"),l=9e9,u=-9e9;o.forEach((g,v)=>{let S=n[v];l=Math.min(l,S["freeform-x"]),u=Math.max(u,S["freeform-x"]+S["freeform-scale"])});let c=100/(u-l),d=l,f=Math.abs(c*e);if(f>.1)for(;f>5;)f*=.5;o.forEach((g,v)=>{let S=n[v],E=S["freeform-scale"]||30,_=S["freeform-x"],P=S["freeform-y"],A=(_+-d)*c,L=P*c;g.setAttribute("freeform-x",A),g.setAttribute("freeform-y",L),g.setAttribute("freeform-scale",c*E)}),this.state.UIWindow?.onChange?.({zoom:100,"magnetic-snap-margin":f})})};componentDidMount(){be.globalDragEventController.on("dragstart",this.onDragStart),be.globalDragEventController.on("dragover",this.onDragOver),be.globalDragEventController.on("drop",this.onDragDrop),be.globalDragEventController.on("dragend",this.onDragEnd),this.props.galleryInstance._freeformEditor=this}componentWillUnmount(){this.debouncedCommitTransform.cancel(),this.unsetMinHeight.cancel(),cancelAnimationFrame(this.dragFrame),clearTimeout(this.breakOutTimer),delete this.props.galleryInstance._freeformEditor,be.globalDragEventController.off("dragstart",this.onDragStart),be.globalDragEventController.off("dragover",this.onDragOver),be.globalDragEventController.off("drop",this.onDragDrop),be.globalDragEventController.off("dragend",this.onDragEnd)}componentDidUpdate(e,i){i.pauseRealignment!==this.state.pauseRealignment&&!this.state.pauseRealignment&&this.state.waitingForRealignment}},g5=Nx});var y5,mg,yse,Bi,kx=T(()=>{_e();We();Ws();Us();hg();ht();Ne();v5();Mu();Fi();Ti();y5=he(xe(),1);Ji();ne();mg=class extends se{constructor(e){super(e),this.state={elWidth:1e3,sizeIncrement:0},this.holderRef=ge()}render(e,i){let{adminMode:r,baseNode:n,pageInfo:o,"mobile-grid":l,"mobile-gutter":u,"mobile-columns":c,"mobile-horizontal-align":d,"mobile-vertical-align":f,"hover-pop":g,"magnetic-snap":v,"magnetic-snap-margin":S}=e;if(l&&e.isMobile)return this.renderedMobileGrid=!0,m(Ax,{...this.props,columns:c,gutter:u,verticalAlign:f,horizontalAlign:d,baseNode:n,adminMode:r,pageInfo:o});let{elWidth:E}=i,_=0,P=0,A=0,L=Array.from(n.children).filter(ee=>ee.tagName=="MEDIA-ITEM"),z=[],q=[],H=-1;L.forEach((ee,ue)=>{let J=!1,G={"freeform-scale":parseFloat(ee.getAttribute("freeform-scale")),"freeform-x":parseFloat(ee.getAttribute("freeform-x")),"freeform-y":parseFloat(ee.getAttribute("freeform-y")),"freeform-z":parseFloat(ee.getAttribute("freeform-z"))},D={slot:"slot-"+ue,itemResize:this.onItemResize};(isNaN(G["freeform-scale"])||isNaN(G["freeform-x"])||isNaN(G["freeform-y"])||isNaN(G["freeform-z"]))&&(J=!0,G["freeform-scale"]=Number.isNaN(parseFloat(ee.getAttribute("freeform-scale")))?20:parseFloat(ee.getAttribute("freeform-scale")),G["freeform-x"]=Number.isNaN(parseFloat(ee.getAttribute("freeform-x")))?A*1.5:parseFloat(ee.getAttribute("freeform-x")),G["freeform-x"]=G["freeform-x"]%80,G["freeform-y"]=Number.isNaN(parseFloat(ee.getAttribute("freeform-y")))?A*1.5:parseFloat(ee.getAttribute("freeform-y")),G["freeform-z"]=9999,A++);let V=parseFloat(G["freeform-x"])*.01*E,K=parseFloat(G["freeform-y"])*.01*E,Y=parseInt(G["freeform-z"]),oe=parseFloat(G["freeform-scale"])*.01*E,$=oe,U=ee._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};$=U.mediaItemSize.height+U.mediaItemSize.padSize,_=Math.max(K+$,_),J||(H=ue,P=_),G.widthPx=oe,G.xPx=V,G.yPx=K,G.z=Y,G.writeAttributes=D,q.push(G)});let re=100*(P/E),Q=0;for(var O=H+1;O<q.length;O++){let ue=L[O]._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},J=ue.mediaItemSize.height+ue.mediaItemSize.padSize,G=Q*1.5+re,D=G*.01*E;q[O]["freeform-y"]=G,q[O].yPx=D,_=Math.max(q[O].yPx+J,_),Q++}return q.forEach((ee,ue)=>{let J=L[ue],{widthPx:G,yPx:D,xPx:V,z:K,writeAttributes:Y}=ee,oe=J._props||{};this.renderedMobileGrid&&(oe.itemResize=null),xo(J,{...oe,...Y},oe,!1,!1),z.push({width:G+"px","--base-translate":`translate(${Math.floor(V)}px, ${Math.floor(D)}px)`,"--z-index":K+1})}),this.renderedMobileGrid=!1,m(ie,{children:[this.props.children,Ke(m(ie,{children:[m("style",{children:`
					* {
						box-sizing: border-box;
					}
									
					:host {
						width: var(--resize-parent-width, 100%);
						max-width: 100%;						
						height: ${_}px;
						display: block;
						position: relative;
						contain: layout;
					}
					
					::slotted(media-item) {
						max-width: none;
						position: absolute;
						top: 0;
						left: 0;
						display: flex;
						flex-shrink: 0;
						flex-grow: 0;
					}

					::slotted(media-item)::part(sizing-frame){
						pointer-events:auto;						
					}

					${z.map((ee,ue)=>`::slotted(media-item[slot="slot-${ue}"]){
							width: ${ee.width};
							--base-translate: ${ee["--base-translate"]};
							--z-index: ${ee["--z-index"]};
						} `).join("")}						
					
					${g?`::slotted(media-item:hover) {
						z-index: 99999;	
					}`:""}
					
					#freeform-holder {
						position: absolute;
						inset: 0;
					}
				`}),m(ie,{children:[m("div",{id:"freeform-holder",ref:this.holderRef,children:L.map((ee,ue)=>m("slot",{name:`slot-${ue}`}))}),m(Dr,{values:{elWidth:"100%"},onResize:this.onResize})]}),r&&o.isEditing&&!le&&m(g5,{...e,gallerySpecificAttributes:["freeform-x","freeform-y","freeform-z","freeform-scale"],galleryInstance:n,galleryComponent:this,mediaItemOptions:Bi.mediaItemOptions,disabledMediaItemOptions:Bi.disabledMediaItemOptions,mediaItems:L,elWidth:E,elHeight:_,hoverPop:g,magneticSnap:v,magneticSnapMargin:S,attributeMap:q})]}),this.props.baseNode.shadowRoot)]})}componentDidUpdate(e,i){this.props.isMobile!==e.isMobile&&this.onItemResize()}onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n})};onItemResize=(e,i)=>{this.setState(r=>({sizeIncrement:r.sizeIncrement+1}))}},yse=Ut(So(De((t,e)=>({adminMode:t.frontendState.adminMode,isMobile:t.frontendState.isMobile}))(mg)));ri(yse,"gallery-freeform",["thumbnail-index","links-filter-index","show-tags","show-title","thumbnail-index-metadata","magnetic-snap","magnetic-snap-margin","hover-pop","mobile-grid","mobile-gutter","mobile-columns","mobile-horizontal-align","mobile-vertical-align"],{renderIntoShadow:!0});Bi={name:"freeform",displayName:"Freeform",tagName:"GALLERY-FREEFORM",disabledMediaItemOptions:["limit-by","scale"],nonAttributeValues:["horizontalShift","fitToWidth","zoom","shift-x","shift-y"],mediaItemOptions:[{type:"group",className:"grid-columns-even",children:[{labelName:"X",name:"shift-x",defaultValue:0,type:"scrubber",value:0,step:.05,numberOnlyMode:!0,onScrubEnd:function(){this.state.galleryParent?._freeformEditor?.commitTransform()}},{labelName:"Y",name:"shift-y",defaultValue:0,type:"scrubber",value:0,step:.05,numberOnlyMode:!0,onScrubEnd:function(){this.state.galleryParent?._freeformEditor?.commitTransform()}}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Width",name:"freeform-scale",type:"scrubber",value:20,step:.05,min:0,max:150,numberOnlyMode:!0},{labelName:"Bring to Front",name:"freeform-z",type:"button",onClick:function(t){CargoEditor.mutationManager.execute(()=>{let e=this.state.selectedMediaItems[0].closest("gallery-freeform");if(e){e._freeformEditor?.stackZ();let i=y5.default.sortBy(Array.from(e.querySelectorAll("media-item")),n=>parseInt(n.getAttribute("freeform-z")));this.state.selectedMediaItems.forEach(n=>{n.setAttribute("freeform-z",1+i.length)}),e._freeformEditor?.stackZ()}})}}]}],mobileOptions:[{type:"group",className:"grid-columns-auto",children:[{labelName:"Use Grid",name:"mobile-grid",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-auto",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Magnetic Snap",name:"magnetic-snap-margin",type:"scrubber",value:0,step:.05,suffix:"%",max:10,min:0,numberOnlyMode:!0,requirements:[{option:"magnetic-snap",shouldBe:!0}],renderWhenDisabled:!0},{labelName:"",className:"square",name:"magnetic-snap",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-even",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Pop on Hover",name:"hover-pop",type:"check-box",value:!1},{labelName:"Fit to Width",name:"fitToWidth",type:"button",onClick:function(t){t.preventDefault();let e=this.state.activeGallery;e&&e._freeformEditor?.setState({currentZoom:100},()=>{e._freeformEditor?.fitToWidth()})}}]},{type:"group",className:"grid-columns-even",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Shift",name:"horizontalShift",type:"scrubber",value:0,step:.05,suffix:"%",max:50,min:-50,numberOnlyMode:!0,onScrubEnd:function(t){this.state.activeGallery?._freeformEditor?.commitHorizontalShift()}},{labelName:"Zoom",name:"zoom",type:"scrubber",value:100,step:.1,suffix:"%",max:200,min:50,numberOnlyMode:!0,onScrubEnd:function(t){this.state.activeGallery?._freeformEditor?.commitZoom()}}]},{labelName:"Columns",name:"mobile-columns",type:"scrubber",value:2,min:1,max:12,step:1,numberOnlyMode:!0,requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Gutter",name:"mobile-gutter",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1}],options:[{type:"group",className:"grid-columns-auto",children:[{labelName:"Magnetic Snap",name:"magnetic-snap-margin",type:"scrubber",value:0,step:.05,suffix:"%",max:10,min:0,numberOnlyMode:!0,requirements:[{option:"magnetic-snap",shouldBe:!0}],renderWhenDisabled:!0},{labelName:"",className:"square",name:"magnetic-snap",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Pop on Hover",name:"hover-pop",type:"check-box",value:!1},{labelName:"Fit to Width",name:"fitToWidth",type:"button",onClick:function(t){t.preventDefault();let e=this.state.activeGallery;e&&e._freeformEditor?.setState({currentZoom:100},()=>{e._freeformEditor?.fitToWidth()})}}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Shift",name:"horizontalShift",type:"scrubber",value:0,step:.05,suffix:"%",max:50,min:-50,numberOnlyMode:!0,onScrubEnd:function(t){this.state?.activeGallery?._freeformEditor?.commitHorizontalShift()}},{labelName:"Zoom",name:"zoom",type:"scrubber",value:100,step:.1,suffix:"%",max:200,min:50,numberOnlyMode:!0,onScrubEnd:function(t){this.state?.activeGallery?._freeformEditor?.commitZoom()}}]}],onMediaItemChange:function(t){let e=this.state.galleryParent;return e?(Object.keys(t).forEach(i=>{let r=t[i];switch(i){case"shift-x":e._freeformEditor?.previewTransform({x:r,y:0},this.state.selectedMediaItems);break;case"shift-y":e._freeformEditor?.previewTransform({x:0,y:r},this.state.selectedMediaItems);break}}),{...t}):{...t}},onChange:function(t){let e=this.state.activeGallery;e&&Object.keys(t).forEach(i=>{let r=t[i];switch(i){case"horizontalShift":e._freeformEditor?.horizontalShift(r);break;case"zoom":e._freeformEditor?.zoom(r);break}})}};Bi.mediaItemDefaults=lt(Bi.mediaItemOptions);Bi.defaults=lt(Bi.options);Bi.mobileDefaults=lt(Bi.mobileOptions);mg.defaultProps={"show-tags":!0,"show-title":!0,"thumbnail-index":void 0,"magnetic-snap":Bi.defaults["magnetic-snap"].value,"magnetic-snap-margin":Bi.defaults["magnetic-snap-margin"].value,"hover-pop":Bi.defaults["hover-pop"].value,"mobile-grid":Bi.mobileDefaults["mobile-grid"].value,"mobile-gutter":Bi.mobileDefaults["mobile-gutter"].value,"mobile-columns":Bi.mobileDefaults["mobile-columns"].value,"mobile-horizontal-align":Bi.mobileDefaults["mobile-horizontal-align"].value,"mobile-vertical-align":Bi.mobileDefaults["mobile-vertical-align"].value}});var b5,Ox,w5,x5=T(()=>{_e();b5=he(xe(),1);Ft();zi();Tu();ne();Ox=class extends se{constructor(e){super(e),this.state={}}render(e,i){let{galleryInstance:r,gutterWidth:n,elWidth:o,mediaItems:l}=e;return m(wo,{...e,gallerySpecificAttributes:this.props.gallerySpecificAttributes,onAfterDrop:this.onAfterDrop,galleryInstance:r,disabledMediaItemOptions:["scale"],mediaItemEditorInfo:{disableResize:!0,disableButton:!1,additionalUI:this.props.isMobile?null:this.renderBracket}})}onBracketClick=(e,i,r)=>{this.dragStarted||(r&&(r.preventDefault(),qe.setHoveredElements([this.props.galleryInstance])),CargoEditor.mutationManager.execute(()=>{if(e)i.removeAttribute("justify-row-end");else{let n=i.previousSibling,o=1;for(;n;)n.nodeName==="MEDIA-ITEM"&&n.assignedSlot&&n.assignedSlot.parentElement.lastChild==n.assignedSlot&&n.setAttribute("justify-row-end","true"),n=n.previousSibling;i.setAttribute("justify-row-end","true")}}),this.props.incrementLayout&&this.props.incrementLayout())};renderBracket=(e,i)=>{let{gutterWidth:r,gutterHeight:n}=this.props,o=i.assignedSlot;if(!o)return null;let l=o.parentElement.lastChild==o,u=i.getAttribute("justify-row-end")==="true",c="pointer";return u||(c="e-resize"),m("div",{className:`justify-bracket${u?" row-end":""}`,style:{"--media-item-pad":-i._size.mediaItemSize.padSize*.5+-1+"px"},onClick:d=>{this.onBracketClick(u,i,d)},onMouseDown:d=>{this.onMouseDown(i,d)}})};componentWillUnmount(){this.setRow.cancel()}onMouseDown=(e,i)=>{let r=e.assignedSlot;if(!r)return;let{mediaItems:n}=this.props;i.preventDefault();let o=r.parentElement,l=Array.from(o.children);this.delta=0,this.initialPoint=i.clientX,this.rowItems=l,this.indexOfFirstInRow=n.indexOf(this.rowItems[0].assignedNodes()[0]),this.dragStarted=!1,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)};onPointerMove=e=>{let{mediaItems:i}=this.props;if(this.delta=e.clientX-this.initialPoint,!(Math.abs(this.delta)<3)){if(!this.dragStarted){qe.setHoveredElements([this.props.galleryInstance]),qe.lock(),document.body.classList.add("dragging");let r=i[this.indexOfFirstInRow-1];r&&this.onBracketClick(!1,r,null),this.attrCache=i.map(n=>n.getAttribute("justify-row-end")==="true")}this.dragStarted=!0,this.setRow()}};setRow=b5.default.throttle(()=>{CargoEditor.mutationManager.execute(()=>{let{elWidth:e,mediaItems:i,rowAlign:r}=this.props,n=e/12,o=Math.round(this.delta/n);(r=="fill"||r=="right")&&(o=o*-1);let l=Math.max(o+this.rowItems.length,1);qe.setHoveredElements([this.props.galleryInstance]),qe.lock(),this.attrCache.forEach((u,c)=>{c>=this.indexOfFirstInRow&&c<=this.indexOfFirstInRow+l&&(u=!1,(c==this.attrCache.length-1||c==this.indexOfFirstInRow+l+-1)&&(u=!0));let d=i[c],f=d.getAttribute("justify-row-end");u&&f!=="true"?d.setAttribute("justify-row-end",u):!u&&d.hasAttribute("justify-row-end")&&d.removeAttribute("justify-row-end")})}),this.props.incrementLayout&&this.props.incrementLayout()},80);onPointerUp=e=>{qe.unlock(),qe.testHover(),document.body.classList.remove("dragging"),this.setRow.cancel(),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp)};onAfterDrop=(e,i,r)=>{let n=!1,o=i,l=e[e.length-1],u=e[0];for(;l&&e.indexOf(l)>-1;)l=l.nextElementSibling;for(;u&&e.indexOf(u)>-1;)u=u.previousElementSibling;r.left>-1&&r.right>-1?(i===e[e.length-1]&&(l=e[e.length-1]),i===e[0].nextElementSibling&&(u=e[0])):r.left>-1&&r.right==-1?l=null:r.right>-1&&r.left==-1&&(u=null),u&&r.left>-1&&(u.getAttribute("justify-row-end")=="true"||u.getAttribute("justify-row-end")==!0)&&(u.removeAttribute("justify-row-end"),e[e.length-1].setAttribute("justify-row-end",!0))}},w5=Ox});var Dx,gg,_n,bse,Lx=T(()=>{_e();We();Ws();We();Us();ht();Mu();Ne();Ji();x5();Ti();Fi();Dx=he(xe(),1);ne();gg=class extends _i{constructor(e){super(e),this.state={isMobile:et.data.mobile.active,elWidth:0,gutterPixelWidth:0,gutterHeight:0,targetPxHeight:0,sizeIncrement:0,hasSizes:!1,renderLimit:150},this.paginationWatcherRef=ge(),this.paginationObserver=new IntersectionObserver(this.requestPagination,{root:this.props.scrollContext.scrollingElement===window?document:this.props.scrollContext.scrollingElement,rootMargin:screen.height*2+"px",threshold:[0,1]})}requestPagination=async e=>{if(this.isIntersecting=e[0].isIntersecting,!(this.isPaginating||this.state.renderLimit>=this.getMediaItems().length)){for(this.isPaginating=!0;this.isIntersecting;){let i=this.state.renderLimit+150;if(this.setState({renderLimit:i}),i>=this.getMediaItems().length)break;await new Promise(r=>setTimeout(r,200))}this.isPaginating=!1}};getMediaItems(){return Array.from(this.props.baseNode.children).filter(e=>e.nodeName=="MEDIA-ITEM")}render(e,i){let{gutterPixelWidth:r,gutterHeight:n,targetPxHeight:o,elHeight:l,isMobile:u,hasSizes:c}=i,{children:d,adminMode:f,pageInfo:g,baseNode:v}=e,{elWidth:S}=i;c||(S=this.props.baseNode.offsetWidth);let{"row-align":E,"row-height":_,gutter:P}=e;P=u&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter;let A="";u&&this.props["mobile-row-align"]!==void 0&&(E=this.props["mobile-row-align"],A="mobile-"),u&&this.props["mobile-row-height"]!==void 0&&(_=this.props["mobile-row-height"]);let L=P.split(" "),z=(L.length>1,L[0]);z.includes("rem")&&u&&(z="calc( var(--mobile-padding-offset, 1) * "+z+" )");let q=L.length>1?L[1]:L[0];q.includes("rem")&&u&&(q="calc( var(--mobile-padding-offset, 1) * "+q+" )");let H=Kt(_,"%").join(""),re=this.getMediaItems(),Q=re.slice(0,this.state.renderLimit),O=this.brickLayout(Q),ee=[];return re.forEach((ue,J)=>{let G=O.attributes[J]||{slot:null},D=ue._props||{};xo(ue,{...D,...G},D,!1,!1)}),m(ie,{children:[m(ie,{children:this.props.children}),Ke(m(ie,{children:[m("style",{children:`
* {
	box-sizing: border-box;
}

:host {
	width: var(--resize-parent-width, 100%);
	max-width: 100%;	
	position: relative;
	display: block;
	--gutter-width: ${r}px;
	--gutter-height: ${n}px;
	margin-top: calc(var(--gutter-expand, 0) * ${n}px );	
}

${O.shadowStyleMap.map((ue,J)=>`::slotted(media-item[slot="slot-${J}"]){
		${ue.style};
		${ue.itemStatuses.lastRow?"":"margin-bottom: var(--gutter-height);"}
		${ue.itemStatuses.lastChild?"":"margin-right: var(--gutter-width);"}
		${ue.itemStatuses.lastChild&&!ue.itemStatuses.orphanRow&&E==="fill"?`
			flex-grow: 1;
			--object-fit: fill;
		`:""}
	}`).join("")}

:host .justify-row {
	max-width: ${S+3}px;
	width: 100%;
	display:flex;
	flex-shrink: 0;
	align-items: stretch;
	justify-content: flex-start;
	position: relative;
	flex-wrap: nowrap;
}

:host .justify-row.orphan-row {
	width: ${O.orphanRowWidth}px;
	display: inline-flex;
}

::slotted(media-item) {
	position: relative;
	max-width: 100%;
	display: flex;
	flex-shrink: 0;
	flex-grow: 0;
}    


:host([${A}row-align="left"]) .justify-row {
	justify-content: flex-start;
}

:host([${A}row-align="right"]) .justify-row {
	justify-content: flex-end;
}

:host([${A}row-align="center"]) .justify-row {
	justify-content: center;
}

:host ::slotted(media-item.last-child), :host([${A}row-align="fill"]) ::slotted(media-item.last-child) {
	flex-grow: 1;
}

:host([${A}row-align="center"]) ::slotted(media-item.last-child),
:host([${A}row-align="left"]) ::slotted(media-item.last-child),
:host([${A}row-align="right"]) ::slotted(media-item.last-child) {
	flex-grow: 0;
}

					`}),m(Dr,{values:{targetPxHeight:H,gutterPixelWidth:z,gutterHeight:q,elWidth:"100%"},onResize:this.onResize}),O.shadow,f&&g.isEditing&&!le&&m(w5,{...e,isMobile:u,gallerySpecificAttributes:["justify-row-end"],galleryInstance:v,gutterWidth:r,gutterHeight:n,elWidth:S,rowHeight:H,rowAlign:E,mediaItems:re,incrementLayout:this.onItemResize}),m("div",{ref:this.paginationWatcherRef,class:"pagination-watcher"})]}),this.props.baseNode.shadowRoot)]})}onResize=(e,i)=>{e==="targetPxHeight"&&(i=Math.max(i,10)),this.setState({[e]:i,hasSizes:!0})};onMobileChange=e=>{this.setState({isMobile:e})};componentDidMount(){et.on("mobile-change",this.onMobileChange),this.props.baseNode._figureEditorInfo={disabledMediaItemOptions:_n.disabledMediaItemOptions,galleryParent:this.props.baseNode,galleryWidth:this.state.elWidth},this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.observe(this.paginationWatcherRef.current),this.props.onMount&&this.props.onMount()}componentWillUnmount(){et.off("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.unobserve(this.paginationWatcherRef.current)}onItemResize=e=>{this.setState(i=>({sizeIncrement:i.sizeIncrement+1}))};brickLayout=e=>{let i=window.devicePixelRatio>1?2:1,{isMobile:r}=this.state,{"row-align":n}=this.props;r&&this.props["mobile-row-align"]!==void 0&&(n=this.props["mobile-row-align"]);let o={},l=r&&this.props["mobile-row-height"]!==void 0&&this.props["mobile-row-height"]!==this.props["row-height"],u=!1,c=e.map((z,q)=>{let H=this.getItemSize(z,l);return this.getItemSize(z,l)});for(let z=c.length-1;z>=0;z--){let q=c[z];q.rowEnd||u?(q.inDesignatedRow=!0,u=!0):q.inDesignatedRow=!1}this.findValidRowCache={},this.makeNodes(0,0,null,o,c),this.findValidRowCache=null;let d=[],f=Dx.default.keys(o).sort(function(z,q){return parseInt(z)-parseInt(q)}),g=f[f.length-1];for(;g!=null;){let z=o[g];o[z.parent]&&(o[z.parent].path=o[z.parent].edges[g]),d.unshift(z),g=z.parent}let v=[],S=[],E=[],_=this.state.targetPxHeight,P=this.state.elWidth,A=this.state.gutterPixelWidth,L=0;return d.forEach((z,q)=>{let H=z.path,re=[];if(!H)return;let Q=0,O=!1;for(let ee=H.startIndex;ee<H.breakBefore;ee++){let ue=e[ee],J=H.breakBefore-H.startIndex,G=ee+1==H.breakBefore,D=this.getItemSize(ue,!1),V=D.mediaSize.padSize+D.mediaItemSize.padSize,K=(_+-V)/D.height||1,Y,oe;Y=D.width*K+V,oe=D.height*K+D.mediaSize.padSize;let $=P+-H.rowWidth;if(n!=="fill"||O)$=Math.min(0,$),L=H.rowWidth;else if($/P>.5&&G&&q==0&&!H.position=="forcebreak"){O=!0,ee=H.startIndex-1;continue}if($!==0){let ce=(Y+-V)/H.contentWidth,fe=H.rowWidth-H.contentWidth,me=P-fe;Y=ce*me,oe=Y*(D.height/D.width)+D.mediaSize.padSize,Y=Y+V}Y=Math.floor(Y*i)/i,Q=oe;let U={},X="";ee==H.startIndex&&(U.firstChild=!0),ee+1==H.breakBefore&&(U.lastChild=!0),q+2==d.length&&(U.lastRow=!0),U.orphanRow=O,E[ee]={style:`width: ${Y}px`,itemStatuses:U},S[ee]={slot:`slot-${ee}`,itemResize:this.onItemResize},re[ee]=m("slot",{name:`slot-${ee}`},`slot-${ee}`)}Q=Math.floor(Q*i)/i,v.push(m("div",{className:`justify-row${O?" orphan-row":""}`,style:{"--frame-padding":Q+"px"},children:re},`justify-row-${q}`))}),{shadow:v,attributes:S,shadowStyleMap:E,orphanRowWidth:L}};findValidRows=(e,i)=>{if(this.findValidRowCache[e])return this.findValidRowCache[e];e=parseInt(e);let r=e,n=0,o=0,l=0,u=0,c=0,d={},f=this.props["row-align"];this.state.isMobile&&this.props["mobile-row-align"]!==void 0&&(f=this.props["mobile-row-align"]);for(let g=e;g<i.length;g++){let v=l,S=u,E=i[g],_=E.mediaSize.padSize+E.mediaItemSize.padSize,P=(this.state.targetPxHeight+-_)/E.height;if(u=E.width*P,l=u+_,g===e?(c=1,n=l,o=l+-_):(n=n+this.state.gutterPixelWidth+l,o=o+u,c++),E.rowEnd){d[g+1]={position:"forcebreak",penalty:-9e9,itemCount:c,startIndex:e,breakBefore:g+1,rowWidth:n,contentWidth:o};break}else if(n>this.state.elWidth){if(E.inDesignatedRow)continue;d[g]={position:"under",itemCount:c+-1,penalty:0,startIndex:e,breakBefore:g,rowWidth:n+-(this.state.gutterPixelWidth+l),contentWidth:o-u},f==="fill"||g===e?d[g+1]={position:"over",penalty:0,itemCount:c,startIndex:e,breakBefore:g+1,rowWidth:n,contentWidth:o}:g-1>-1&&(d[g-1]={position:"oneunder",penalty:.11,itemCount:c+-2,startIndex:e,breakBefore:g-1,rowWidth:n+-(this.state.gutterPixelWidth*2+l+v),contentWidth:o-(u+S)});break}else if(g==i.length-1){f!=="fill"&&g==e?d[g+1]={position:"orphan",penalty:.5,itemCount:c,startIndex:e,breakBefore:g+1,rowWidth:n,contentWidth:o}:d[g+1]={position:"last",penalty:.06,itemCount:c,startIndex:e,breakBefore:g+1,rowWidth:n,contentWidth:o};break}else c+-2>0&&!E.inDesignatedRow&&f==="fill"&&(d.mid={position:"mid",penalty:.06,itemCount:c+-2,startIndex:e,breakBefore:g-1,rowWidth:n+-(this.state.gutterPixelWidth*2+l+v),contentWidth:o-(u+S)})}if(d.hasOwnProperty("mid")){let g=d.mid.breakBefore;!d.hasOwnProperty(g)&&i.length<15&&(d[d.mid.breakBefore]=d.mid),delete d.mid}for(let g in d){let v=d[g],S=v.rowWidth/this.state.elWidth;v.distance=Math.abs(1-S)*Math.abs(1-S)*Math.abs(1-S),isNaN(v.penalty)||(v.distance=v.distance+v.penalty)}return this.findValidRowCache[e]=d,d};makeNodes=(e,i,r,n,o)=>{if(e===-1)return;let l={index:parseInt(e),edges:this.findValidRows(e,o),distanceToFirstNode:i,parent:r},u=!1;if(n[e]?l.distanceToFirstNode<n[e].distanceToFirstNode&&(n[e]=l,u=!0):(n[e]=l,u=!0),u){let c=Dx.default.keys(l.edges);for(let d=0;d<c.length;d++){let f=l.edges[c[d]];this.makeNodes(parseInt(c[d]),f.distance+l.distanceToFirstNode,l.index,n,o)}}};getItemSize=(e,i)=>{let r=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};isNaN(r.width)&&(r.width=300),isNaN(r.height)&&(r.height=300);let n=e.getAttribute("justify-row-end")==="true"&&!i;return{...r,rowEnd:n}}},_n={name:"justify",displayName:"Justify",tagName:"GALLERY-JUSTIFY",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"End Row Here",name:"justify-row-end",type:"check-box",value:!0}],options:[{labelName:"Row Height",name:"row-height",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,allowCalc:!0,allowVar:!0,value:"20%",min:1,defaultUnit:"%",step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowedUnits:["px","%","rem","vmin","vmax","vw","vh","em"]},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{vw:30,vh:30,vmax:30,vmin:30,rem:20,em:20,px:300,etc:100},step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Row Align",name:"row-align",type:"radio",value:"fill",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"},{labelName:"Fill",iconName:"alignContentFill",value:"fill"}]},{type:"more-actions",children:[{labelName:"Clear Designated Rows",name:"clear-designated-rows",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),t.stopPropagation();let e=Array.from(this.state.activeGallery.children).filter(i=>i.hasAttribute("justify-row-end")||i.hasAttribute("justify-row-start"));CargoEditor.mutationManager.execute(()=>{e.forEach(i=>{i.removeAttribute("justify-row-end")})}),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor())}}]}],mobileOptions:[{labelName:"Row Height",name:"mobile-row-height",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,allowCalc:!0,allowVar:!0,value:"20%",min:1,defaultUnit:"%",allowedUnits:["px","%","rem","vmin","vmax","vw","vh","em"]},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Row Align",name:"mobile-row-align",type:"radio",value:"fill",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"},{labelName:"Fill",iconName:"alignContentFill",value:"fill"}]}]};_n.mediaItemDefaults=lt(_n.mediaItemOptions);_n.defaults=lt(_n.options);_n.mobileDefaults=lt(_n.mobileOptions);gg.defaultProps={"show-tags":!0,"show-title":!0,gutter:_n.defaults.gutter.value,"row-align":_n.defaults["row-align"].value,"row-height":_n.defaults["row-height"].value,"mobile-gutter":void 0,"mobile-row-height":void 0,"mobile-row-align":void 0};bse=Ut(So(De((t,e)=>({adminMode:t.frontendState.adminMode}))(gg)));ri(bse,"gallery-justify",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","row-align","row-height","gutter","mobile-gutter","mobile-row-height","mobile-row-align"],{renderIntoShadow:!0})});function wse(t,e){let i=e.pid;return{isMobileOnly:t.site.mobile_homepage_id==i||t.pages.byId[i]&&t.pages.byId[i].pin&&t.pages.byId[i].pin_options.screen_visibility==="mobile"}}var ar,vg,Fx,S5,_5=T(()=>{_e();ht();Fi();We();Ft();zi();Bs();go();Ti();Ne();ar=he(xe(),1);ne();vg=new Set;le||(window.addEventListener("mousedown",t=>{vg.forEach(e=>{e.setState({noPointerEvents:!0})})}),window.addEventListener("mouseup",t=>{vg.forEach(e=>{e.setState({noPointerEvents:!1})})}));Fx=class extends se{constructor(e){super(e),this.handleWidth=20,this.minHandleOverlap=3,this.maxColumns=12,this.state={noPointerEvents:!1,buttonHovered:!1,focused:!1,loaded:!1,adminWindow:!1,showGhost:!1,isDraggingHandle:!1,isDragging:!1,activeIndex:-1,pointerStart:{x:0,y:0},delta:{x:0,y:0},instanceRect:{width:100,height:100,left:-999,top:-999},referenceColumnSpans:[]},this.columnAddOrRemoveObserver=new MutationObserver(this.onColumnAddOrRemove),this.columnAddOrRemoveObserverConfig={attributes:!0,childList:!0,subtree:!1},this.columnObserver=new MutationObserver(this.onColumnChange),this.columnObserverConfig={attributeFilter:["span"],childList:!1,subtree:!1},this.columnCache=[],this.columnOutlineRef=ge(),this.gearReaf=ge(),this.addThreshold=0,this.removeThreshold=0,this.saveColumnSettings=ar.default.debounce(this.saveColumnSettings,150),this.updateColumns=ar.default.throttle(this.updateColumns,40)}render(e,i){let{emptyColumns:r,gutter:n,columnSpans:o,displaySpans:l,layoutColumns:u,unitsToRemove:c,isMobile:d,mobileStack:f,mobileHideEmpty:g,elWidth:v,gutterWidth:S}=e,{activeIndex:E,delta:_,isDraggingHandle:P,adminWindow:A,showGhost:L,loaded:z,buttonHovered:q,focused:H,noPointerEvents:re}=i,Q=ar.default.uniq(r).length==1&&r[0]==!0,O=ar.default.uniq(o).length==1&&o[0]==null,ee=(v-S*(u-1))/u,ue=o.length<u,J=[],D=u%o.length==0||!O?u:o.length-c;d&&f&&(D=1);let V=Math.max(0,(v-S*(D-1))/D),K=Math.max(1,S);V=V-(K-S);let Y=23;for(let oe=0;oe<D;oe++){let $=(V+K)*oe;J.push(m("div",{className:"ghost-span",style:{transform:`translateX(${$}px)`,opacity:L?.04:0,width:V+"px"}},`ghost-${oe}`))}return m(ie,{children:[m(qi,{baseNode:this.props.columnInstance}),m("style",{children:r.map((oe,$)=>oe?`
				::slotted(column-unit:nth-child(${$+1})){
					min-height: 1em;
				}`:"").join(`
`)}),m(Lr,{onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,buttonHeight:Y,buttonMode:"outside",baseNode:this.props.columnInstance,el:this.props.columnInstance,render:oe=>{let{pointerAttention:$,overlayPosition:U}=oe,X=0,te=0,ce=-Y,fe=2;return U.y<=Y&&(ce=U.height+1,U.height+U.y>et.data.window.h+-Y&&(ce=-U.y+et.data.window.h+-Y+1,fe=0)),m("div",{ref:this.columnOutlineRef,className:`editor-overlay editor-outline columns-outline${$?" hover":""}${$?" button-hover":""}${H?" focus":""}`,style:{transform:`translate3d(${U.x}px, ${U.y}px, 0)`,width:U.width+"px",height:U.height+"px",display:$||q||H?"block":"none"},children:[($||H||q)&&J,($||H||q)&&!(d&&f)?o.map((me,Ae)=>{let Ie=l[Ae];if(me||(me=u/o.length),Ae==o.length-1||Ie=="hide"||(X+=me,X>=u))return null;te+=ee*me+(me-1)*S+S;let Oe=`${te+-S*.5}px`,ze=this.handleWidth*-.5;return S<=this.handleWidth-this.minHandleOverlap&&(ze=S*-.5+-this.minHandleOverlap),m(ie,{children:[ue&&Ae<u&&m("div",{style:{pointerEvents:re?"none":"auto",display:$||H||q?"block":"none",transform:`translateX(${Oe})`,width:this.handleWidth+"px",marginLeft:`${ze}px`},className:"column-divider-handle",onMouseDown:at=>this.onMouseDown(at,Ae)}),m("div",{style:{display:$||H||q?"block":"none",transform:`translateX(${Oe})`,transition:P?"transform .08s cubic-bezier(0, 0, 0.2, 1)":""},className:"column-divider"},`col-${Ae}`)]})}):null,m("div",{className:"in-editor-buttons",style:{pointerEvents:re?"none":"auto",transform:`translate(${fe}px, ${ce}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:m("div",{className:"pointer-mask",children:[m("button",{className:"columns text",ref:this.gearReaf,onMouseDown:this.launchUIWindow,children:"Columns"}),(!d||this.props.isMobileOnly)&&m(ie,{children:[m("button",{onMouseDown:this.removeColumn,className:"remove",children:m("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:m("rect",{x:"4",y:"9.5",width:"12",height:"1",class:"button-fill"})})}),m("button",{onMouseDown:this.addColumn,className:`add ${o.length>=this.maxColumns?"disabled":""}`,children:m("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[m("rect",{x:"4",y:"9.5",width:"12",height:"1",class:"button-fill"}),m("rect",{x:"9.5",y:"4",width:"1",height:"12",class:"button-fill"})]})})]})]})})]})}})]})}launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.gearReaf.current.getBoundingClientRect(),r=this.props.columnInstance.getBoundingClientRect(),n={x:i.x+0,y:r.y+-190,left:i.left+0,right:i.right+0,top:r.top+0+-190,bottom:r.top+27+-190,width:i.width,height:i.height};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"columns-ineditor",windowAlias:"columns",supportsMobile:!0,positionRect:n,closeButton:!1,closeOnAllClickout:!0,props:{columnNodes:[this.props.columnInstance]}})};addColumn=e=>{e?.preventDefault(),e?.stopPropagation(),!(this.props.columnSpans.length>=this.maxColumns)&&(CargoEditor.mutationManager.execute(()=>{let i=this.columnCache.pop()||document.createElement("column-unit");i.removeAttribute("span"),i.removeAttribute("slot"),i.removeAttribute("data-discarded-column"),this.props.columnInstance.appendChild(i),this.addThreshold>1&&this.updateColumns(this.props.columnSpans.map(r=>{})),this.addThreshold++,clearTimeout(this.addTimeout),this.addTimeout=setTimeout(()=>{this.addThreshold=0},500)}),this.props.columnInstance.render(),this.saveColumnSettings())};removeColumn=e=>{e?.preventDefault(),e?.stopPropagation();let i=e?.altKey||!1,r=Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT");r.length!=0&&(CargoEditor.mutationManager.execute(()=>{if(this.props.columnSpans.length==1)Array.from(r[0].childNodes).forEach(n=>{this.props.columnInstance.parentNode.insertBefore(n,this.props.columnInstance)}),this.props.columnInstance.parentNode.insertBefore(document.createElement("br"),this.props.columnInstance),this.props.columnInstance.remove();else{let n=r[r.length-1];if(i){let o=r[r.length-2];Array.from(n.childNodes).forEach(l=>{o.appendChild(l)})}this.columnCache.push(n.cloneNode(!0)),this.waiting=!0,n.remove(),n.setAttribute("data-discarded-column",!0),this.removeThreshold>1&&this.updateColumns(this.props.columnSpans.map(o=>{})),this.removeThreshold++,clearTimeout(this.removeTimeout),this.removeTimeout=setTimeout(()=>{this.removeThreshold=0},500)}}),this.props.columnInstance.render())};updateUIWindowPosition=e=>{!this.state.focused||!this.state.UIWindow||(this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow.props.superBadScrollHack.scroll(e))};onMouseDown=(e,i)=>{e.button!=2&&(this.props.columnSpans.length<2||(e.preventDefault(),e.stopPropagation(),this.setState({showGhost:!0,isDraggingHandle:!0,activeIndex:i,pointerStart:{x:e.clientX,y:e.clientY},referenceColumnSpans:this.props.columnSpans,instanceRect:this.props.columnInstance.getBoundingClientRect()},()=>{this.dragTimeout=setTimeout(()=>{document.body.classList.add("dragging")},100),be.adminWindow.addEventListener("pointermove",this.onPointerMove),be.adminWindow.addEventListener("pointercancel",this.onPointerUp),be.adminWindow.addEventListener("mouseup",this.onPointerUp),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointercancel",this.onPointerUp),window.addEventListener("mouseup",this.onPointerUp)})))};onPointerUp=e=>{clearTimeout(this.dragTimeout),be.adminWindow.removeEventListener("pointermove",this.onPointerMove),be.adminWindow.removeEventListener("pointercancel",this.onPointerUp),be.adminWindow.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("pointercancel",this.onPointerUp),window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),this.setState({showGhost:!1,isDraggingHandle:!1,activeIndex:-1,delta:{x:0,y:0}}),document.body.classList.remove("dragging")};onPointerMove=e=>{e.preventDefault();let{activeIndex:i,pointerStart:r,instanceRect:n,referenceColumnSpans:o,isDraggingHandle:l}=this.state,{gutterWidth:u,displaySpans:c,unitsToRemove:d,layoutColumns:f,units:g}=this.props;if(l){let v=[...o];if(ar.default.uniq(o).length==1&&o[0]==null){let O=0,ee=0,ue=0,J=g/v.length-Math.floor(g/v.length),G=Math.floor(g/v.length),D=v.map((V,K)=>{ee=ee+J;let Y=G;return ee>1&&(Y=Y+1,ee=ee-1),K==v.length-1&&(Y=g-O),O=O+Y,Y});this.setState({referenceColumnSpans:D});return}let E=(n.width-u*(f-1))/f,_=0,P=[];v.forEach((O,ee)=>{O||(O=f/v.length);let ue=E*O+(O-1)*u;(ee==i||ee==i+1)&&P.push({x:_,width:ue}),c[ee]!="hide"&&(_+=ue+u)});let A=20,{left:L}=n,z={x:e.clientX-(P[1].x+L+-u*.5),y:e.clientY-r.y},q=v.map((O,ee)=>{let ue=O,J=E*O+(O-1)*u;return ee==i?(ue=(J+z.x+u)/(E+u),Math.round(Math.max(Math.min(ue,g-1),1))):c[ee]=="hide"?O:Math.round(Math.max(Math.min(ue,g-1),1))}),H=i+1;for(;c[H]=="hide";)H++;let re=ar.default.sum(q)-q[H];q[H]=g-re,q[H]==0&&(q[H]+=1,q[i]-=1),ar.default.uniq(q).length==1&&ar.default.sum(q)==g&&(q=q.map(O=>{})),Math.abs(z.x)>4&&this.updateColumns(q),this.setState({delta:z})}};checkColumns=()=>{let{layoutColumns:e,columnSpans:i,units:r}=this.props;if(i.length==0||ar.default.uniq(i).length==1&&i[0]==null)return;let o=i.includes(void 0),l=ar.default.sum(i),u=[...i],c=!1;if(l!=r||o){if(l>r)c=!0;else if(l<=r)if(o){let f=r-l,g=i.filter(S=>S==null).length,v=Math.floor(f/g);i.forEach((S,E)=>{if(E==i.length-1&&f>0)u[E]=f;else if(S==null&&f==0){let _=E;for(;_>=0&&i[_]<2||i[_]==null;)_--;i[_]>1?(u[E]=Math.floor(i[_]/2),u[_]=i[_]-u[E]):c=!0}else S==null?(u[E]=v,f-=v):u[E]=S})}else{let f=r-l;u[u.length-1]=f+u[u.length-1]}(ar.default.uniq(u).length==1&&ar.default.sum(u)==r||c)&&(u=u.map(f=>{})),this.updateColumns(u)}else this.updateColumns(i)};updateColumns=e=>{let i=Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT"),r=[];i.forEach((n,o)=>{e[o]==null?r.push([n,null]):parseInt(n.getAttribute("span"))!=e[o]&&r.push([n,e[o]])}),r.length>0&&(CargoEditor?.mutationManager?.execute(()=>{r.forEach(([n,o])=>{o===null?n.removeAttribute("span"):n.setAttribute("span",o)})}),this.saveColumnSettings(),this.props.columnInstance.render())};saveColumnSettings=()=>{be.adminWindow.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{session:{"last-column-settings":this.getColumnInfo()}}})};onDragOver=(e,i,r)=>{r.fromOutside&&!r.inAdmin?(qe.activateHoverElement(this.props.columnInstance),qe.lockItem(this.props.columnInstance)):(qe.unlockItem(this.props.columnInstance),qe.deactivateHoverElement(this.props.columnInstance))};onDragStart=(e,i,r)=>{qe.activateHoverElement(this.props.columnInstance),qe.lockItem(this.props.columnInstance)};onDragEnd=(e,i)=>{qe.unlockItem(this.props.columnInstance),qe.testHover()};componentDidUpdate(e,i){(!ar.default.isEqual(e.columnSpans,this.props.columnSpans)||e.layoutColumns+e.unitsToRemove!=this.props.layoutColumns+this.props.unitsToRemove)&&(Math.abs(e.layoutColumns+e.unitsToRemove-(this.props.layoutColumns+this.props.unitsToRemove))>2?this.updateColumns(this.props.columnSpans.map(r=>{})):this.checkColumns()),(e.gutter!==this.props.gutter||e["mobile-gutter"]!==this.props["mobile-gutter"])&&this.updateEditorRect()}updateEditorRect=ar.default.throttle(()=>{qe.updateElementRect(this.props.columnInstance)},120,{leading:!0,trailing:!0});getColumnInfo=()=>({columnSizes:this.props.columnSpans.map(e=>e??0),units:this.props.units,columns:this.props.columnSpans.length,emptySet:ar.default.uniq(this.props.emptyColumns).length==1&&this.props.emptyColumns[0]==!0});onColumnAddOrRemove=e=>{let i=!1;e.forEach(r=>{Array.from(r.addedNodes).find(n=>n.tagName=="COLUMN-UNIT")&&(i=!0),Array.from(r.removedNodes).find(n=>n.tagName=="COLUMN-UNIT")&&(i=!0)}),i&&(this.columnObserver.disconnect(),i&&(Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT").forEach(n=>{this.columnObserver.observe(n,this.columnObserverConfig)}),this.state.UIWindow?.setState?.({activeSettings:this.state.UIWindow.getColumnSettingsFromNodes()}))),this.state.UIWindow?.onMutation?.(),this.props.columnInstance.render()};onColumnChange=e=>{let i=!0;e.forEach(r=>{r.type=="attributes"&&r.attributeName==="span"&&(i=!0)}),i&&(this.props.columnInstance.render(),this.state.UIWindow?.onMutation?.())};setColumns=e=>{let i=Array.from(this.props.columnInstance.children).filter(o=>o.tagName=="COLUMN-UNIT"),r=i.length;if(r!=e){if(r<e)for(var n=0;n<e-r;n++){let o=this.columnCache.pop()||document.createElement("column-unit");o.removeAttribute("span"),this.props.columnInstance.appendChild(o)}else if(e<r)for(var n=r-1;n>=e;n--){let l=i[n];this.columnCache.push(l.cloneNode(!0)),l.setAttribute("data-discarded-column",!0),l.remove()}this.saveColumnSettings()}};resetColumns=()=>{this.updateColumns(this.props.columnSpans.map(e=>{}))};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount(){vg.add(this),be.globalDragEventController.on("dragover",this.onDragOver),be.globalDragEventController.on("dragstart",this.onDragStart),be.globalDragEventController.on("dragend",this.onDragEnd),be.globalDragEventController.on("drop",this.onDragEnd),this.columnAddOrRemoveObserver.observe(this.props.columnInstance,this.columnAddOrRemoveObserverConfig),Array.from(this.props.columnInstance.children).filter(r=>r.tagName=="COLUMN-UNIT").forEach(r=>{this.columnObserver.observe(r,this.columnObserverConfig)}),this.checkColumns(),this.props.columnInstance._editorInterface=this;let i=[];if(Array.from(this.props.columnInstance.childNodes).forEach((r,n)=>{r.tagName!=="COLUMN-UNIT"&&(this.props.columnInstance.removeChild(r),i.push(r))}),i.length>0&&console.warn("removed stray elements from column set",i),this.props.columnInstance._newColumnSet){delete this.props.columnInstance._newColumnSet,qe.activateHoverElement(this.props.columnInstance),qe.lockItem(this.props.columnInstance);let r=n=>{this.showOutlinesTimeout=setTimeout(()=>{qe.unlockItem(this.props.columnInstance),qe.testHover()},500),window.removeEventListener("mousedown",r)};window.addEventListener("mousedown",r)}this.testHoverTimeout=setTimeout(()=>{qe.testHover()},300)}componentWillUnmount(){vg.delete(this),clearTimeout(this.testHoverTimeout),this.state.UIWindow?.closeWindow?.(),clearTimeout(this.showOutlinesTimeout),this.updateColumns.cancel(),this.columnAddOrRemoveObserver.disconnect(),this.columnObserver.disconnect(),be.globalDragEventController.off("dragover",this.onDragOver),be.globalDragEventController.off("dragstart",this.onDragStart),be.globalDragEventController.off("dragend",this.onDragEnd),be.globalDragEventController.off("drop",this.onDragEnd),delete this.props.columnInstance._editorInterface}};S5=Ut(De(wse,null)(Fx))});var E5,yg,xse,C5=T(()=>{_e();We();ht();Ne();Us();Ti();cg();Ws();E5=he(xe(),1);Ji();Fi();Ya();_5();ne();yg=class extends se{constructor(e){super(e),this.state={mobileActive:et.data.mobile.active,elWidth:0,gutterWidth:0,hasSizes:!1,incrementLayout:0},this.props.baseNode.render=()=>{this.setState({incrementLayout:this.state.incrementLayout++})}}render(e,i){let{adminMode:r,baseNode:n,pageInfo:o,"mobile-stack":l,"mobile-hide-empty":u,"mobile-gutter":c,units:d}=e,{gutterWidth:f,mobileActive:g,hasSizes:v}=i,{elWidth:S}=i;v||(S=this.props.baseNode.offsetWidth);let E=[],_="";g?c===void 0?(E=Kt(e.gutter,"rem"),E[1].indexOf("calc(")>-1?_=E[1].replace("calc(","("):_=E.join(""),_="calc( var(--mobile-padding-offset, 1) * "+_+" )"):(E=Kt(c,"rem"),_=E.join(""),_.includes("rem")&&(_="calc( var(--mobile-padding-offset, 1) * "+_+" )")):(E=Kt(e.gutter,"rem"),_=E.join(""));let P=Array.from(n.children).filter(G=>G.nodeName==="COLUMN-UNIT"&&!G.hasAttribute("data-discarded-column"));Array.from(n.children).filter(G=>G.nodeName==="COLUMN-UNIT"&&G.hasAttribute("data-discarded-column")).forEach(G=>{G.remove()});let L=P.map(G=>!Array.from(G.childNodes).some(D=>D.nodeType===Node.ELEMENT_NODE||D.nodeType===Node.TEXT_NODE&&D.nodeValue.trim().length>0)),z=P.map(G=>parseInt(G.getAttribute("span"))||void 0),q=0,H=z.map((G,D)=>(g&&L[D]&&(u||l)?(q=q+(parseInt(G)||1),G="hide"):G=G||"uniform",G)),re=H.filter(G=>G=="uniform"||G=="hide").length==H.length,Q=Math.max(P.length,this.props.units);re&&(q=H.filter(G=>G=="hide").length),Q=Q-q;let{columnAndGutterMap:O,columnWidth:ee,gutterPixelWidth:ue}=Ou(re?P.length-q:Q,f,S),J="";if(g&&l){J=`::slotted(column-unit){
				--column-width: ${S}px;
				--resize-parent-width: ${S}px;

			}`;let G=E5.default.findLastIndex(H,D=>D!=="hide");H.forEach((D,V)=>{D=="hide"?J+=`
					::slotted(column-unit[slot="${V}"]) {
						display: none;
					}`:V<G&&(J+=`
					::slotted(column-unit[slot="${V}"]) {
						margin-bottom: ${ue}px;
					}`)})}else{let G=0;J=H.map((D,V)=>{let K,Y;switch(D){case"uniform":return K=O[G]?.right-O[G]?.left||10,G+=1,`::slotted(column-unit[slot="${V}"]) {
							--column-width: ${K}px;
							--resize-parent-width: ${K}px;
						}`;case"hide":return`::slotted(column-unit[slot="${V}"]) {
							display: none;
						}`;default:return K=O[G+(D+-1)]?.right-O[G]?.left||10,G+=D,`::slotted(column-unit[slot="${V}"]) {
							--column-width: ${K}px;
							--resize-parent-width: ${K}px;
						}`}}).join(`
				`)}return P.forEach((G,D)=>{G.setAttribute("slot",D)}),Ke(m(ie,{children:[m(xn,{adminMode:r,baseNode:n,customElementMode:!0,children:[m("style",{children:`
						:host{
							visibility: ${v?"visible":"hidden"};
			 				--columns-gutter: ${ue}px;
							margin-top: calc(var(--gutter-expand, 0) * ${ue}px);
		
							position: relative;
							display: block;
							contain: layout;
						}
						.column-host {
							${g&&l?`
									display: block;
								`:`
									display: flex;
								    align-items: stretch;
								    justify-content: flex-start;							
									flex-direction: row;
									flex-wrap: nowrap;							
								`}
							position: relative;
							width: 100%;
							clear: both;
						}				
					`}),m("style",{children:`
		
						::slotted(column-unit:not(:last-child)) {
						    margin-right: ${g&&l?0:ue+"px"};
						}
		
						::slotted(column-unit) {
							display: block;
							word-wrap: break-word;
							position: relative;
						    max-width: 100%;   
						    flex-grow: 0;
						    flex-shrink: 0;
						    flex-basis: var(--column-width);
						    width: var(--column-width);
						}
		
						::slotted(column-unit:last-child) {
						    flex-grow: 1;
						}
		
						${J}				
					`}),m(Dr,{values:{elWidth:"100%",gutterWidth:_},onResize:this.onResize}),m("div",{class:"column-host",children:P.map((G,D)=>m("slot",{name:D}))})]}),r&&o.isEditing&&!le&&m(S5,{elWidth:S,gutterWidth:f,emptyColumns:L,isMobile:g,mobileStack:l,mobileHideEmpty:u,layoutColumns:Q,units:d,columnSpans:z,unitsToRemove:q,displaySpans:H,gutter:_,columnInstance:n})]}),this.props.baseNode.shadowRoot)}onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n.hasSizes=!0,n})};onMobileChange=e=>{this.setState({mobileActive:e})};componentDidMount(){et.on("mobile-change",this.onMobileChange)}componentWillUnmount(){et.off("mobile-change",this.onMobileChange)}};yg.defaultProps={units:12,gutter:"1rem","mobile-stack":!0,"mobile-hide-empty":!1,"mobile-gutter":void 0};xse=Ut(De((t,e)=>({adminMode:t.frontendState.adminMode}))(yg));ri(xse,"column-set",["units","gutter","mobile-gutter","mobile-stack","mobile-hide-empty"])});var lOe,zx,P5,I5=T(()=>{_e();We();Ft();Bs();zi();lOe=he(xe(),1);go();ne();zx=class extends se{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:null,focused:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,showInsertionIndicator:!1}}render(e,i){let{audioPlayerInstance:r}=e,{draggingOver:n,showInsertionIndicator:o,buttonHovered:l,focused:u}=i,c=23;return m(ie,{children:[m("style",{id:"audio-player-editor",children:`::selection{
						background-color:transparent;
					}
					:host(::selection) {
						background-color:transparent;
					}`}),m(Lr,{hasFocus:u,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,baseNode:this.props.audioPlayerInstance,render:d=>{let{pointerAttention:f,overlayPosition:g}=d,v=0;return g.y<=1&&(v=Math.min(-g.y+1,g.height+-c+1)),m(ie,{children:[m(qi,{baseNode:r,overlayPosition:g,inFront:!1,overlayMode:!0}),m("div",{className:`editor-overlay editor-outline${f?" hover":""}${f?" button-hover":""}${u?" focus":""}`,style:{transform:`translate3d(${g.x}px, ${g.y}px, 0)`,width:g.width+"px",height:g.height+"px",display:f||l||u?"block":"none",minHeight:"27px"},children:[m("div",{className:"in-editor-buttons audio-player",style:{transform:`translateY(${v}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[m("button",{onMouseDown:S=>{this.launchUIWindow(S)},ref:this.AudioPlayerButtonRef,className:"text",children:"Audio Player"}),e.children]}),e.otherUI]})]})}})]})}launchUIWindow=(e,i)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.audioPlayerInstance.getBoundingClientRect(),n={x:r.x,y:r.y,left:r.right,right:r.right,top:r.top-10,bottom:r.top+27,width:r.width,height:10};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"audioplayer-ineditor",windowAlias:"audioplayer",positionRect:n,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!1,props:{audioPlayerNode:this.props.audioPlayerInstance}})};scrollIntoView=()=>{let e=this.props.audioPlayerInstance.getBoundingClientRect();(e.bottom<0||e.top>window.innerHeight)&&this.props.audioPlayerInstance.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})};updateUIWindowPosition=e=>{this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount=()=>{this.props.audioPlayerInstance._editorInterface=this};componentWillUnmount=()=>{this.state.UIWindow?.closeWindow?.(),delete this.props.audioPlayerInstance._editorInterface}},P5=zx});var yOe,qx,Qd,Hx,Sse,A5=T(()=>{_e();We();Ca();yOe=he(xe(),1);Ne();ht();Ji();Fi();I5();ne();le||(qx=new ResizeObserver(t=>{t.forEach(e=>{if(Qd.has(e.target)){let i=Qd.get(e.target),r=e.borderBoxSize[0]||e.borderBoxSize;i.setState({size:{width:r.inlineSize,height:r.blockSize}})}})}));Qd=new Map,Hx=class extends se{constructor(e){super(e);let i=this.getFiletype(e.src);this.audio_track=ge(),this.bar=ge(),this.track_buffer=ge(),this.current_time=ge(),this.progressIndicator=ge(),this.state={size:{width:100,height:100},mounted:i!=="stream",filetype:i,seeking:!1,mouseInteractionDisabled:!1,mouseMoveActive:!1,dragging:!1,streaming:!1,paused:!0,playing:!1,started:!1,ended:!1,preventTransition:!1,currentProgress:0,currentBuffer:0,remainingBuffer:0,currentTime:"0:00",rawTimeStamp:0,totalTime:"0:00",progress:0,hasError:!1,hasMetadata:!1}}render(e,i){let{baseNode:r,adminMode:n,label:o,loop:l,"total-time":u,"playback-time":c,"seek-controls":d,"browser-default":f,pageInfo:g}=e,{visible:v}=i,S=!this.state.paused||this.state.started,E=this.props.src?this.props.src:null;return Ke(m(ie,{children:[n&&g.isEditing&&m(P5,{audioPlayerInstance:r}),m("style",{children:`
					* {
				    	box-sizing: border-box;						
					}

					:host {
						--audio-player-progress: ${this.state.currentProgress/100||0};
						--audio-player-buffer-progress: ${this.state.currentBuffer/100||0};
						--audio-player-buffer-remaining: ${this.state.remainingBuffer/100||0};
						max-width: 100%;
						${f?`
						    width: 400px;
						    `:`
						    position: relative;
						    display: inline-flex;
						    align-items: stretch;
						    width: 100%;`}
					}

					${f&&`
					audio {
						width: 100%;
					}

					[part="time-bar"], 
					[part="button"],
					[part="separator"]{
						display:none!important;
					}						
					`}



					[part="buffer"],
					[part="progress"] {
						display: ${S&&!this.state.streaming?"block":"none"};
					}

					[part="label"] {
						display: ${this.state.paused&&!this.state.started?"block":"none"};
					}

					[part="current-time"] {
						display: ${!this.state.streaming&&this.state.started?"block":"none"};
					}

					[part="stream-anim"] {
						display: ${S&&this.state.streaming?"block":"none"};
					}

					[part="total-time"] {
						display: ${S&&!this.state.streaming?"block":"none"};
					}

					[part="buffer"]{
						left: calc( var(--audio-player-buffer-progress, 0) * 100% );
						width: calc( var(--audio-player-buffer-remaining, 0) * 100% );
					}

					[part="progress"]{
						width: calc( var(--audio-player-progress, 0) * 100% );
					}

					[part="stream-anim"] > span {
					  animation-name: period;
					  animation-duration: 1.5s;
					  animation-iteration-count: infinite;
					  animation-timing-function: steps(2, end);  
					}

					[part="stream-anim"] > span:before {
						content: '.';
					}

					[part="stream-anim"] > span:nth-child(1){
					  animation-delay: -.4s;
					}

					[part="stream-anim"] > span:nth-child(2){
					  animation-delay: -.2s;
					}

					[part="stream-anim"] > span:nth-child(3){
					  animation-delay: 0s;
					}

					@keyframes period {
					  from {
					    visibility: hidden;
					  }
					  to {
					    visibility: visible;
					  }
					   
					}					
				
					`}),m("div",{part:"button",onClick:_=>this.togglePlay(_),children:m("svg",{"vector-effect":"non-scaling-stroke",part:this.state.paused?"play-icon icon":"pause-icon icon",x:"0px",y:"0px",viewBox:this.state.paused?"0 0 11.3 12":"0 0 10 12",children:this.state.paused?m("polygon",{points:"0 0 0 12 11.3 6 0 0",part:"play-icon-path icon-path"}):m(ie,{children:[m("polygon",{part:"pause-icon-path icon-path",points:"0 0 0 12 1 12 4 12 4 0 1 0 0 0"}),m("polygon",{part:"pause-icon-path icon-path",points:"9 0 6 0 6 12 9 12 10 12 10 0 9 0"})]})})}),m("div",{part:"separator",children:"\xA0"}),m("div",{draggable:this.props.adminMode?"true":null,part:"time-bar",ref:this.bar,onMouseDown:_=>this.onMouseDown(_),onTouchStart:_=>this.onMouseDown(_),onTouchEnd:_=>this.onMouseUp(_),children:[m("div",{ref:this.track_buffer,part:"buffer",children:" "}),m("div",{part:"progress",children:m("div",{ref:this.progressIndicator,part:"progress-indicator"})}),m("div",{part:"label",children:this.state.hasError?"Unable to load file":m(ie,{children:this.props.label})}),m("div",{part:"current-time",ref:this.current_time,children:this.state.currentTime}),m("div",{part:"stream-anim",children:[m("span",{part:"animated-period period-one"}),m("span",{part:"animated-period period-two"}),m("span",{part:"animated-period period-three"})]}),m("div",{part:"total-time",children:this.state.totalTime})]}),m("audio",{draggable:this.props.adminMode?"true":null,part:"audio-element",controls:f===!0,src:this.state.mounted?E:null,ref:this.audio_track,loop:this.props.loop===!0||this.props.loop==="true"?!0:void 0,preload:this.state.filetype==="file"?"metadata":null,onProgress:_=>this.onProgress(_),onLoadedMetaData:_=>this.onLoadedMetadata(_),onTimeUpdate:_=>this.updatePlayerTime(_),onSeeking:_=>this.onSeekStart(_),onSeeked:_=>this.onSeekEnd(_),onEnded:_=>this.onTrackEnd(_),onError:_=>this.onError(_),onCanPlay:_=>this.clearError(_)})]}),r.shadowRoot)}disableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!0})};enableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!1})};setPlayState=e=>{this.setState({playing:!0,paused:!1,started:!0,streaming:this.state.filetype==="stream"},()=>{this.props.baseNode.setAttribute("status",this.state.filetype==="stream"?"streaming":"playing")})};setPauseState=e=>{this.setState({paused:!0},()=>{this.props.baseNode.setAttribute("status","stopped")}),this.state.streaming&&this.setInitialState()};setInitialState=(e,i)=>{this.state.streaming&&this.setState({started:!1}),this.setState({playing:!1,paused:!0,animIndex:0,currentTime:0,currentProgress:0,currentBuffer:0,remainingBuffer:0,rawTimeStamp:0},()=>{this.props.baseNode.setAttribute("status",i?.error===!0?"error":"stopped")})};onMouseDown=e=>{this.state.mouseInteractionDisabled||this.state.streaming||e.button===2||this.state.started===!1||(e.preventDefault(),document.body.classList.add("audio-player-dragging"),this.calculateProgressPosition(e),this.setState({mouseMoveActive:!0,preventTransition:!0,dragging:!1}),this.bar.current.addEventListener("mousemove",this.onMouseInteraction),this.bar.current.addEventListener("touchmove",this.onMouseInteraction),window.addEventListener("mousemove",this.onMouseInteraction),window.addEventListener("mouseup",this.onMouseUp))};calculateProgressPosition=e=>{let i=this.bar.current.getBoundingClientRect(),r=e.clientX||e.touches[0].clientX;r<i.left?this.audio_track.current.currentTime=0:r>i.right?this.audio_track.current.currentTime=this.audio_track.current.duration:this.audio_track.current.currentTime=this.audio_track.current.duration*((r-i.left)/this.state.size.width),this.updatePlayerTime()};onMouseInteraction=e=>{this.state.mouseInteractionDisabled||this.state.streaming||!this.state.started||!this.state.mouseMoveActive||this.audio_track.current.readyState===this.audio_track.current.HAVE_NOTHING||(this.calculateProgressPosition(e),this.setState({dragging:!0}))};onMouseUp=e=>{document.body.classList.remove("audio-player-dragging"),this.state.dragging===!0&&(!this.state.mouseInteractionDisabled&&!this.state.streaming&&this.state.started&&this.state.mouseMoveActive&&this.audio_track.current.readyState!==this.audio_track.current.HAVE_NOTHING&&this.calculateProgressPosition(e),this.state.paused===!1&&this.state.started===!0&&(this.audio_track.current.currentTime>=this.audio_track.current.duration-.001?this.setPauseState():this.audio_track.current.play())),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseInteraction),this.bar.current.removeEventListener("mousemove",this.onMouseInteraction),this.bar.current.removeEventListener("touchmove",this.onMouseInteraction),this.setState({dragging:!1,mouseMoveActive:!1})};onSeekStart=e=>{this.setState({seeking:!0})};onSeekEnd=e=>{this.setState({seeking:!1})};togglePlay=e=>{if(!(this.state.mouseInteractionDisabled||!this.state.mounted))if(this.audio_track.current.paused){let i=this.audio_track.current.play();Qd.forEach((r,n)=>{r!==this&&(r.audio_track.current.pause(),r.setPauseState())}),i?i.then(function(){this.setPlayState(),this.setState({preventTransition:!1})}.bind(this)).catch(this.onError).finally(function(){this.setState({preventTransition:!0})}.bind(this)):this.setPlayState()}else this.audio_track.current.pause(),this.setPauseState()};onError=e=>{this.props.adminMode||(this.setState({hasError:!0},()=>{this.setInitialState(null,{error:!0})}),e instanceof DOMException&&console.error(e))};clearError=e=>{this.state.hasError&&this.setState({hasError:!1},()=>{this.setInitialState(null,{error:!1})})};onTrackEnd=e=>{this.state.dragging!==!0&&(this.setState({ended:!0}),this.setPauseState())};onLoadedMetadata=e=>{if(!this.audio_track.current)return;let i=this.timestampToHumanReadable(this.audio_track.current.duration);this.setState({totalTime:i,streaming:!1,hasMetadata:!0},()=>{this.props.baseNode.setAttribute("status","stopped")})};onProgress=e=>{this.audio_track.current&&(this.state.filetype==="stream"?this.setState({totalTime:0,streaming:!0,hasMetadata:!0},()=>{this.props.baseNode.setAttribute("status","streaming")}):this.setState({streaming:!1},()=>{this.props.baseNode.setAttribute("status","playing")}),this.updateBufferSize())};updatePlayerTime=e=>{if(cancelAnimationFrame(this.updateFrame),!this.state.started||!this.audio_track.current||this.audio_track.current.readyState===this.audio_track.current.HAVE_NOTHING)return;this.setState({rawTimeStamp:this.audio_track.current.currentTime});let{"browser-default":i}=this.props;if(i)return;let r=!1,n=this.audio_track.current.currentTime,o=this.timestampToHumanReadable(n),l=n/this.audio_track.current.duration*100,u=this.state.size.width,c=parseInt(window.getComputedStyle(this.progressIndicator.current).width);(this.props.loop==="true"||this.props.loop===!0)&&(l>=99.5||l===0)&&(r=!0),u*(l/100)<c&&(l=(100-l)*(c/u)),this.setState(d=>{let f=l;return d.dragging&&Math.abs(d.currentProgress-l)>1&&(f=l*.1+d.currentProgress*.9),this.updateBufferSize(.01*f*this.audio_track.current.duration),{currentTime:o,currentBuffer:f,currentProgress:f,preventTransition:r}}),this.state.dragging&&(this.updateFrame=requestAnimationFrame(this.updatePlayerTime))};getFiletype=(e="")=>{let i=!1;try{i=new URL(e).pathname.split("/").pop()?.indexOf(".")>-1}catch(n){console.error(n)}return i&&["m3u","pls","m3u8","asx"].some(n=>e.toLowerCase().endsWith(n))?"playlist":i?"file":"stream"};updateBufferSize=e=>{if(!this.audio_track.current)return;let i,r=e||this.audio_track.current.currentTime,n=0;for(var o=0;o<this.audio_track.current.buffered.length;o++)if(r>=this.audio_track.current.buffered.start(o)&&r<=this.audio_track.current.buffered.end(o)){i=Math.max(this.audio_track.current.buffered.end(o)-r,0),n=i/this.audio_track.current.duration*100;break}n!==0&&(n+=1),this.setState({remainingBuffer:n})};timestampToHumanReadable=e=>{if(isNaN(e))return"0:00";var i=Math.floor(e%60),r=Math.floor(e/60),n=Math.floor(r/60);return i<10&&(i="0"+i),n>0?(r=r-n*60,r<10&&(r="0"+r),n+":"+r+":"+i):r+":"+i};onDragStart=e=>{this.setState({started:!1}),this.audio_track.current.pause(),this.setInitialState(),e.dataTransfer.setData("audio-player-drag","true")};componentDidMount(){this.setPauseState(),this.state.mounted||setTimeout(()=>{this.setState({mounted:!0})},this.state.filetype==="stream"?2e3:0),le||(this.props.baseNode.addEventListener("dragstart",this.onDragStart),Qd.set(this.bar.current,this),qx.observe(this.bar.current))}componentDidUpdate(e){e.src!==this.props.src&&(this.setState({filetype:this.getFiletype(this.props.src)}),e.src&&e.src.substring(0,5)==="blob:"&&(this.state.rawTimeStamp!==0&&(this.audio_track.current.currentTime=this.state.rawTimeStamp),this.state.paused===!1&&this.audio_track.current.play()))}componentWillUnmount(){le||(this.props.baseNode.removeEventListener("dragstart",this.onDragStart),Qd.delete(this.bar.current),qx.unobserve(this.bar.current)),window.removeEventListener("mouseup",this.onMouseUp)}},Sse=Ut(De((t,e)=>({adminMode:t.frontendState.adminMode}))(Hx));ri(Sse,"audio-player",["src","label","loop","total-time","playback-time","seek-controls","browser-default"])});var Bx,_se,Ese,Du,Ux,Wx,T5,M5=T(()=>{_e();We();Ft();Bs();zi();go();Ne();Bx=he(xe(),1);ne();_se=["{day}, {month-name} {day-of-month}, {year} {hour}:{minute} {period}","{hour}:{minute}:{second} {period}","{hour}:{minute}:{second}","{day-of-month}-{month}-{year}","{day-of-month} {month-name} {year}","{month-name} {day-of-month}, {year}","{month}/{day-of-month}/{year}","{day-of-month}/{month}/{year}","{time-of-day} of the {ordinal}"],Ese={day:"Day","day-of-month":"Day of Month",ordinal:"Ordinal Date",month:"Month","month-name":"Name of Month",period:"AM/PM",year:"Year",hour:"Hour",minute:"Minute",second:"Second",centisecond:"Centisecond","roman-year":"Year in Roman Numerals","time-of-day":"Time of Day"},Du=new Set,Ux=Bx.default.debounce(()=>{let t=Array.from(Du),e=[],i=t.filter(o=>o.state.selected).length>1,r=0;if(i){let o=t.map(u=>{let c;return u.state.selected?c=u.props.baseNode.getBoundingClientRect():c={top:-9e9},{component:u,rect:c}});e=Bx.default.sortBy(o,(u,c)=>u.rect.top);let l=e.filter(u=>u.component.state.selected);r=l[l.length-1].rect.bottom+-l[0].rect.top,e=e.map(u=>u.component)}else e=t;let n=!1;e.forEach(o=>{!i||!o.state.selected?o.setState({pointerProxyAttention:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,multiSelectHeight:null}):n?o.setState({partOfMultipleSelection:!0,showMultipleSelectionButton:!1,multiSelectHeight:null}):(o.setState({pointerProxyAttention:!0,partOfMultipleSelection:!0,showMultipleSelectionButton:!0,multiSelectHeight:r}),n=!0)})},100);le||(CargoEditor&&Object.keys(CargoEditor||{}).length>0?CargoEditor.events.on("cursor-activity",Ux):window.addEventListener("CargoEditor-load",function(){CargoEditor.events.on("cursor-activity",Ux)}),document.addEventListener("selectionchange",Ux));Wx=class extends se{constructor(e){super(e),this.state={UIWindow:!1,showMultipleSelectionButton:!1,partOfMultipleSelection:!1,fontSizePx:16,lineHeightPx:24,selected:!1}}render(e,i){let{}=e,{UIWindow:r,showMultipleSelectionButton:n,partOfMultipleSelection:o,pointerProxyAttention:l,fontSizePx:u,lineHeightPx:c}=i,d,f=0,g=this.state.showMultipleSelectionButton&&this.state.multiSelectHeight;return m(ie,{children:[m("style",{id:"digital-clock-editor",children:`::selection{
						background-color:transparent;
					}
					:host(::selection) {
						background-color:transparent;
					}`}),m(qi,{baseNode:this.props.clockInstance,overlayMode:!1,onSelectionChange:this.onSelectionChange}),m(Lr,{hasFocus:!!r,trackResize:!0,buttonMode:"inside",baseNode:this.props.clockInstance,buttonHeight:0,onPointerIn:this.pointerIn,onPointerOut:this.pointerOut,render:v=>{let{pointerAttention:S,overlayPosition:E}=v,_=0;return E.y<=1&&(_=Math.min(-E.y+1,E.height+-f+1)),n&&o?d=m("button",{style:{transform:`translateY(${_}px)`},"data-editor-overlay":"true",class:`${E.height<30?"small":""} clock-button multiple`,onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,onMouseUp:this.onOptionsButtonContextMenu,children:"Edit Multiple"}):!n&&!o&&(d=m("button",{style:{transform:`translateY(${_}px)`},"data-editor-overlay":"true",class:`${E.height<30?"small":""} clock-button`,onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,children:m("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("circle",{className:"inner-circle",cx:"8.5",cy:"8.65747",r:"7.5"}),m("circle",{className:"outer-circle",cx:"8.5",cy:"8.65747",r:"8"}),m("circle",{className:"dot",cx:"8.49977",cy:"8.65747",r:"1"}),m("circle",{className:"dot",cx:"5.07",cy:"8.65747",r:"1"}),m("circle",{className:"dot",cx:"11.9295",cy:"8.65747",r:"1"})]})})),m(ie,{children:m("div",{className:`editor-overlay ${n?"edit-multiple":""} digital-clock editor-outline${S||r?" hover":""}${S||r?" button-hover":""}${r?" focus":""}`,style:{transform:`translate3d(${E.x}px, ${E.y}px, 0)`,width:E.width+"px",height:g?this.state.multiSelectHeight:E.height+"px"},children:[d,e.children]})})}})]})}onOptionsButtonContextMenu=e=>{e.metaKey||e.preventDefault()};onMouseDown=e=>{e.button==2&&!e.metaKey&&(e.preventDefault(),this.launchUIWindow(e))};onOptionsButtonClick=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation(),this.launchUIWindow()}};launchUIWindow=e=>{let i=this.props.clockInstance.getBoundingClientRect(),r=document.documentElement.clientHeight,n=document.documentElement.clientWidth,o=this.props.clockInstance.getAttribute("value"),u=_se.includes(o)||o?.indexOf?.("{")===-1?270:360,c=220,d=15,f=i.left,g=i.top,v={x:i.left,y:i.top,left:i.left,right:i.left,top:i.top,bottom:i.top+27,width:0,height:10};r-i.bottom>u+d?g=i.top+i.height+d:r-(i.bottom+-i.height*.5)>u+d?g=i.top+i.height*.5+d:i.top>u+-d&&(g=i.top+-u+-d),n-i.left<c&&(f=i.left-c),v.x=f,v.left=f,v.right=f,v.width=0,v.height=0,v.y=g,v.top=g,v.bottom=g,be.adminWindow.UIWindowOpener.openUIWindow({windowName:"digital-clock",positionRect:v,closeButton:!1,closeOnSingleClickout:!0,ignoreEditorWindowClickout:!1,supportsMobile:!1,props:{clickedElement:this.props.clockInstance,elements:Array.from(Du).filter(S=>S.state.selected||S.props.clockInstance===this.props.clockInstance).map(S=>S.props.clockInstance)}})};pointerIn=()=>{this.state.selected&&Du.forEach(i=>{i.state.showMultipleSelectionButton&&i.setState({pointerProxyAttention:!0})});let e=window.getComputedStyle(this.props.clockInstance);this.setState({fontSizePx:e.getPropertyValue("font-size"),lineHeightPx:e.getPropertyValue("line-height"),pointerAttention:!0})};pointerOut=()=>{this.state.selected&&Du.forEach(e=>{e.state.pointerProxyAttention&&e.setState({pointerProxyAttention:!1})}),this.setState({pointerAttention:!1})};onSelectionChange=e=>{!e&&this.state.showMultipleSelectionButton&&this.setState({pointerProxyAttention:!1,showMultipleSelectionButton:!1}),this.setState({selected:e})};setUIWindow=e=>{this.setState({UIWindow:e})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidMount(){Du.add(this),this.props.clockInstance._editorInterface=this,this.props.clockInstance._newClock&&(delete this.props.clockInstance._newClock,setTimeout(()=>{this.launchUIWindow()},10)),this.props.clockInstance.addEventListener("contextmenu",this.onMouseDown)}componentWillUnmount(){this.props.clockInstance.removeEventListener("contextmenu",this.onMouseDown),Du.delete(this),this.state.UIWindow?.closeWindow?.(),delete this.props.clockInstance._editorInterface}componentDidUpdate(e,i){this.props.value!==e.value&&this.props.clockInstance.getAttribute("value")&&this.state.UIWindow?.setState?.({customVal:Ese.hasOwnProperty(this.props.value)?"{"+this.props.value+"}":this.props.value})}},T5=Wx});var JOe,ep,bg,Cse,Pse,Ise,R5,wg,Ase,N5=T(()=>{_e();We();ht();Ne();Fi();Ti();_r();M5();JOe=he(xe(),1);Ji();ne();ep=new Set,bg=null,Cse=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Pse=["january","february","march","april","may","june","july","august","september","october","november","december"],Ise=["time-of-day","day","day-of-month","ordinal","month","month-name","period","roman-year","year","hour","minute","second","centisecond"],R5=t=>{ep.forEach(e=>{let i=new Date;e.updateTime(i)}),bg=requestAnimationFrame(R5)},wg=class extends se{constructor(e){super(e),this.state={}}romanize(e){if(isNaN(e))return NaN;for(var i=String(+e).split(""),r=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],n="",o=3;o--;)n=(r[+i.pop()+o*10]||"")+n;return Array(+i.join("")+1).join("M")+n}pad=e=>e<10?"0"+e:e.toString();dateTerms=(e,i)=>{switch(e){case"{time-of-day}":return m("span",{part:"time-of-day section"},"time-of-day-"+i);case"{day-of-month}":return m("span",{part:"day-of-month section",children:this.state["day-of-month"]},"day-of-month-"+i);case"{ordinal}":return m("span",{part:"ordinal section"},"ordinal"+i);case"{month}":return m("span",{part:"month section",children:this.state.month},"month-"+i);case"{day}":return m("span",{part:"day section"},"day-"+i);case"{roman-year}":return m("span",{part:"roman-year section",children:this.state.romanYear},"roman-year-"+i);case"{centisecond}":return m("span",{part:"centisecond section",children:this.state.centisecond},"roman-year-"+i);case"{year}":return m("span",{part:"year section",children:this.state.year},"year-"+i);case"{month-name}":return m("span",{part:"month-name section"},"month-name-"+i);case"{hour}":return m("span",{part:"hour section",children:this.props["twentyfour-hour"]?this.state["24hour"]:this.state["12hour"]},"hour-"+i);case"{minute}":return m("span",{part:"minute section",children:this.state.minute},"minute-"+i);case"{second}":return m("span",{part:"second section",children:this.state.second},"second-"+i);case"{period}":return m("span",{part:"period section"},"period-"+i)}return null};updateTime=e=>{let i=this.props["pad-hour"]||this.props.pad,r=this.props["pad-minute"]||this.props.pad,n=this.props["pad-second"]||this.props.pad,o=this.props["pad-day-of-month"]||this.props.pad,l=this.props["pad-month"]||this.props.pad;if(this.props.timezone!=="local"){let P=e.getTimezoneOffset(),A=this.props.timezone;if(this.props.timezone.indexOf(":")>-1){let q=this.props.timezone.split(":");q.length=2,A=parseFloat(q[0])+parseFloat(q[1]||0)/60}let L=-(-P-parseFloat(A*60))||0,z=Date.now();e=new Date(z+L*6e4)}let u=o?this.pad(e.getDate()):e.getDate(),c=Cse[e.getDay()],d=e.getMonth(),f=e.getFullYear(),g=e.getHours(),v=e.getMinutes(),S=e.getSeconds(),E=e.getMilliseconds(),_=Math.floor(g/3)*3;this.setState({day:c,"day-of-month":u,"time-of-day":_+"-"+(parseInt(_)+3),ordinal:u,"month-name":Pse[d],month:l?this.pad(d+1):d+1,romanYear:this.romanize(f),year:this.props["truncate-year"]?f.toString().substring(2,4):f,period:g>=12?"pm":"am","12hour":i?this.pad(g%12==0?12:g%12):g%12==0?12:g%12,"24hour":i?this.pad(g):g,minute:r?this.pad(v):v,second:n?this.pad(S):S,centisecond:this.pad(Math.floor(E/10))})};render(e,i){let{pageInfo:r,adminMode:n,value:o}=this.props,l=[],u;if(o.indexOf("{")==-1&&(u=this.dateTerms("{"+o+"}")),u)l.push(u);else{let c=new RegExp("{"+Ise.join("}|{")+"}","gi"),d=[...o.matchAll(c)],f=0;d.length==0?l.push(this.dateTerms("{second}")):d.forEach((g,v)=>{let S=this.dateTerms(g[0],g.index);S&&(f!=g.index&&l.push(m("span",{part:"text",children:o.substring(f,g.index)},g.index)),f=g.index+g[0].length,l.push(S)),v===d.length-1&&l.push(m("span",{part:"text",children:o.substring(f,o.length)},g.index+"-last"))})}return Ke(m(ie,{children:[n&&r.isEditing&&!le&&m(T5,{...this.props,clockInstance:this.props.baseNode}),m("style",{children:`

					:host {

						--0-3: "late night";
						--3-6: "early morning";
						--6-9: "morning";
						--9-12: "late morning";
						--12-15: "afternoon";
						--15-18: "late afternoon";
						--18-21: "evening";
						--21-24: "late evening";

						--am: "AM";
						--pm: "PM";

						--sunday: "Sunday";
						--monday: "Monday";
						--tuesday: "Tuesday";
						--wednesday: "Wednesday";
						--thursday: "Thursday";
						--friday: "Friday";
						--saturday: "Saturday";

						--january: "January";
						--february: "February";
						--march: "March";
						--april: "April";
						--may: "May";
						--june: "June";
						--july: "July";
						--august: "August";
						--september: "September";
						--october: "October";
						--november: "November";
						--december: "December";

						--ordinal-1: "first";
						--ordinal-2: "second";
						--ordinal-3: "third";
						--ordinal-4: "fourth";
						--ordinal-5: "fifth";
						--ordinal-6: "sixth";
						--ordinal-7: "seventh";
						--ordinal-8: "eighth";
						--ordinal-9: "ninth";
						--ordinal-10: "tenth";
						--ordinal-11: "eleventh";
						--ordinal-12: "twelfth";
						--ordinal-13: "thirteenth";
						--ordinal-14: "fourteenth";
						--ordinal-15: "fifteenth";
						--ordinal-16: "sixteenth";
						--ordinal-17: "seventeenth";
						--ordinal-18: "eighteenth";
						--ordinal-19: "nineteenth";
						--ordinal-20: "twentieth";
						--ordinal-21: "twenty-first";
						--ordinal-22: "twenty-second";
						--ordinal-23: "twenty-third";
						--ordinal-24: "twenty-fourth";
						--ordinal-25: "twenty-fifth";
						--ordinal-26: "twenty-sixth";
						--ordinal-27: "twenty-seventh";
						--ordinal-28: "twenty-eighth";
						--ordinal-29: "twenty-ninth";
						--ordinal-30: "thirtieth";
						--ordinal-31: "thirty-first";

						cursor: inherit;
					    display: inline-block;
					    position: relative;
					}

					[part*="section"]{
						font-variant: tabular-nums;
					}

					[part="ordinal section"]:after {
						content: var(--ordinal-${this.state["day-of-month"]}, "${this.state["day-of-month"]}");
					}

					[part="time-of-day section"]:before {
						content: var(--${this.state["time-of-day"]});
					}

					[part="period section"]:before {
						content: var(--${this.state.period});
					}				

					[part="day section"]:before {
						content: var(--${this.state.day});
					}

					[part="time-of-day section"]:before {
						content: var(--${this.state["time-of-day"]});
					}

					span[part="month-name section"]:before {
						content: var(--${this.state["month-name"]});
					}

					
				`}),l]}),this.props.baseNode.shadowRoot)}onViewportIntersectionChange=e=>{let i=e.position==="inside";this.setState({visible:i})};componentDidMount(){Xt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),ep.size==0&&(cancelAnimationFrame(bg),bg=requestAnimationFrame(R5)),this.updateTime(new Date),ep.add(this)}componentDidUpdate(e,i){}componentWillUnmount(){ii(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),ep.delete(this),ep.size==0&&cancelAnimationFrame(bg)}};wg.defaultProps={pad:!1,"pad-day-of-month":!1,"pad-hour":!1,"pad-month":!1,"pad-minute":!0,"pad-second":!0,"twentyfour-hour":!1,"truncate-year":!1,timezone:"local",value:"second"};Ase=Ut(De((t,e)=>({adminMode:t.frontendState.adminMode}))(wg));ri(Ase,"digital-clock",["pad-day-of-month","pad-hour","pad-month","pad-minute","pad-second","twentyfour-hour","truncate-year","pad","timezone","analogue","value"],{renderIntoShadow:!0})});var hDe,Vx,$x,k5=T(()=>{_e();We();Ft();Bs();zi();hDe=he(xe(),1);go();ne();Vx=class extends se{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:null,focused:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,showInsertionIndicator:!1}}render(e,i){let{shopProductInstance:r}=e,{draggingOver:n,showInsertionIndicator:o,buttonHovered:l,focused:u}=i;return m(ie,{children:m(Lr,{hasFocus:u,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,baseNode:this.props.shopProductInstance,render:c=>{let{pointerAttention:d,overlayPosition:f}=c;return m(ie,{children:[m(qi,{baseNode:r,overlayPosition:f,inFront:!1,overlayMode:!0}),m("div",{className:`editor-overlay editor-outline${d?" hover":""}${d?" button-hover":""}${u?" focus":""}`,style:{transform:`translate3d(${f.x}px, ${f.y}px, 0)`,width:f.width+"px",height:f.height+"px",display:d||l||u?"block":"none",minHeight:"27px"},children:[m("div",{className:"in-editor-buttons audio-player",style:{transform:`translateY(${f.dip}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[m("button",{onMouseDown:g=>{this.launchUIWindow(g)},ref:this.AudioPlayerButtonRef,className:"text",children:"Product"}),e.children]}),e.otherUI]})]})}})})}launchUIWindow=(e,i)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.shopProductInstance.getBoundingClientRect(),n={x:r.x,y:r.y,left:r.right,right:r.right,top:r.top-10,bottom:r.top+27,width:r.width,height:20};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"shopproduct-ineditor",windowAlias:"commerce",positionRect:n,closeButton:!1,closeOnAllClickout:!1,ignoreEditorWindowClickout:!1,closeOnSingleClickout:!0,supportsMobile:!0,props:{shopProductNode:this.props.shopProductInstance}})};scrollIntoView=()=>{let e=this.props.shopProductInstance.getBoundingClientRect();(e.bottom<0||e.top>window.innerHeight)&&this.props.shopProductInstance.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount=()=>{this.props.shopProductInstance._editorInterface=this};componentWillUnmount=()=>{this.state.UIWindow?.closeWindow?.(),delete this.props.shopProductInstance._editorInterface}},$x=Vx});function kse(t,e,i,r){var n;if(r!==void 0&&(t=t*r),typeof e!="string")n=t/100+"";else{var o=["BIF","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","VND","VUV","XAF","XOF","XPF"],l={AED:"\u062F.\u0625",AFN:"\u060B",ALL:"L",AMD:"\u058F",ANG:"\u0192",AOA:"Kz",ARS:"$",AUD:"$",AWG:"\u0192",AZN:"\u20BC",BAM:"KM",BBD:"$",BDT:"\u09F3",BGN:"\u043B\u0432",BHD:".\u062F.\u0628",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BRL:"R$",BSD:"$",BTC:"\u0E3F",BTN:"Nu.",BWP:"P",BYR:"p.",BZD:"BZ$",CAD:"$",CDF:"FC",CHF:"CHF",CLP:"$",CNY:"\xA5",COP:"$",CRC:"\u20A1",CUC:"$",CUP:"\u20B1",CVE:"$",CZK:"K\u010D",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"\u062F\u062C",EEK:"kr",EGP:"\xA3",ERN:"Nfk",ETB:"Br",ETH:"\u039E",EUR:"\u20AC",FJD:"$",FKP:"\xA3",GBP:"\xA3",GEL:"\u20BE",GGP:"\xA3",GHC:"\u20B5",GHS:"GH\u20B5",GIP:"\xA3",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"\u20AA",IMP:"\xA3",INR:"\u20B9",IQD:"\u0639.\u062F",IRR:"\uFDFC",ISK:"kr",JEP:"\xA3",JMD:"J$",JOD:"JD",JPY:"\xA5",KES:"KSh",KGS:"\u043B\u0432",KHR:"\u17DB",KMF:"CF",KPW:"\u20A9",KRW:"\u20A9",KWD:"KD",KYD:"$",KZT:"\u043B\u0432",LAK:"\u20AD",LBP:"\xA3",LKR:"\u20A8",LRD:"$",LSL:"M",LTC:"\u0141",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"\u0434\u0435\u043D",MMK:"K",MNT:"\u20AE",MOP:"MOP$",MRO:"UM",MUR:"\u20A8",MVR:"Rf",MWK:"MK",MXN:"$",MYR:"RM",MZN:"MT",NAD:"$",NGN:"\u20A6",NIO:"C$",NOK:"kr",NPR:"\u20A8",NZD:"$",OMR:"\uFDFC",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"\u20B1",PKR:"\u20A8",PLN:"z\u0142",PYG:"Gs",QAR:"\uFDFC",RMB:"\uFFE5",RON:"lei",RSD:"\u0414\u0438\u043D.",RUB:"\u20BD",RWF:"R\u20A3",SAR:"\uFDFC",SBD:"$",SCR:"\u20A8",SDG:"\u062C.\u0633.",SEK:"kr",SGD:"$",SHP:"\xA3",SLL:"Le",SOS:"S",SRD:"$",SSP:"\xA3",STD:"Db",SVC:"$",SYP:"\xA3",SZL:"E",THB:"\u0E3F",TJS:"SM",TMT:"T",TND:"\u062F.\u062A",TOP:"T$",TRL:"\u20A4",TRY:"\u20BA",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"\u20B4",UGX:"USh",USD:"$",UYU:"$U",UZS:"\u043B\u0432",VEF:"Bs",VND:"\u20AB",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"\u0243",XCD:"$",XOF:"CFA",XPF:"\u20A3",YER:"\uFDFC",ZAR:"R",ZWD:"Z$"};e=e.toUpperCase(),o.indexOf(e)===-1&&(t/=100),typeof Intl<"u"?n=new Intl.NumberFormat(i,{style:"currency",currency:e,currencyDisplay:"symbol",useGrouping:!0,minimumFractionDigits:0}).format(t):n=(l.hasOwnProperty(e)?l[e]:e+" ")+""+t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}if(typeof n=="string"&&n.indexOf(".")!==-1){var u=n.split(".");u.length===2&&u[1].length===1&&(u[1]=u[1]+"0",n=u.join("."))}return n}var lr,O5,Tse,Mse,Rse,rl,jx,xg,Nse,Gx,Ose,D5=T(()=>{_e();We();Ca();lr=he(xe(),1);Ne();ht();ai();Ji();Fi();js();k5();Ya();Sr();ne();O5="Product not found",Tse="Out of Stock",Mse="Add to Cart",Rse="Unavailable",rl={buttonInStockText:"button-text",showPrice:"show-price",mergevariantdropdowns:"combine-variants",product:"product"},jx=[],xg=null,Nse=t=>(xg||(xg=new Promise((e,i)=>{requestAnimationFrame(()=>{Mt.dispatch(actions.fetchCommerceProducts({idArray:jx})).then(e).catch(i),jx.length=0,xg=null})})),jx.push(t),xg);Gx=class extends se{constructor(e){super(e),this.uid=lr.default.uniqueId(),this.state={loading:!0,selectedVariant:null},this.props.fetchShopModel().finally(()=>{this.fetchProduct().finally(()=>{this.setState({loading:!1})})}),this.props.baseNode.__commerce_widget__=this}render(){let e=this.getOptions(),{baseNode:i,adminMode:r}=this.props;if(!this.props.productData)return this.state.loading?null:Ke(m(ie,{children:[this.props.adminMode&&this.props.pageInfo.isEditing&&m($x,{shopProductInstance:this.props.baseNode}),m("div",{draggable:"true",style:{display:"inline-block",width:"100%"},children:O5})]}),this.props.baseNode.shadowRoot);let n=this.state.selectedVariant?.inventory!==null&&this.state.selectedVariant?.inventory<=0,o=this.props.uses||"";return Ke(m(xn,{uses:o,adminMode:r,customElementMode:!0,baseNode:i,children:m("div",{draggable:"true",style:{display:"inline-block",width:"100%"},children:[this.props.adminMode&&m($x,{shopProductInstance:this.props.baseNode}),this.props.productData?m(ie,{children:[e.showPrice&&this.state.selectedVariant&&m("div",{part:"price",class:"price",children:kse(this.state.selectedVariant.price,this.props.currency,this.props.locale)}),this.props.productData.attributes?e.mergevariantdropdowns?m("select",{part:"dropdown",class:"dropdown","variant-list":!0,onChange:this.getSelectedVariant,children:this.props.productData.variants.map(l=>l.is_default?null:m("option",{value:l.variant_id,dangerouslySetInnerHTML:{__html:lr.default.values(l.attributes).join(", ").replace(/</g,"&lt;")}}))}):lr.default.keys(this.props.productData.attributes).map(l=>m("select",{"variant-option":l,part:"dropdown",class:"dropdown",onChange:this.getSelectedVariant,children:[m("option",{disabled:!0,dangerouslySetInnerHTML:{__html:l?.replace?.(/</g,"&lt;")}}),this.getAttributeVariations(l).map(u=>m("option",{selected:this.state.selectedVariant?.attributes[l]===u,value:u,dangerouslySetInnerHTML:{__html:u?.replace?.(/</g,"&lt;")}}))]})):null,m("a",{part:"button",className:`button${n?" out-of-stock":""}`,onClick:l=>{n||this.addToCart(l)},children:n?Tse:this.state.selectedVariant?e.buttonInStockText:Rse})]}):O5]})},"shop-product-host"),this.props.baseNode.shadowRoot)}onDragStart=e=>{e.dataTransfer.setData("shop-product-drag","true")};getAttributeVariations(e){var i=lr.default.without(lr.default.uniq(this.props.productData.variants.map(function(n){if(n.is_available===!0&&n.is_default!==!0)return n.attributes[e]})),void 0),r=this.props.productData.attributes[e];return r&&i.sort(function(n,o){var l=r.indexOf(n),u=r.indexOf(o);return l<u?-1:l==u?0:1}),i}getProduct(){return this.props.productData}getOptions(){if(this.props.baseNode.hasAttribute("data-options"))try{let i=JSON.parse(lr.default.unescape(this.props.baseNode.getAttribute("data-options")));lr.default.each(i,(r,n)=>{rl[n]&&!this.props.baseNode.hasAttribute(rl[n])&&this.props.baseNode.setAttribute(rl[n],lr.default.escape(r))}),this.props.baseNode.removeAttribute("data-options")}catch{console.error("Unable to read old product widget options",this.props.baseNode)}let e=lr.default.mapValues(rl,(i,r)=>{if(!this.props.baseNode.hasAttribute(i))return;let n=lr.default.unescape(this.props.baseNode.getAttribute(i));return(r==="showPrice"||r==="mergevariantdropdowns")&&(n=n=="true"),n});return lr.default.defaults(e,{showPrice:!0,mergevariantdropdowns:!1,buttonInStockText:Mse}),e}setOptions(e){lr.default.each(e,(i,r)=>{rl.hasOwnProperty(r)&&this.props.baseNode.setAttribute(rl[r],lr.default.escape(i))})}addToCart=e=>{this.props.adminMode||(this.props.addCommerceProductToCart(this.state.selectedVariant.product_id,this.state.selectedVariant.variant_id),Kn.push("/cart",{preventScrollReset:!0}))};fetchProduct(){return this.props.productData&&this.props.productData.product_id==this.props.product||!this.props.product||!this.props.shopId?Promise.resolve():Nse(this.props.product)}getSelectedVariant=()=>{let e=null;if(this.props.productData)if(this.props.productData.use_default_variant)e=this.props.productData.variants.find(r=>r.is_default===!0);else if(this.getOptions().mergevariantdropdowns){let r=this.props.baseNode.shadowRoot.querySelector("select[variant-list]")?.value;e=this.props.productData.variants.find(n=>n.variant_id==r)}else{var i=lr.default.reduce(this.props.baseNode.shadowRoot.querySelectorAll("select[variant-option]"),function(r,n){return r[n.getAttribute("variant-option")]=n.value,r},{});e=this.props.productData.variants.find(r=>lr.default.isEqual(r.attributes,i))}this.state.selectedVariant!==e&&this.setState({selectedVariant:e})};componentDidUpdate(e,i){this.state.selectedVariant===i.selectedVariant&&this.getSelectedVariant()}componentDidMount(){this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.getSelectedVariant()}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStart)}},Ose=Ut(De((t,e)=>({adminMode:t.frontendState.adminMode,productData:t.commerce.products[e.product],currency:t.commerce.shop.currency||"USD",locale:t.commerce.shop.locale||"en-US",shopId:t.site.shop_id}),t=>Ct({addCommerceProductToCart:actions.addCommerceProductToCart,fetchShopModel:actions.fetchShopModel},t))(Gx));ri(Ose,"shop-product",Object.values(rl),{renderIntoShadow:!0})});var Kx,L5,F5=T(()=>{_e();ne();Kx=class extends se{constructor(e){super(e),this.caveRef=ge(),this.shadowRef=ge()}render(){return m("div",{"aria-hidden":"true",ref:this.caveRef,tabIndex:"-1","data-nosnippet":!0,style:{position:"absolute",top:"0",left:"50px",right:"50px",margin:"0 auto 0 auto",height:"10px",lineHeight:"0",fontSize:0,pointerEvents:"none",zIndex:-99},children:m("div",{ref:this.shadowRef,tabIndex:"-1","data-nosnippet":!0,style:{display:"inline-block",margin:"0 -20px 0 -50px",width:"40px",height:"10px"}})})}componentDidMount(e,i){this.observer=new IntersectionObserver(r=>{r.forEach(n=>{let o="right";switch(n.intersectionRatio){case 0:o="left";break;case 1:o="center";break}this.props.onTextAlignmentChange?.(o)})},{root:this.caveRef.current,rootMargin:"0px",threshold:[0,.6]}),this.observer.observe(this.shadowRef.current)}componentWillUnmount(){this.observer.disconnect()}},L5=Kx});var z5,Yx,q5,H5=T(()=>{_e();We();Ft();Bs();zi();go();_r();z5=he(xe(),1);ne();Yx=class extends se{constructor(e){super(e),this.state={UIWindow:!1,marqueeIsEmpty:!1,draggingInEditor:!1},this.observer=new MutationObserver(this.onMutation),this.innerObserver=new MutationObserver(this.onInnerMutation)}render(e,i){let{}=e,{UIWindow:r}=i,n=23;return m(ie,{children:m(Lr,{hasFocus:!!r,trackResize:!0,buttonMode:"inside",baseNode:this.props.marqueeInstance,buttonHeight:23,render:o=>{let{pointerAttention:l,overlayPosition:u}=o,c=0;return u.y<=1&&(c=Math.min(-u.y+1,u.height+-n+1)),m(ie,{children:[m(qi,{baseNode:this.props.marqueeInstance,overlayPosition:u,overlayMode:!0}),m("div",{className:`editor-overlay editor-outline${l||r?" hover":""}${l||r?" button-hover":""}${r?" focus":""}`,style:{transform:`translate3d(${u.x}px, ${u.y}px, 0)`,width:u.width+"px",height:u.height+"px",display:l||r?"block":"none",minHeight:"27px"},children:[m("div",{className:"in-editor-buttons marquee",style:{transform:`translateY(${c}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[m("button",{onMouseDown:d=>{this.launchUIWindow(d)},className:"text",children:"Marquee"}),e.children]}),e.otherUI]})]})}})})}launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.props.marqueeInstance.getBoundingClientRect(),r={x:i.x+-10,y:i.y,left:i.right+-10,right:i.right+-10,top:i.top+0,bottom:i.top+27,width:i.width,height:20};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"marquee-ineditor",windowAlias:"marquee",positionRect:r,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!1,props:{activeMarquee:this.props.marqueeInstance}})};onMouseDown=e=>{if(this.state.UIWindow||e.button===2)return;let i={x:e.clientX,y:e.clientY};this.props.marqueeInstance.built&&(this.mouseDownTimeout=setTimeout(()=>{this.props.isDragging||(this.props.marqueeInstance.built=!1,setTimeout(()=>{let r=this.props.marqueeInstance.querySelector("marquee-inner"),n=CargoEditor.helpers.createRangeAtCoordinates(i.x,i.y);(!n||!r.contains(n.commonAncestorContainer))&&(n=CargoEditor.rangy.createRange(),n.setStart(r,0),n.setEnd(r,0)),CargoEditor.helpers.setActiveRange(n),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor(),e)},20))},120))};onInnerMutation=e=>{if(Array.from(e).filter(l=>{if(l.type==="attributes"){if(l.target.nodeName==="MEDIA-ITEM")return!0;if(l.target.nodeName==="MARQUEE-INNER")return!1}else return!l.target.closest?.("media-item")}).length==0)return;let r=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(l=>!l.hasAttribute("slot")||l.getAttribute("slot")==="contents");if(!r)return;let n=Array.from(r?.childNodes??[])[0],o=!0;for(;n&&o;)(n.nodeName==="IMG"||n.nodeName==="VIDEO"||n.nodeName==="IFRAME"||n.nodeName==="MEDIA-ITEM"||n.textContent.trim()!=="")&&(o=!1),n=n.nextSibling;this.setState({marqueeIsEmpty:o})};dispatchVisibility=z5.default.debounce(()=>{Array.from(this.props.marqueeInstance.querySelectorAll("*")).forEach(e=>{Tt(e,"lazyLoadIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1}),Tt(e,"viewportIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})})},30);onMutation=e=>{this.observer.disconnect(),this.innerObserver.disconnect();let i=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(n=>!n.hasAttribute("slot")||n.getAttribute("slot")==="contents"),r=this.props.marqueeInstance.querySelector('marquee-inner[slot="contents-clone"]');i&&r?Array.from(this.props.marqueeInstance.childNodes).forEach(n=>{n!==i&&n!==r&&n.remove()}):i&&!r&&(this.props.marqueeInstance.dirty=!0),this.observer.observe(this.props.marqueeInstance,{childList:!0,subtree:!1,characterData:!0,attributes:!1}),i&&this.innerObserver.observe(i,{childList:!0,subtree:!0,characterData:!0,attributes:!0})};onDragStart=(e,i,r)=>{this.setState({draggingInEditor:!0}),qe.activateHoverElement(this.props.marqueeInstance),this.props.marqueeInstance.built=!1};onDragFinish=()=>{this.dragFinishTimeout=setTimeout(()=>{this.setState({draggingInEditor:!1})},100),this.props.marqueeInstance.built=!0};setUIWindow=e=>{this.setState({UIWindow:e})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidMount(){this.observer.observe(this.props.marqueeInstance,{childList:!0,subtree:!1,characterData:!0,attributes:!1});let e=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(i=>!i.hasAttribute("slot")||i.getAttribute("slot")==="contents");e&&this.innerObserver.observe(e,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.props.marqueeInstance.addEventListener("mousedown",this.onMouseDown),be.globalDragEventController.on("dragstart",this.onDragStart),be.globalDragEventController.on("dragend",this.onDragFinish),be.globalDragEventController.on("drop",this.onDragFinish),this.props.marqueeInstance._editorInterface=this,this.props.marqueeInstance._newMarqueeSet&&(delete this.props.marqueeInstance._newMarqueeSet,setTimeout(()=>{this.launchUIWindow()},120))}componentWillUnmount(){this.dispatchVisibility.cancel(),clearTimeout(this.mouseDownTimeout),clearTimeout(this.dragFinishTimeout),this.observer.disconnect(),this.innerObserver.disconnect(),this.props.marqueeInstance.removeEventListener("mousedown",this.onMouseDown),be.globalDragEventController.off("dragstart",this.onDragStart),be.globalDragEventController.off("dragend",this.onDragFinish),be.globalDragEventController.off("drop",this.onDragFinish),this.state.UIWindow?.closeWindow?.(),delete this.props.marqueeInstance._editorInterface}componentDidUpdate(e,i){this.props.adminMode!==e.adminMode&&(this.props.marqueeInstance.dirty=!0),this.props.isDragging!==e.isDragging&&clearTimeout(this.mouseDownTimeout),(i.marqueeIsEmpty!==this.state.marqueeIsEmpty||i.draggingInEditor!==this.state.draggingInEditor)&&!this.state.draggingInEditor&&this.state.marqueeIsEmpty&&CargoEditor?.mutationManager?.execute(()=>{this.props.marqueeInstance.remove()})}},q5=Yx});var Sg,Ys,tp,_g,Lu,Xx,U5,Eg,Dse,B5=T(()=>{_e();We();Rm();ht();Ne();Fi();Us();F5();Ti();H5();_r();Sg=he(xe(),1);Ji();ne();Ys=new Map,tp=new Map,_g=null;le||(Lu=new ResizeObserver(t=>{t.forEach(e=>{tp.has(e.target)?tp.get(e.target).onMarqueeInnerResize(e):Ys.has(e.target)&&Ys.get(e.target).onElementResize(e)})}),window.addEventListener("dom-binding-initialized",t=>{Ys.forEach((e,i)=>{t.target.contains(i)&&(i.dirty=!0)})}));Xx=0,U5=t=>{let e=Xx===0?0:t-Xx;Ys.forEach((i,r)=>{i.animate(e)}),Xx=t,_g=requestAnimationFrame(U5)},Eg=class extends se{constructor(e){super(e),this.uid=Sg.default.uniqueId(),this.initialSizeSet=!1,this.state={dirty:!0,built:!0,marqueeHeight:100,gutterPixelWidth:0,mediaItemLocations:{},contentRect:{marginLeft:0,width:0,height:0,contentWidth:0},elementRect:{horizPad:0,vertPad:0,width:0,height:0},paused:!1,pointerInfo:{pointerDown:!1,dragging:!1},marqueeInner:null,visible:!0},this.pointerMovement={start:{x:0,y:0},delta:{x:0,y:0},inertia:{x:0,y:0}},this.marqueePositionerRef=ge(),this.marqueePositionerCloneRef=ge(),this.contentRef=ge(),this.contentsObserver=new MutationObserver(this.onContentsChange),this.resetPosition(),this.pauseCount=0,Object.defineProperty(this.props.baseNode,"dragging",{get:()=>this.state.pointerInfo.dragging,configurable:!0}),Object.defineProperty(this.props.baseNode,"paused",{get:()=>this.state.paused,set:i=>{this.setState({paused:!!i})},configurable:!0}),Object.defineProperty(this.props.baseNode,"built",{get:()=>this.state.built,set:i=>{this.setState({built:!!i})},configurable:!0}),Object.defineProperty(this.props.baseNode,"dirty",{get:()=>this.state.dirty,set:i=>{this.setState({dirty:!!i})},configurable:!0})}render(e,i){let r=e.behavior==="bounce",n=e.behavior==="scroll",o=e.direction==="vertical",l=e.direction==="horizontal",u=e.direction==="diagonal";u&&n&&(u=!1,l=!0);let{adminMode:c,pageInfo:d,baseNode:f,"vertical-height":g,gutter:v=0}=e,{contentRect:S,elementRect:E,built:_,marqueeHeight:P,gutterPixelWidth:A}=i,L=Kt(g,""),z=v!==void 0?Kt(v,"rem").join(""):"0px",q={marqueeHeight:L[1]===""?`calc( var(--fit-height) * ${L[0]*.01} )`:L.join("")};v!==void 0&&v!==0&&(q.gutterPixelWidth=z);let H=A,re=A;l&&(H=0),o&&(re=0);let Q=n&&o?0:2,O=n&&l?0:2;return Ke(m(ie,{children:[c&&d.isEditing&&m(L5,{onTextAlignmentChange:this.onTextAlignmentChange}),m("style",{children:`

					:host {
						--marquee-vertical-padding: ${Q}rem;
						--marquee-horizontal-padding: ${O}rem;
						--marquee-vertical-margin: ${-Q}rem;
						--marquee-horizontal-margin: ${-O}rem;
						contain: layout;
						${_?`
							cursor: default;
							min-height: .5em;
							${c&&d.isEditing?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;`:""}
						`:`
							min-height: ${r&&!l?P+"px":"auto"};
						`}
						box-sizing: border-box;
						height: ${_?o||u?P+"px":S.height+E.vertPad+"px":"auto"};
					    display: block;
					    
					    position: relative;
						--resize-parent-width: ${E.width}px;				    
					}

					.marquee-margin {
						position: relative;
						${_?`
							pointer-events:none;
							margin-top: var(--marquee-vertical-margin);
							margin-left: var(--marquee-horizontal-margin);
							margin-right: var(--marquee-horizontal-margin);
							margin-bottom: var(--marquee-vertical-margin);
							
							${o||u?"height: "+P+"px;":""}
							padding-top: var(--marquee-vertical-padding);
							padding-bottom: var(--marquee-vertical-padding);
							padding-left: var(--marquee-horizontal-padding);
							padding-right: var(--marquee-horizontal-padding);						
							overflow: hidden;
					
						`:""}
					}

					:host .marquee-contents {
						${_?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;
						`:`
							-moz-user-select:text;
							-webkit-user-select:text;
							user-select: text;
						`}
						-webkit-backface-visibility: hidden;
						backface-visibility: hidden;
						will-change: transform;
						position: relative;

					    display: ${_?"block":"none"};
					}

					::slotted(marquee-inner){
						pointer-events:auto;
						white-space:${_&&l?"nowrap":"normal"};					
						display: ${_?"inline-block":"block"};
						${!_&&(o||u)?"min-height: "+P+"px;":""}
						min-width: ${E.width}px;
						${_?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;
						`:`
						`}
										
					}

					.marquee-positioner {
						position: relative;		
						white-space:nowrap;
						${n?"min-width: 100%;":""}					
					}

					/** scroll mode css **/	
					.marquee-positioner.clone {
						display: ${r||!_?"none":"block"};
						left: ${l?Math.max(S.contentWidth,E.width)+re:0}px;
						top: ${o?Math.max(S.height,E.height)+H:0}px;			
					    position: absolute;
					}

					
				`}),m("div",{className:"marquee-margin",children:[!_&&m("slot",{name:"contents"}),c&&d.isEditing&&!le&&m(q5,{...this.props,marqueeInstance:f,isDragging:this.state.pointerInfo.dragging}),m(Dr,{values:q,onResize:this.onResize}),m("div",{className:"marquee-contents",style:{willChange:"transform",transform:"translate("+this.lastXClamp+"px, "+(this.lastYClamp+E.vertPad*.5)+"px)"},ref:this.contentRef,children:[m("div",{className:"marquee-positioner",ref:this.marqueePositionerRef,children:_&&m("slot",{name:"contents"})}),m("div",{"aria-hidden":"true",className:"marquee-positioner clone",ref:this.marqueePositionerCloneRef,children:_&&n&&m("slot",{name:"contents-clone"})})]})]})]}),f.shadowRoot)}onClickCapture=e=>{this.state.pointerInfo.dragging&&this.state.built&&e.preventDefault()};onDragStartCapture=e=>{this.state.built&&this.props["pointer-interaction"]==!0&&(e.preventDefault(),e.stopPropagation())};onViewportIntersectionChange=()=>{Array.from(this.props.baseNode.querySelectorAll("*")).forEach(e=>{Tt(e,"viewportIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})})};onLazyloadIntersectionChange=()=>{Array.from(this.props.baseNode.querySelectorAll("*")).forEach(e=>{Tt(e,"lazyLoadIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})})};componentDidMount(){this.props.baseNode.addEventListener("click",this.onClickCapture,{capture:!0}),this.props.baseNode.addEventListener("dragstart",this.onDragStartCapture,{capture:!0}),this.props.baseNode.addEventListener("mousedown",this.onMouseDown),this.props.baseNode.addEventListener("touchstart",this.onMouseDown),Xt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),Xt(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),Ys.size==0&&(cancelAnimationFrame(_g),_g=requestAnimationFrame(U5)),Ys.set(this.props.baseNode,this),Lu.observe(this.props.baseNode),this.innerMarqueeChange()}componentDidUpdate(e,i){(this.props.behavior!==e.behavior||this.props.speed!==e.speed||this.props["vertical-height"]!==e["vertical-height"])&&(this.resetPosition(),this.setState({built:!0})),this.state.dirty!==i.dirty&&this.state.dirty&&this.innerMarqueeChange(),this.state.built!==i.built&&this.state.built&&(this.state.dirty&&this.innerMarqueeChange(),this.resetPosition()),e.adminMode!==this.props.adminMode&&this.setState({built:!0})}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStartCapture,{capture:!0}),this.props.baseNode.removeEventListener("mousedown",this.onMouseDown),this.props.baseNode.removeEventListener("touchstart",this.onMouseDown),this.props.baseNode.removeEventListener("click",this.onClickCapture,{capture:!0}),ii(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),ii(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),document.body.removeEventListener("pointerleave",this.onPointerUp),Lu.unobserve(this.props.baseNode),Ys.delete(this.props.baseNode),cancelAnimationFrame(this.resizeFrame),clearTimeout(this.afterPointerUp);let e=this.props.baseNode.querySelector("marquee-inner");e&&(tp.delete(e),Lu.unobserve(e)),this.contentsObserver.disconnect(),Ys.size==0&&cancelAnimationFrame(_g)}innerMarqueeChange=()=>{if(!this.state.dirty||!this.state.built||!this.marqueePositionerRef.current||!this.marqueePositionerCloneRef.current)return;let e=Array.from(this.props.baseNode.querySelectorAll("marquee-inner")).find(r=>!r.hasAttribute("slot")||r.getAttribute("slot")==="contents");e?(tp.delete(e),Lu.unobserve(e),Array.from(e.querySelectorAll("marquee-inner")).forEach(r=>{r.remove()})):(e=document.createElement("marquee-inner"),e.setAttribute("slot","contents"),Array.from(this.props.baseNode.childNodes).forEach(r=>{e.appendChild(r)}),this.props.baseNode.appendChild(e)),e.setAttribute("slot","contents"),e.setSaveable(!0),tp.set(e,this),Lu.observe(e),this.contentsObserver.observe(e,{childList:!0,subtree:!0,characterData:!0,attributes:!1});let i=this.props.baseNode.querySelector('marquee-inner[slot="contents-clone"]');for(i||(i=document.createElement("marquee-inner"),i.setAttribute("slot","contents-clone"),this.props.baseNode.appendChild(i));i.lastChild;)i.lastChild.remove();Array.from(e.childNodes).forEach(r=>{i.appendChild(r.cloneNode(!0))}),Array.from(this.props.baseNode.childNodes).forEach(r=>{r!==e&&r!==i&&r.remove()}),this.setState({dirty:!1,marqueeInner:e})};onContentsChange=()=>{this.setState({dirty:!0})};resetPosition=()=>{this.pauseCount=this.props.adminMode?-30:0,this.movingDown=this.props.speed>0,this.movingRight=this.props.speed>0,this.lastXClamp=0,this.lastYClamp=0,this.positionX=0,this.positionY=0,this.translateX=0,this.translateY=0,this.pointerMovement={start:{x:0,y:0},inertia:{x:0,y:0},delta:{x:0,y:0}},this.props.behavior==="bounce"?((this.props.direction==="diagonal"||this.props.direction==="vertical")&&(this.translateY=this.positionY=this.state.elementRect.height*.5+-this.state.contentRect.height*.5),(this.props.direction==="diagonal"||this.props.direction==="horizontal")&&(this.translateX=this.positionX=this.state.elementRect.width*.5+-this.state.contentRect.width*.5+this.state.elementRect.vertPad*.5)):this.translateX=this.positionX=this.translateY=this.positionY=0};onResize=(e,i)=>{this.setState(r=>{let n={...r};return n[e]=i,n})};onTextAlignmentChange=e=>{this.resetPosition(),this.requestTick()};requestTick=()=>{this.ticking||(this.ticking=!0,this.rAf=requestAnimationFrame(()=>{this.getContentWidthAndMargin(),this.ticking=!1}))};getContentWidthAndMargin=Sg.default.debounce(()=>{let{marqueeInner:e}=this.state;if(!e)return;let{contentWidth:i,marginLeft:r,width:n}=this.state.contentRect,o=e.childNodes[0],l=e.childNodes[e.childNodes.length-1];if(o&&l){let u=document.createRange();u.setStartBefore(o),u.setEndAfter(l);let c=u.getBoundingClientRect(),d=e.getBoundingClientRect();r=c.left-d.left,i=c.width}else r=0,i=n;this.setState(u=>({contentRect:{...u.contentRect,marginLeft:r,contentWidth:i}}),()=>{this.initialSizeSet||(this.resetPosition(),this.initialSizeSet=!0)})},this.initialSizeSet?300:0,{leading:!0,trailing:!0});onMarqueeInnerResize=e=>{let i=e.borderBoxSize[0]||e.borderBoxSize,r=i.inlineSize;this.setState(n=>({contentRect:{...n.contentRect,width:i.inlineSize,height:i.blockSize}}),()=>{this.requestTick()})};onElementResize=e=>{let i=e.borderBoxSize[0]||e.borderBoxSize,r=e.contentBoxSize[0]||e.contentBoxSize;this.setState({elementRect:{width:i.inlineSize,height:i.blockSize,vertPad:i.blockSize-r.blockSize,horizPad:i.inlineSize-r.inlineSize}})};onMouseDown=e=>{if(!this.state.built||!this.props["pointer-interaction"]||e.button==2)return;let i=e.touches?e.touches[0].clientX:e.clientX,r=e.touches?e.touches[0].clientY:e.clientY;e.target.closest("a")||e.preventDefault(),this.pointerMovement={start:{x:i,y:r},inertia:{x:0,y:0},delta:{x:0,y:0}},this.setState({pointerInfo:{pointerDown:!0,dragging:!1}}),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointercancel",this.onPointerUp),document.body.addEventListener("pointerleave",this.onPointerUp)};onPointerMove=e=>{let i={x:e.clientX-this.pointerMovement.start.x+this.pointerMovement.delta.x,y:e.clientY-this.pointerMovement.start.y+this.pointerMovement.delta.y},r=this.state.pointerInfo.dragging||Math.abs(e.clientX-this.pointerMovement.start.x)>3||Math.abs(e.clientY-this.pointerMovement.start.y)>3;this.pointerMovement={start:{x:e.clientX,y:e.clientY},inertia:i,delta:i},this.setState({pointerInfo:{pointerDown:!0,dragging:r}})};onPointerUp=e=>{document.body.removeEventListener("pointerleave",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointercancel",this.onPointerUp),this.afterPointerUp=setTimeout(()=>{this.setState({pointerInfo:{dragging:!1,pointerDown:!1}})},0)};animate=e=>{let{built:i,paused:r,elementRect:n,contentRect:o,pointerInfo:l,mediaItemLocations:u,gutterPixelWidth:c}=this.state,{positionX:d,positionY:f,movingRight:g,movingDown:v,translateX:S,translateY:E,pointerMovement:_}=this,{speed:P,friction:A}=this.props;if(!i||!this.contentRef.current)return;let L=!1;P=r||l.dragging?0:P,this.pauseCount<0&&(this.pauseCount++,P=0),P=P*(e/16.6667);let z=this.props.behavior==="bounce",q=this.props.behavior==="scroll",H=this.props.direction==="vertical",re=this.props.direction==="horizontal",Q=this.props.direction==="diagonal",O=c,ee=c;Q&&q&&(Q=!1,re=!0),A=1-parseFloat(A)*.01,P=parseFloat(P)*.1;let ue=P,J=P,G=Math.abs(_.inertia.y)>.01||Math.abs(_.inertia.x)>.01;l.pointerDown||l.dragging?(L=!0,J=_.delta.x,ue=_.delta.y):G&&(L=!0,z?(v?ue=Math.abs(ue)+Math.abs(_.inertia.y):ue=-Math.abs(ue)+-Math.abs(_.inertia.y),g?J=Math.abs(J)+Math.abs(_.inertia.x):J=-Math.abs(J)+-Math.abs(_.inertia.x)):(J=J+_.inertia.x,ue=ue+_.inertia.y)),z&&!l.dragging&&(v?ue=Math.abs(ue):ue=-Math.abs(ue),g?J=Math.abs(J):J=-Math.abs(J)),ue!==0&&(v=ue>0),J!==0&&(g=J>0),(H||Q)&&(f=ue+f),(re||Q)&&(d=J+d);let D=!1;if(z){let $=o.contentWidth,U=o.height,X=-o.marginLeft,te=n.width+-$+-o.marginLeft,ce=0,fe=n.height-U;$>=n.width&&(X=n.width-$,te=0),U>=n.height&&(ce=n.height-U,fe=0),g&&d>te&&(re||Q)?(D="right",d=te,g=!1):!g&&d<X&&(re||Q)&&(D="left",d=X,g=!0),v&&f>fe&&(H||Q)?(D="bottom",f=fe,v=!1):!v&&f<ce&&(H||Q)&&(D="top",f=ce,v=!0),re?E=0:E=f,H?S=0:S=d}else if(q){re&&(ee=0),H&&(O=0);let $=Math.max(o.contentWidth,n.width)+O,U=Math.max(o.height,n.height)+ee;$>0&&(d=(d-$)%$),U>0&&(f=(f-U)%U),H?(S=0,E=f):re&&(S=d,E=0)}D&&this.dispatchBounceEvent(D);let V=l.dragging?{x:_.delta.x,y:_.delta.y}:{x:_.inertia.x*A,y:_.inertia.y*A};this.positionX=d,this.positionY=f,this.translateX=S,this.translateY=E,this.movingRight=g,this.movingDown=v;let K=Math.abs(P)>1?2:4,Y=Math.floor(this.translateX*K)/K,oe=Math.floor(this.translateY*K)/K;(Y!==this.lastXClamp||oe!==this.lastYClamp)&&(this.contentRef.current.style.transform="translate("+Y+"px, "+(oe+this.state.elementRect.vertPad*.5)+"px)"),this.lastXClamp=Y,this.lastYClamp=oe,L&&(this.pointerMovement={...this.pointerMovement,inertia:V,delta:{x:0,y:0}})};dispatchBounceEvent=Sg.default.debounce(e=>{this.props.baseNode.dispatchEvent(new CustomEvent("marquee-bounce",{detail:{edge:e},bubbles:!1,composed:!0}))},40,{leading:!0,tailing:!1})};Eg.defaultProps={speed:-10,direction:"horizontal",behavior:"scroll","pointer-interaction":!0,"vertical-height":"100",friction:5};Dse=Ut(De((t,e)=>({adminMode:t.frontendState.adminMode}))(Eg));ri(Dse,"marquee-set",["gutter","speed","direction","behavior","pointer-interaction","vertical-height","friction"],{renderIntoShadow:!0})});var ILe,Fu,Cg,Lse,W5=T(()=>{_e();We();ht();Ne();Rm();go();ILe=he(xe(),1);Ji();Fi();ne();Fu=new Map,Cg=class extends se{constructor(){super(),this.state={iconElement:{imgVdom:null,customDimensions:{width:32,height:32}}}}render(e,i){let r=i.iconElement.customDimensions.width/i.iconElement.customDimensions.height;return m(ie,{children:Ke(m(ie,{children:[m("style",{id:"text-icon",children:`
		:host {
			cursor: ${e.adminMode?"text":"unset"};
			aspect-ratio: ${r};
			height: 1.2em;
			width: auto;
		    contain: layout;
		    margin-top: -1em;
		    margin-bottom: -.25em;
		    display: inline-block;
		    vertical-align: baseline;
			position: relative;
		}

		:host, *{
		    -moz-user-select: text;
		    -webkit-user-select: text;
		    -ms-user-select: text;
		    user-select: text; 		
		}

		img {
			pointer-events:none;
		}
		
		svg, img {
			object-fit: cover;
			display: block;
			position: absolute;
			inset: 0;
			width: 100%;
			height: 100%;
			fill: currentColor;
		}
					`}),this.state.iconElement.imgVdom,this.props.adminMode?m(qi,{baseNode:this.props.baseNode,inFront:!1}):null]}),this.props.baseNode.shadowRoot)})}getIconSVG=()=>{new Promise((e,i)=>{let r=this.props.icon||null;if(r)if(Fu.has(r))e(Fu.get(r));else{let o=r.indexOf("https://")===0?r:"https://build.cargo.site/frontend/4ae1a0/icon/icons/"+r+".svg",l=o.split(".")?.pop()||"";if(["jpeg","jpg","png","gif","webp"].indexOf(l.toLowerCase())!=-1){let u=document.createElement("img");u.src=o,u.onload=()=>{let c=m("img",{part:"img",src:r,width:u.naturalWidth,height:u.naturalHeight});Fu.set(r,{imgVdom:c,customDimensions:{width:u.naturalWidth,height:u.naturalHeight}}),u.onload=null,e(Fu.get(r))}}else l=="svg"?fetch(o,{mode:"cors"}).then(u=>u.ok?u.text():i("bad response")).then(u=>{let c=document.createElement("div");c.innerHTML=u;let d={width:32,height:32},f=Array.from(c.children).map((g,v)=>{let S=g.tagName.toLowerCase()=="svg";return S&&g.hasAttribute("width")&&g.hasAttribute("height")&&(d.width=g.getAttribute("width"),d.height=g.getAttribute("height")),Au(g,null,{part:S?"svg":v,key:r+"-"+v,draggable:!0})});if(f.length>0){if(Fu.set(r,{imgVdom:f,customDimensions:d}),r!==this.props.icon){i("Icon name mismatch");return}e(Fu.get(r))}else i("Icon not found at ",o)}).catch(u=>{i(u)}):i("Invalid url")}else i("Icon not found",r)}).then(e=>{this.setState({iconElement:e})}).catch(e=>{console.log("icon loading failed:",e)})};onDragStart=e=>{e.dataTransfer.setData("text-icon-drag","true")};componentDidMount(){for(this.props.baseNode.addEventListener("dragstart",this.onDragStart);this.props.baseNode.childNodes[0];)this.props.baseNode.childNodes[0].remove();this.getIconSVG()}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStart)}componentDidUpdate(e){e.icon!==this.props.icon&&this.getIconSVG()}};Cg.defaultProps={icon:null};Lse=Ut(De((t,e)=>({adminMode:t.frontendState.adminMode}))(Cg));ri(Lse,"text-icon",["icon"],{delegatesFocus:!0})});var Zx,V5,$5=T(()=>{We();sw();ne();Zx=class extends Be.Component{constructor(e){super(e)}render(){return m(ie,{children:[m("div",{className:"colorfilter-color"}),m("div",{className:"colorfilter-base"})]})}componentDidMount(){Ze.isSafari()&&(document.querySelector("#editor-overlay")?.classList.add("safari"),document.querySelector("#cargo-dotsite")?.classList.add("safari"),document.querySelector(".colorfilter-base")?.classList.add("safari"),document.querySelector(".colorfilter-color")?.classList.add("safari"))}componentWillUnmount(){document.querySelector("#editor-overlay")?.classList.remove("safari"),document.querySelector("#cargo-dotsite")?.classList.remove("safari")}},V5=Zx});function zse(t){let e=le?t.site?.is_template:t.site?.is_template&&parent===window;return{hasSitePackage:t.frontendState.hasSitePackage,adminInitialized:t.adminState?.initialized||!1,inAdminFrame:t.frontendState.inAdminFrame,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,showCargoLogo:!e&&t.site?.show_cargo_logo,customHTML:t.site?.custom_html,access_level:t.site?.access_level,website_title:t.site?.website_title,domain_active:t.site?.domain_active,domain:t.site?.domain,site_url:t.site?.site_url,site_id:t.site?.id,fonts:t.site?.fonts,fontsLoaded:t.frontendState.fontsLoaded,stylesheet:t.frontendState.pageNotFound?" ":t.css?.stylesheet,hasAuth:t.auth.authenticated,canDuplicate:e,activePID:t.frontendState.activePID,itemsInCart:Yn.default.values(t.commerce.cart).reduce((i,r)=>i+=r?.quantity||0,0),enableColorFilter:!!t.siteDesign.site?.enableColorFilter}}function qse(t){return Ct({fetchSitePackage:Fe.fetchSitePackage,updateFrontendState:Fe.updateFrontendState,getAuthToken:Fe.getAuthToken},t)}var j5,Yn,G5,Pg,Ig,Jx,Fse,Qx,K5,Y5=T(()=>{_e();ai();ht();j5=he(Ch(),1),Yn=he(xe(),1);Rs();Ne();fR();Ht();Ua();Rz();ho();Fz();Ti();zm();jz();Vw();Jz();Ji();d5();hg();Lm();Rx();kx();Lx();C5();A5();N5();D5();B5();W5();zi();Sr();$5();ne();G5=!1,Pg=!1,Ig=!0,Jx=(t=!1)=>{(t||G5&&Pg&&Ig)&&setTimeout(()=>{Ig&&window.dispatchEvent(new CustomEvent("initial-content-visible",{detail:{screenshots:{hiddenIds:["dl-duplicate-site"]}}}))},1500)},Fse=async t=>{let e=[];if(t.hasSitePackage!==!0&&e.push(t.fetchSitePackage()),le&&t.fonts&&Yn.default.isArray(t.fonts)){let i=[...t.fonts].filter(n=>n.provider!=="google"),r=yx({context:"server",families:i});r.then(n=>{t.updateFrontendState({fontsLoaded:Yn.default.uniq(t.fontsLoaded.concat(i.map(o=>o.family))),serverRenderedFontCSS:n.filter(o=>o??!1)})}),e.push(r)}await Promise.allSettled(e),G5=!0,Jx()},Qx=class extends se{constructor(e){if(super(e),this.state={checkedExistingAuth:!!le,checkedCookieAuth:!!le,mobileOffsetsString:null,inheritableFontSizesString:null,linkStylesString:null,fontFeatureSettingsStylesString:null},!le){if(Promise.resolve().then(()=>(og(),px)).then(({default:n})=>{this.setState({QuickView:n})}),e.inAdminFrame===!0){let n=document.getElementsByTagName("head")[0],o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href="https://build.cargo.site/frontend/4ae1a0/css/front-end/frontend-interface.css",o.id="frontend-interface",n.appendChild(o)}this.setMobileClass(this.props.isMobile),this.setOSClass();let i=0,r=0;window.addEventListener("backdrop-load-start",()=>{Ig=!1,i++}),window.addEventListener("backdrop-load-complete",()=>{r++,r===i&&(Ig=!0,Jx())})}this.globalStyleRef=ge(),this.customHTMLRef=ge(),this.scrollingElement={current:le?null:window},this.setWindowTitle()}setWindowTitle=()=>{if(le)return;let e=this.props.store.getState(),i,r="";this.props.activePID&&this.props.activePID!==e.site.homepage_id&&this.props.activePID!==e.site.mobile_homepage_id&&this.props.activePID!=="root"&&(e.pages.byId[this.props.activePID]?i=e.pages.byId[this.props.activePID]:e.sets.byId[this.props.activePID]&&(i=e.sets.byId[this.props.activePID])),this.props.website_title&&(r=`${i?.title?`${i.title} \u2014 `:""}${this.props.website_title}`),r!==document.title&&(document.title=r)};onFirstSiteLoad(){let e=!1;try{e=parent.__c3_admin__===!0}catch{}window.dispatchEvent(new CustomEvent("cargo-site-load",{detail:{editing:e}}))}render(){if(this.props.hasSitePackage!==!0)return null;if(!le&&!Ai&&this.props.domain_active===!0&&this.props.domain!==window.location.host&&!Ma)return window.location.hostname=this.props.domain,null;if(this.props.access_level==="password"||this.props.access_level==="private"){let r=null;return this.props.hasAuth&&this.state.checkedExistingAuth===!1?this.fetchingSitePackage||(this.fetchingSitePackage=!0,this.props.fetchSitePackage().finally(()=>{delete this.fetchingSitePackage,this.setState({checkedExistingAuth:!0})})):this.state.checkedCookieAuth===!1?this.checkingAuth||(this.checkingAuth=!0,this.props.getAuthToken({timeout:1500,site_url:this.props.site_url,site_id:this.props.site_id}).then(()=>{this.props.fetchSitePackage().finally(()=>{delete this.checkingAuth,this.setState({checkedCookieAuth:!0})})}).catch(n=>{this.setState({checkedCookieAuth:!0})}).finally(()=>{delete this.checkingAuth})):(this.props.access_level==="password"?r=m(Ru,{target:"site",onSucces:()=>{this.props.fetchSitePackage()}}):this.props.access_level==="private"&&(r=m(Vm,{message:"This site is private."})),this.onFontLoad(!0)),m(ie,{children:m(fx,{children:r})})}let e=this.props.customHTML,i=this.props.canDuplicate&&!le;return m(ie,{children:[i?m(ie,{children:m("a",{id:"dl-duplicate-site",class:"dl-duplicate",href:`${La}?duplicate=${this.props.site_id}`,onClick:r=>{this.props.domain_active||(r.preventDefault(),fetch("https://cargo.site/accesstoken"+`?site_id=${this.props.site_id}`,{credentials:"include"}).then(o=>o.json()).then(o=>{o?.access_token?window.location.href=`${La}?duplicate=${this.props.site_id}`:this.setState({loginBeforeDuplicatingSite:!0})}).catch(()=>{this.setState({loginBeforeDuplicatingSite:!0})}))},children:m("svg",{width:"84",height:"19",viewBox:"0 0 84 19",children:[m("path",{fill:"#027aff",d:"m0,9.5C0,4.25,3.96,0,8.85,0h66.14c4.89,0,8.85,4.25,8.85,9.5s-3.96,9.5-8.85,9.5H8.85C3.96,19,0,14.75,0,9.5Z"}),m("path",{fill:"#fff",d:"m9.29,4.54h2.47c2.38,0,3.6,1.42,3.6,4.2s-1.21,4.25-3.6,4.25h-2.47V4.54Zm1.22,1.08v6.29h1.11c1.7,0,2.49-1,2.49-3.16s-.8-3.13-2.49-3.13h-1.11Z"}),m("path",{fill:"#fff",d:"m22.23,6.61v6.39h-1.14v-1.11h-.08c-.33.79-1.05,1.23-2.01,1.23-1.39,0-2.14-.83-2.14-2.37v-4.14h1.18v3.86c0,1.09.44,1.61,1.38,1.61s1.63-.69,1.63-1.72v-3.74h1.17Z"}),m("path",{fill:"#fff",d:"m27.47,6.51c1.47,0,2.41,1.05,2.41,2.71v1.17c0,1.66-.94,2.71-2.41,2.71-.93,0-1.59-.4-1.85-1.12h-.11v3.16h-1.21V6.61h1.18v1.01h.11c.3-.73.96-1.11,1.88-1.11Zm-.39,1.04c-.98,0-1.6.69-1.6,1.79v.96c0,1.1.62,1.79,1.6,1.79s1.61-.7,1.61-1.79v-.96c0-1.1-.63-1.79-1.61-1.79Z"}),m("path",{fill:"#fff",d:"m37.19,13h-5.36v-.95h2.14v-6.97h-2.09v-.96h3.26v7.93h2.05v.95Z"}),m("path",{fill:"#fff",d:"m41.91,5.12c-.52,0-.91-.36-.91-.87s.39-.87.91-.87.91.36.91.87-.38.87-.91.87Zm2.7,7.88h-5.36v-.95h2.15v-4.49h-2.1v-.95h3.25v5.44h2.06v.95Z"}),m("path",{fill:"#fff",d:"m51.95,8.67h-1.16c-.11-.74-.69-1.18-1.46-1.18-1.04,0-1.61.73-1.61,2.04v.54c0,1.31.57,2.04,1.61,2.04.79,0,1.35-.43,1.46-1.15h1.16c-.16,1.36-1.12,2.16-2.61,2.16-1.78,0-2.8-1.07-2.8-2.93v-.79c0-1.86,1.03-2.92,2.8-2.92,1.49,0,2.46.8,2.61,2.19Z"}),m("path",{fill:"#fff",d:"m55.93,13.11c-1.22,0-2.03-.77-2.03-1.92s.82-1.8,2.31-1.89l1.68-.09v-.56c0-.73-.46-1.14-1.28-1.14-.68,0-1.17.29-1.32.8h-1.15c.12-1.05,1.12-1.77,2.49-1.77,1.54,0,2.42.77,2.42,2.12v4.37h-1.12v-.93h-.11c-.3.66-.99,1.03-1.89,1.03Zm.36-.98c.91,0,1.59-.6,1.59-1.42v-.67l-1.52.08c-.85.05-1.29.4-1.29,1.02s.47,1,1.22,1Z"}),m("path",{fill:"#fff",d:"m62.9,4.87h1.16v1.78h2.53v.97h-2.51v3.45c0,.63.44.98,1.25.98.3,0,1.08-.01,1.22-.03v.96c-.13.02-1.05.05-1.3.05-1.63,0-2.35-.59-2.35-1.96v-3.45h-1.69v-.97h1.69v-1.78Z"}),m("path",{fill:"#fff",d:"m73.1,11.31h1.12c-.17,1.07-1.22,1.81-2.6,1.81-1.79,0-2.82-1.05-2.82-2.87v-.97c0-1.68,1.1-2.79,2.75-2.79s2.68,1.1,2.68,2.92v.69h-4.28v.29c0,1.08.65,1.77,1.66,1.77.76,0,1.32-.32,1.48-.84Zm-1.55-3.86c-.99,0-1.59.68-1.59,1.82h3.13c0-1.14-.57-1.82-1.54-1.82Z"})]})})}):m(ie,{}),this.props.enableColorFilter?m(V5,{}):null,m("customhtml",{ref:this.customHTMLRef,dangerouslySetInnerHTML:{__html:e}}),m($z,{}),m(fx,{}),m("style",{ref:this.globalStyleRef,dangerouslySetInnerHTML:{__html:this.props.stylesheet}}),m("style",{id:"mobile-offset-styles",dangerouslySetInnerHTML:{__html:this.state.mobileOffsetsString}}),m("style",{id:"text-style-font-sizes",dangerouslySetInnerHTML:{__html:this.state.inheritableFontSizesString}}),m("style",{id:"link-styles",dangerouslySetInnerHTML:{__html:this.state.linkStylesString}}),m("style",{id:"font-feature-settings-styles",dangerouslySetInnerHTML:{__html:this.state.fontFeatureSettingsStylesString}}),m(nu,{scrollingElement:this.scrollingElement,children:[m(Mz,{}),this.state.QuickView&&m(this.state.QuickView,{}),this.props.inAdminFrame&&m(zR,{}),this.state.loginBeforeDuplicatingSite&&m(hR,{loginToUdotCargoOnly:!0,canCreateNewAccount:!0,animateIn:!0,canClickout:!0,templateID:this.props.site_id,onClickout:()=>{this.setState({loginBeforeDuplicatingSite:!1})},onLoginSuccess:r=>{window.location.href=`${La}?duplicate=${this.props.site_id}`}}),m(fo,{portalHost:le?null:document.body})]})]})}componentDidMount(){this.loadNewFonts(),this.inPreviewMode=this.props.inAdminFrame&&this.props.adminMode===!1,this.showHideAdminInterface(),et.on("mobile-change",this.onMobileChange),this.onMobileChange(et.data.mobile.active),this.updateCartCounter(),this.props.hasSitePackage&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.onFirstSiteLoad()})})}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,i){console.error(e)}onMobileChange=e=>{this.props.updateFrontendState({isMobile:e})};onFontLoad=(e=!1)=>{le||Pg||(Pg=!0,document.documentElement.classList.remove("wf-initial-load"),Jx(e))};componentWillUnmount(){et.off("mobile-change",this.onMobileChange)}showHideAdminInterface=()=>{this.inPreviewMode?document.querySelector("#frontend-interface")?.setAttribute("disabled",""):document.querySelector("#frontend-interface")?.removeAttribute("disabled")};setOSClass=()=>{!jc()&&!Gc()&&document.body.classList.add("f-f")};setMobileClass=e=>{e?(document.body.classList.add("mobile"),document.documentElement.classList.add("mobile")):(document.body.classList.remove("mobile"),document.documentElement.classList.remove("mobile"))};setEditingClass=e=>{e?document.body.classList.add("editing"):document.body.classList.remove("editing")};loadNewFonts=()=>{if(!this.props.fonts)return;let e=this.props.fonts.filter(i=>!this.props.fontsLoaded.includes(i.family));e&&e.length>0?(this.props.updateFrontendState({fontsLoaded:Yn.default.uniq(this.props.fontsLoaded.concat(e.map(i=>i.family)))}),yx({families:e}).then(()=>{Pg||document.fonts.ready.then(()=>{this.onFontLoad()})})):document.fonts.ready.then(()=>{this.onFontLoad()})};componentDidUpdate(e,i){if(!le){if(this.setWindowTitle(),this.inPreviewMode=this.props.inAdminFrame&&this.props.adminMode===!1,typeof this.props.customHTML=="string"&&this.props.customHTML!==e.customHTML&&this.customHTMLRef.current){let r=document.createRange().createContextualFragment(this.props.customHTML);this.customHTMLRef.current.innerHTML="",this.customHTMLRef.current.appendChild(r)}this.props.stylesheet!==e.stylesheet&&(this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles(),this.setFontFeatureSettingsStyles()),this.props.fonts!==e.fonts&&Yn.default.isArray(this.props.fonts)&&this.loadNewFonts(),this.props.inAdminFrame===!0?(this.setEditingClass(this.props.adminMode),this.props.adminInitialized!==e.adminInitialized&&(this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles(),this.setFontFeatureSettingsStyles())):this.setEditingClass(!1),e.isMobile!==this.props.isMobile&&(this.setMobileClass(this.props.isMobile),this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles(),this.setFontFeatureSettingsStyles()),this.props.itemsInCart!==e.itemsInCart&&this.updateCartCounter(),this.showHideAdminInterface(),this.props.hasSitePackage&&!e.hasSitePackage&&requestAnimationFrame(()=>{this.onFirstSiteLoad()})}}updateCartCounter=()=>{document.documentElement.style.setProperty("--cart-item-count",this.props.itemsInCart||""),document.documentElement.style.setProperty("--cart-item-count-display",this.props.itemsInCart?"inline":"")};setFontFeatureSettingsStyles=()=>{if(le||!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let i=e.sheet;if(!i)return null;let r=!1;for(let u of i.cssRules)if(u.selectorText==="bodycopy"&&u.style.getPropertyValue("font-feature-settings")){r=!0;break}else continue;if(!r)return;let n="",o=[],l=[];Yn.default.each(i.rules,u=>{!u||!u.selectorText||u.selectorText.includes(" ")||((u.style.getPropertyValue("--text-style")||u.selectorText===".caption")&&!u.style.getPropertyValue("font-feature-settings")&&o.push(u.selectorText),u.selectorText.match(/h[1-6]/gi)&&!u.style.getPropertyValue("font-feature-settings")&&l.push(u.selectorText))});for(let u of o)n+=u+" { font-feature-settings: normal; } ";for(let u of l)n+=u+" { font-feature-settings: normal; } ";this.setState({fontFeatureSettingsStylesString:n})};setLinkStyles=()=>{if(le||!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let i=e.sheet;if(!i)return null;let r="",n=[],o=[];Yn.default.each(i.rules,l=>{!l||!l.selectorText||((l.style.getPropertyValue("--text-style")||l.selectorText===".caption")&&n.push(l.selectorText),l.selectorText.match(/h[1-6]/gi)&&o.push(l.selectorText))}),Yn.default.each(i.rules,l=>{!l||!l.selectorText||(n.forEach(u=>{if(l.selectorText.startsWith(u)&&l.selectorText.includes(" a")){let c=l.selectorText.replace(/^(.*)\s(\a(?:[:.]\S*)?)$/i,(g,v,S)=>S+v);l.selectorText!==c&&(r+=c+" { "+(l.style.cssText||"")+" } ");let d=!!(l.selectorText.includes(" a::")||l.selectorText.includes(" a:")),f=l.style.getPropertyValue("text-decoration-color")===""?" text-decoration-color: unset;":"";f!==""&&!d&&(r+=c+" { "+(l.style.cssText||"")+f+" } ",r+=l.selectorText+" { "+f+" } ")}}),o.forEach(u=>{if(l.selectorText.startsWith(u)&&l.selectorText.includes(" a")){let c=!!(l.selectorText.includes(" a::")||l.selectorText.includes(" a:")),d=l.style.getPropertyValue("text-decoration-color")===""?" text-decoration-color: unset;":"";d!==""&&!c&&(r+=l.selectorText+" { "+d+" } ")}}))}),this.setState({linkStylesString:r})};setInheritableFontSizes=()=>{if(le||!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let i=e.sheet;if(!i)return null;let r="";Yn.default.each(i.rules,n=>{if(n.style?.fontSize&&n.style?.fontSize!==""){let o=n.style.fontSize,l=n.selectorText==="bodycopy"?", "+n.selectorText+" *":"";r+=n.selectorText+" {--font-size: "+o+`;}
`,r+=n.selectorText+l+` {font-size: calc(var(--font-scale) * var(--font-size));}
`}}),this.setState({inheritableFontSizesString:r})};setMobileOffsets=()=>{if(le)return;if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}if(!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let i=Ql(e.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:["ul","ul.lineated","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","blockquote","small-caps","match:audio-player","match:shop-product",".quick-view",".quick-view .caption",".quick-view .caption-background",".mobile .quick-view",".mobile .quick-view .caption"]},{properties:["margin-top","margin-right","margin-bottom","margin-left"],allowList:[".content",".mobile .content"]}]);this.setState({mobileOffsetsString:i})};getIsolatedStyleSheet=Yn.default.once(e=>{let i=document.implementation.createDocument("http://www.w3.org/1999/xhtml","body",null),r=document.createElement("style");return r.innerHTML=e,i.children[0].appendChild(r),r})};K5=yn(De(zse,qse)((0,j5.frontloadConnect)(Fse,{onMount:!0,onUpdate:!1})(Qx)))});var X5,Z5=T(()=>{X5=he(vn(),1);X5.default.defaults.validateStatus=function(t){return t>=200&&t<300}});var Ag,Tg,J5,Q5=T(()=>{Ag=he(vn(),1);Ne();js();Tg=new Map,J5=t=>{let e;t.subscribe(()=>{let i=t.getState();if(!i.adminState||!i.adminState.crdt)return;let r=i.adminState.crdt.publishedAt;r!==e&&Tg.clear(),e=r})};le||(Ag.default.interceptors.request.use(async t=>{if(t.use_cache===!0){let e=Ag.default.getUri(t);Tg.has(e)?t.adapter=function(i){return Tg.get(e).cachedResponsePromise}:(t.cachedResponsePromise=new Promise((i,r)=>{t.resolveCachedResponsePromise=i,t.rejectCachedResponsePromise=r}),t.cachedResponsePromise.catch(i=>i),Tg.set(e,t))}return t}),Ag.default.interceptors.response.use(t=>(t.config.resolveCachedResponsePromise&&t.config.resolveCachedResponsePromise(t),t),t=>(t.config?.rejectCachedResponsePromise&&t.config.rejectCachedResponsePromise(t),Promise.reject(t))))});var eS,eq=T(()=>{eS=he(vn(),1);Ne();js();Ht();le||(eS.default.interceptors.request.use(async t=>{if(t.use_auth!==!1){let e=Mt?.getState();t.headers.Authorization===void 0&&e&&e.auth.data&&e.auth.data.access_token&&(t.headers.Authorization=`Bearer ${e.auth.data.access_token}`)}return t}),eS.default.interceptors.response.use(void 0,t=>(t.response?.status===403&&Mt.dispatch({type:Pe.AUTHENTICATE_USER_REJECTED,payload:{}}),Promise.reject(t))))});var tq=T(()=>{});var iq=T(()=>{});var rq,nq=T(()=>{hg();Rx();Lm();kx();Lx();rq={grid:Sn,columnized:Eo,slideshow:li,freeform:Bi,justify:_n}});var Hse={};var oq,sq=T(()=>{Ei();js();oq=he(db(),1);ai();Vb();Ht();Ft();nq();zi();Km();window.getClientAPI=()=>({actions:Ob,reducers:Wb,selectors:Qe,history:Kn,store:Mt,globals:Rb,addReduxMiddleWare:oq.addMiddleware,combineReducers:zn,galleryData:rq,editorOverlayAPI:qe,toggleOverlay:Ui.toggleOverlay,openOverlay:Ui.openOverlay,closeOverlay:Ui.closeOverlay})});var aq,lq,qFe,Mt,Kn,js=T(()=>{_e();ht();aq=he(Ch(),1);Yo();Ne();Mh();lq=he(xe(),1),qFe=he(vn(),1);aR();Ht();lR();Y5();Ti();Sr();Z5();Q5();eq();tq();iq();ne();!le&&Ai&&(sq(),wc(Hse));({store:Mt}=sR());if(!le){Kn=Th(),et.setupStore(Mt),J5(Mt);let t;try{t=localStorage.getItem("c3-auth")}catch(o){console.log("unable to retrieve stored auth",o)}let e=new URLSearchParams(window.location.search);if(e.has("auth"))try{Mt.dispatch({type:Pe.AUTHENTICATE_USER_FULFILLED,payload:{authenticated:!0,data:JSON.parse(e.get("auth"))}}),e.delete("auth");let o=e.toString();o.length>0&&(o="?"+o),window.history.replaceState({},document.title,window.location.origin+window.location.pathname+o)}catch(o){console.error("unable to use querystring auth",o)}else if(t)try{Mt.dispatch({type:Pe.AUTHENTICATE_USER_FULFILLED,payload:{authenticated:!0,data:JSON.parse(t)}})}catch(o){console.error("unable to retrieve stored auth",o)}window.history.scrollRestoration&&(window.history.scrollRestoration="manual");let i={};Kn.push=lq.default.wrap(Kn.push,function(o){i[window.location.pathname]=document.scrollingElement.scrollTop;var l=Array.prototype.slice.call(arguments);if(!l.some(u=>u.preventScrollReset===!0)){let u=Mt.getState().frontendState.activePID,c=null,d=Mt.subscribe(()=>{if(clearTimeout(c),Mt.getState().frontendState.activePID!==u){document.scrollingElement.scrollTo(0,0);let f=document.scrollingElement.scrollHeight;Yb(10,()=>{let g=document.scrollingElement.scrollHeight;f!==g&&(document.scrollingElement.scrollTo(0,0),f=g)}),d()}else c=setTimeout(()=>{d()},4e3)})}l.shift(),o.apply(this,l)}),window.addEventListener("popstate",o=>{let l=window.location.pathname,u=Kn.location.pathname;i[u]=document.scrollingElement.scrollTop;let c=Mt.getState().frontendState.activePID,d=Mt.subscribe(()=>{if(Mt.getState().frontendState.activePID!==c&&i[l]){let f=Mt.getState().frontendState.activePID;setTimeout(async()=>{let g=0,v=!0;for(;v&&Mt.getState().frontendState.activePID===f;)g>10&&(v=!1),document.scrollingElement.scrollHeight>=i[l]&&(document.scrollingElement.scrollTop=i[l],v=!1),g++,await new Promise(S=>setTimeout(S,100))}),d()}})});let r=m(Xv,{store:Mt,children:m(Cs,{history:Kn,children:m(aq.Frontload,{noServerRender:!0,children:m(K5,{})})})}),n=document.body;n.querySelector(".content")!==null?Cc(r,n):xs(r,n),requestAnimationFrame(()=>{document.body.style.opacity=""})}});js();export{Kn as history,Mt as store};
/*! lightbox - v1.0.0 Build date: 2017-10-10
	Wrapper for PhotoSwipe (http://photoswipe.com) Copyright (c) 2015 Dmitry Semenov
	*/
/*! PhotoSwipe - v4.1.2 - 2017-04-05
* http://photoswipe.com
* Copyright (c) 2017 Dmitry Semenov; */
/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24
 * http://photoswipe.com
 * Copyright (c) 2015 Dmitry Semenov; */
/*! Bundled license information:

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
//# sourceMappingURL=https://build.cargo.site/frontend/4ae1a0/index.js.map
